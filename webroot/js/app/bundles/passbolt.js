System.bundles={},define("stealconfig.js",function(e,t,n){steal.config({main:"passbolt",map:{"jquery/jquery":"jquery",urijs:"node_modules/urijs/src"},paths:{can:"node_modules/can/can.js","can/*":"node_modules/can/*.js",jquery:"node_modules/jquery/dist/jquery.js",moment:"node_modules/moment/moment.js","moment-timezone":"node_modules/moment-timezone/moment-timezone.js",sha1:"node_modules/jssha/src/sha.js",underscore:"node_modules/underscore/underscore.js",xregexp:"node_modules/xregexp/xregexp-all.js","passbolt-mad":"node_modules/passbolt-mad/passbolt-mad.js","passbolt-mad/*":"node_modules/passbolt-mad/*.js"},meta:{mocha:{format:"global",exports:"mocha",deps:["steal-mocha/add-dom"]}},ext:{ejs:"passbolt-mad/lib/can/viewEjsSystem"}}),System.config({buildConfig:{map:{"can/util/util":"can/util/domless/domless"}}})}),function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t="length"in e&&e.length,n=Q.type(e);return"function"!==n&&!Q.isWindow(e)&&(!(1!==e.nodeType||!t)||"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function s(e,t,n){if(Q.isFunction(t))return Q.grep(e,function(e,s){return!!t.call(e,s,e)!==n});if(t.nodeType)return Q.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(re.test(t))return Q.filter(t,e,n);t=Q.filter(t,e)}return Q.grep(e,function(e){return H.call(t,e)>=0!==n})}function i(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function r(e){var t=ce[e]={};return Q.each(e.match(le)||[],function(e,n){t[n]=!0}),t}function a(){J.removeEventListener("DOMContentLoaded",a,!1),e.removeEventListener("load",a,!1),Q.ready()}function o(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=Q.expando+o.uid++}function u(e,t,n){var s;if(void 0===n&&1===e.nodeType)if(s="data-"+t.replace(ve,"-$1").toLowerCase(),"string"==typeof(n=e.getAttribute(s))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:_e.test(n)?Q.parseJSON(n):n)}catch(e){}he.set(e,t,n)}else n=void 0;return n}function d(){return!0}function l(){return!1}function c(){try{return J.activeElement}catch(e){}}function p(e,t){return Q.nodeName(e,"table")&&Q.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function f(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function m(e){var t=Oe.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function h(e,t){for(var n=0,s=e.length;n<s;n++)me.set(e[n],"globalEval",!t||me.get(t[n],"globalEval"))}function _(e,t){var n,s,i,r,a,o,u,d;if(1===t.nodeType){if(me.hasData(e)&&(r=me.access(e),a=me.set(t,r),d=r.events)){delete a.handle,a.events={};for(i in d)for(n=0,s=d[i].length;n<s;n++)Q.event.add(t,i,d[i][n])}he.hasData(e)&&(o=he.access(e),u=Q.extend({},o),he.set(t,u))}}function v(e,t){var n=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&Q.nodeName(e,t)?Q.merge([e],n):n}function g(e,t){var n=t.nodeName.toLowerCase();"input"===n&&ye.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function b(t,n){var s,i=Q(n.createElement(t)).appendTo(n.body),r=e.getDefaultComputedStyle&&(s=e.getDefaultComputedStyle(i[0]))?s.display:Q.css(i[0],"display");return i.detach(),r}function w(e){var t=J,n=De[e];return n||("none"!==(n=b(e,t))&&n||((t=(Re=(Re||Q("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement))[0].contentDocument).write(),t.close(),n=b(e,t),Re.detach()),De[e]=n),n}function y(e,t,n){var s,i,r,a,o=e.style;return(n=n||Fe(e))&&(a=n.getPropertyValue(t)||n[t]),n&&(""!==a||Q.contains(e.ownerDocument,e)||(a=Q.style(e,t)),Ue.test(a)&&Le.test(t)&&(s=o.width,i=o.minWidth,r=o.maxWidth,o.minWidth=o.maxWidth=o.width=a,a=n.width,o.width=s,o.minWidth=i,o.maxWidth=r)),void 0!==a?a+"":a}function x(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}function C(e,t){if(t in e)return t;for(var n=t[0].toUpperCase()+t.slice(1),s=t,i=He.length;i--;)if((t=He[i]+n)in e)return t;return s}function S(e,t,n){var s=Ve.exec(t);return s?Math.max(0,s[1]-(n||0))+(s[2]||"px"):t}function j(e,t,n,s,i){for(var r=n===(s?"border":"content")?4:"width"===t?1:0,a=0;r<4;r+=2)"margin"===n&&(a+=Q.css(e,n+be[r],!0,i)),s?("content"===n&&(a-=Q.css(e,"padding"+be[r],!0,i)),"margin"!==n&&(a-=Q.css(e,"border"+be[r]+"Width",!0,i))):(a+=Q.css(e,"padding"+be[r],!0,i),"padding"!==n&&(a+=Q.css(e,"border"+be[r]+"Width",!0,i)));return a}function k(e,t,n){var s=!0,i="width"===t?e.offsetWidth:e.offsetHeight,r=Fe(e),a="border-box"===Q.css(e,"boxSizing",!1,r);if(i<=0||null==i){if(((i=y(e,t,r))<0||null==i)&&(i=e.style[t]),Ue.test(i))return i;s=a&&(X.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+j(e,t,n||(a?"border":"content"),s,r)+"px"}function E(e,t){for(var n,s,i,r=[],a=0,o=e.length;a<o;a++)(s=e[a]).style&&(r[a]=me.get(s,"olddisplay"),n=s.style.display,t?(r[a]||"none"!==n||(s.style.display=""),""===s.style.display&&we(s)&&(r[a]=me.access(s,"olddisplay",w(s.nodeName)))):(i=we(s),"none"===n&&i||me.set(s,"olddisplay",i?n:Q.css(s,"display"))));for(a=0;a<o;a++)(s=e[a]).style&&(t&&"none"!==s.style.display&&""!==s.style.display||(s.style.display=t?r[a]||"":"none"));return e}function T(e,t,n,s,i){return new T.prototype.init(e,t,n,s,i)}function I(){return setTimeout(function(){Be=void 0}),Be=Q.now()}function M(e,t){var n,s=0,i={height:e};for(t=t?1:0;s<4;s+=2-t)i["margin"+(n=be[s])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function A(e,t,n){for(var s,i=(Ze[t]||[]).concat(Ze["*"]),r=0,a=i.length;r<a;r++)if(s=i[r].call(n,t,e))return s}function O(e,t){var n,s,i,r,a;for(n in e)if(s=Q.camelCase(n),i=t[s],r=e[n],Q.isArray(r)&&(i=r[1],r=e[n]=r[0]),n!==s&&(e[s]=r,delete e[n]),(a=Q.cssHooks[s])&&"expand"in a){r=a.expand(r),delete e[s];for(n in r)n in e||(e[n]=r[n],t[n]=i)}else t[s]=i}function P(e,t,n){var s,i,r=0,a=Qe.length,o=Q.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var t=Be||I(),n=Math.max(0,d.startTime+d.duration-t),s=1-(n/d.duration||0),r=0,a=d.tweens.length;r<a;r++)d.tweens[r].run(s);return o.notifyWith(e,[d,s,n]),s<1&&a?n:(o.resolveWith(e,[d]),!1)},d=o.promise({elem:e,props:Q.extend({},t),opts:Q.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Be||I(),duration:n.duration,tweens:[],createTween:function(t,n){var s=Q.Tween(e,d.opts,t,n,d.opts.specialEasing[t]||d.opts.easing);return d.tweens.push(s),s},stop:function(t){var n=0,s=t?d.tweens.length:0;if(i)return this;for(i=!0;n<s;n++)d.tweens[n].run(1);return t?o.resolveWith(e,[d,t]):o.rejectWith(e,[d,t]),this}}),l=d.props;for(O(l,d.opts.specialEasing);r<a;r++)if(s=Qe[r].call(d,e,l,d.opts))return s;return Q.map(l,A,d),Q.isFunction(d.opts.start)&&d.opts.start.call(e,d),Q.fx.timer(Q.extend(u,{elem:e,anim:d,queue:d.opts.queue})),d.progress(d.opts.progress).done(d.opts.done,d.opts.complete).fail(d.opts.fail).always(d.opts.always)}function N(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var s,i=0,r=t.toLowerCase().match(le)||[];if(Q.isFunction(n))for(;s=r[i++];)"+"===s[0]?(s=s.slice(1)||"*",(e[s]=e[s]||[]).unshift(n)):(e[s]=e[s]||[]).push(n)}}function R(e,t,n,s){function i(o){var u;return r[o]=!0,Q.each(e[o]||[],function(e,o){var d=o(t,n,s);return"string"!=typeof d||a||r[d]?a?!(u=d):void 0:(t.dataTypes.unshift(d),i(d),!1)}),u}var r={},a=e===ft;return i(t.dataTypes[0])||!r["*"]&&i("*")}function D(e,t){var n,s,i=Q.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:s||(s={}))[n]=t[n]);return s&&Q.extend(!0,e,s),e}function L(e,t,n){for(var s,i,r,a,o=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===s&&(s=e.mimeType||t.getResponseHeader("Content-Type"));if(s)for(i in o)if(o[i]&&o[i].test(s)){u.unshift(i);break}if(u[0]in n)r=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){r=i;break}a||(a=i)}r=r||a}if(r)return r!==u[0]&&u.unshift(r),n[r]}function U(e,t,n,s){var i,r,a,o,u,d={},l=e.dataTypes.slice();if(l[1])for(a in e.converters)d[a.toLowerCase()]=e.converters[a];for(r=l.shift();r;)if(e.responseFields[r]&&(n[e.responseFields[r]]=t),!u&&s&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=r,r=l.shift())if("*"===r)r=u;else if("*"!==u&&u!==r){if(!(a=d[u+" "+r]||d["* "+r]))for(i in d)if((o=i.split(" "))[1]===r&&(a=d[u+" "+o[0]]||d["* "+o[0]])){!0===a?a=d[i]:!0!==d[i]&&(r=o[0],l.unshift(o[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+r}}}return{state:"success",data:t}}function F(e,t,n,s){var i;if(Q.isArray(t))Q.each(t,function(t,i){n||gt.test(e)?s(e,i):F(e+"["+("object"==typeof i?t:"")+"]",i,n,s)});else if(n||"object"!==Q.type(t))s(e,t);else for(i in t)F(e+"["+i+"]",t[i],n,s)}function $(e){return Q.isWindow(e)?e:9===e.nodeType&&e.defaultView}var V=[],z=V.slice,G=V.concat,q=V.push,H=V.indexOf,B={},W=B.toString,Y=B.hasOwnProperty,X={},J=e.document,Q=function(e,t){return new Q.fn.init(e,t)},Z=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,K=/^-ms-/,ee=/-([\da-z])/gi,te=function(e,t){return t.toUpperCase()};Q.fn=Q.prototype={jquery:"2.1.4",constructor:Q,selector:"",length:0,toArray:function(){return z.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:z.call(this)},pushStack:function(e){var t=Q.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return Q.each(this,e,t)},map:function(e){return this.pushStack(Q.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(z.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:q,sort:V.sort,splice:V.splice},Q.extend=Q.fn.extend=function(){var e,t,n,s,i,r,a=arguments[0]||{},o=1,u=arguments.length,d=!1;for("boolean"==typeof a&&(d=a,a=arguments[o]||{},o++),"object"==typeof a||Q.isFunction(a)||(a={}),o===u&&(a=this,o--);o<u;o++)if(null!=(e=arguments[o]))for(t in e)n=a[t],a!==(s=e[t])&&(d&&s&&(Q.isPlainObject(s)||(i=Q.isArray(s)))?(i?(i=!1,r=n&&Q.isArray(n)?n:[]):r=n&&Q.isPlainObject(n)?n:{},a[t]=Q.extend(d,r,s)):void 0!==s&&(a[t]=s));return a},Q.extend({expando:"jQuery"+("2.1.4"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===Q.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!Q.isArray(e)&&e-parseFloat(e)+1>=0},isPlainObject:function(e){return!("object"!==Q.type(e)||e.nodeType||Q.isWindow(e)||e.constructor&&!Y.call(e.constructor.prototype,"isPrototypeOf"))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?B[W.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;(e=Q.trim(e))&&(1===e.indexOf("use strict")?((t=J.createElement("script")).text=e,J.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(K,"ms-").replace(ee,te)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,s){var i=0,r=e.length,a=n(e);if(s){if(a)for(;i<r&&!1!==t.apply(e[i],s);i++);else for(i in e)if(!1===t.apply(e[i],s))break}else if(a)for(;i<r&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},trim:function(e){return null==e?"":(e+"").replace(Z,"")},makeArray:function(e,t){var s=t||[];return null!=e&&(n(Object(e))?Q.merge(s,"string"==typeof e?[e]:e):q.call(s,e)),s},inArray:function(e,t,n){return null==t?-1:H.call(t,e,n)},merge:function(e,t){for(var n=+t.length,s=0,i=e.length;s<n;s++)e[i++]=t[s];return e.length=i,e},grep:function(e,t,n){for(var s=[],i=0,r=e.length,a=!n;i<r;i++)!t(e[i],i)!==a&&s.push(e[i]);return s},map:function(e,t,s){var i,r=0,a=e.length,o=[];if(n(e))for(;r<a;r++)null!=(i=t(e[r],r,s))&&o.push(i);else for(r in e)null!=(i=t(e[r],r,s))&&o.push(i);return G.apply([],o)},guid:1,proxy:function(e,t){var n,s,i;if("string"==typeof t&&(n=e[t],t=e,e=n),Q.isFunction(e))return s=z.call(arguments,2),i=function(){return e.apply(t||this,s.concat(z.call(arguments)))},i.guid=e.guid=e.guid||Q.guid++,i},now:Date.now,support:X}),Q.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){B["[object "+t+"]"]=t.toLowerCase()});var ne=function(e){function t(e,t,n,s){var i,r,a,o,d,c,p,f,m,h;if((t?t.ownerDocument||t:U)!==M&&I(t),t=t||M,n=n||[],o=t.nodeType,"string"!=typeof e||!e||1!==o&&9!==o&&11!==o)return n;if(!s&&O){if(11!==o&&(i=_e.exec(e)))if(a=i[1]){if(9===o){if(!(r=t.getElementById(a))||!r.parentNode)return n;if(r.id===a)return n.push(r),n}else if(t.ownerDocument&&(r=t.ownerDocument.getElementById(a))&&D(t,r)&&r.id===a)return n.push(r),n}else{if(i[2])return J.apply(n,t.getElementsByTagName(e)),n;if((a=i[3])&&b.getElementsByClassName)return J.apply(n,t.getElementsByClassName(a)),n}if(b.qsa&&(!P||!P.test(e))){if(f=p=L,m=t,h=1!==o&&e,1===o&&"object"!==t.nodeName.toLowerCase()){for(c=C(e),(p=t.getAttribute("id"))?f=p.replace(ge,"\\$&"):t.setAttribute("id",f),f="[id='"+f+"'] ",d=c.length;d--;)c[d]=f+l(c[d]);m=ve.test(e)&&u(t.parentNode)||t,h=c.join(",")}if(h)try{return J.apply(n,m.querySelectorAll(h)),n}catch(e){}finally{p||t.removeAttribute("id")}}}return j(e.replace(ae,"$1"),t,n,s)}function n(){function e(n,s){return t.push(n+" ")>w.cacheLength&&delete e[t.shift()],e[n+" "]=s}var t=[];return e}function s(e){return e[L]=!0,e}function i(e){var t=M.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function r(e,t){for(var n=e.split("|"),s=e.length;s--;)w.attrHandle[n[s]]=t}function a(e,t){var n=t&&e,s=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||H)-(~e.sourceIndex||H);if(s)return s;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function o(e){return s(function(t){return t=+t,s(function(n,s){for(var i,r=e([],n.length,t),a=r.length;a--;)n[i=r[a]]&&(n[i]=!(s[i]=n[i]))})})}function u(e){return e&&void 0!==e.getElementsByTagName&&e}function d(){}function l(e){for(var t=0,n=e.length,s="";t<n;t++)s+=e[t].value;return s}function c(e,t,n){var s=t.dir,i=n&&"parentNode"===s,r=$++;return t.first?function(t,n,r){for(;t=t[s];)if(1===t.nodeType||i)return e(t,n,r)}:function(t,n,a){var o,u,d=[F,r];if(a){for(;t=t[s];)if((1===t.nodeType||i)&&e(t,n,a))return!0}else for(;t=t[s];)if(1===t.nodeType||i){if(u=t[L]||(t[L]={}),(o=u[s])&&o[0]===F&&o[1]===r)return d[2]=o[2];if(u[s]=d,d[2]=e(t,n,a))return!0}}}function p(e){return e.length>1?function(t,n,s){for(var i=e.length;i--;)if(!e[i](t,n,s))return!1;return!0}:e[0]}function f(e,n,s){for(var i=0,r=n.length;i<r;i++)t(e,n[i],s);return s}function m(e,t,n,s,i){for(var r,a=[],o=0,u=e.length,d=null!=t;o<u;o++)(r=e[o])&&(n&&!n(r,s,i)||(a.push(r),d&&t.push(o)));return a}function h(e,t,n,i,r,a){return i&&!i[L]&&(i=h(i)),r&&!r[L]&&(r=h(r,a)),s(function(s,a,o,u){var d,l,c,p=[],h=[],_=a.length,v=s||f(t||"*",o.nodeType?[o]:o,[]),g=!e||!s&&t?v:m(v,p,e,o,u),b=n?r||(s?e:_||i)?[]:a:g;if(n&&n(g,b,o,u),i)for(d=m(b,h),i(d,[],o,u),l=d.length;l--;)(c=d[l])&&(b[h[l]]=!(g[h[l]]=c));if(s){if(r||e){if(r){for(d=[],l=b.length;l--;)(c=b[l])&&d.push(g[l]=c);r(null,b=[],d,u)}for(l=b.length;l--;)(c=b[l])&&(d=r?Z(s,c):p[l])>-1&&(s[d]=!(a[d]=c))}}else b=m(b===a?b.splice(_,b.length):b),r?r(null,a,b,u):J.apply(a,b)})}function _(e){for(var t,n,s,i=e.length,r=w.relative[e[0].type],a=r||w.relative[" "],o=r?1:0,u=c(function(e){return e===t},a,!0),d=c(function(e){return Z(t,e)>-1},a,!0),f=[function(e,n,s){var i=!r&&(s||n!==k)||((t=n).nodeType?u(e,n,s):d(e,n,s));return t=null,i}];o<i;o++)if(n=w.relative[e[o].type])f=[c(p(f),n)];else{if((n=w.filter[e[o].type].apply(null,e[o].matches))[L]){for(s=++o;s<i&&!w.relative[e[s].type];s++);return h(o>1&&p(f),o>1&&l(e.slice(0,o-1).concat({value:" "===e[o-2].type?"*":""})).replace(ae,"$1"),n,o<s&&_(e.slice(o,s)),s<i&&_(e=e.slice(s)),s<i&&l(e))}f.push(n)}return p(f)}function v(e,n){var i=n.length>0,r=e.length>0,a=function(s,a,o,u,d){var l,c,p,f=0,h="0",_=s&&[],v=[],g=k,b=s||r&&w.find.TAG("*",d),y=F+=null==g?1:Math.random()||.1,x=b.length;for(d&&(k=a!==M&&a);h!==x&&null!=(l=b[h]);h++){if(r&&l){for(c=0;p=e[c++];)if(p(l,a,o)){u.push(l);break}d&&(F=y)}i&&((l=!p&&l)&&f--,s&&_.push(l))}if(f+=h,i&&h!==f){for(c=0;p=n[c++];)p(_,v,a,o);if(s){if(f>0)for(;h--;)_[h]||v[h]||(v[h]=Y.call(u));v=m(v)}J.apply(u,v),d&&!s&&v.length>0&&f+n.length>1&&t.uniqueSort(u)}return d&&(F=y,k=g),_};return i?s(a):a}var g,b,w,y,x,C,S,j,k,E,T,I,M,A,O,P,N,R,D,L="sizzle"+1*new Date,U=e.document,F=0,$=0,V=n(),z=n(),G=n(),q=function(e,t){return e===t&&(T=!0),0},H=1<<31,B={}.hasOwnProperty,W=[],Y=W.pop,X=W.push,J=W.push,Q=W.slice,Z=function(e,t){for(var n=0,s=e.length;n<s;n++)if(e[n]===t)return n;return-1},K="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ee="[\\x20\\t\\r\\n\\f]",te="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ne=te.replace("w","w#"),se="\\["+ee+"*("+te+")(?:"+ee+"*([*^$|!~]?=)"+ee+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ne+"))|)"+ee+"*\\]",ie=":("+te+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+se+")*)|.*)\\)|)",re=new RegExp(ee+"+","g"),ae=new RegExp("^"+ee+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ee+"+$","g"),oe=new RegExp("^"+ee+"*,"+ee+"*"),ue=new RegExp("^"+ee+"*([>+~]|"+ee+")"+ee+"*"),de=new RegExp("="+ee+"*([^\\]'\"]*?)"+ee+"*\\]","g"),le=new RegExp(ie),ce=new RegExp("^"+ne+"$"),pe={ID:new RegExp("^#("+te+")"),CLASS:new RegExp("^\\.("+te+")"),TAG:new RegExp("^("+te.replace("w","w*")+")"),ATTR:new RegExp("^"+se),PSEUDO:new RegExp("^"+ie),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ee+"*(even|odd|(([+-]|)(\\d*)n|)"+ee+"*(?:([+-]|)"+ee+"*(\\d+)|))"+ee+"*\\)|)","i"),bool:new RegExp("^(?:"+K+")$","i"),needsContext:new RegExp("^"+ee+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ee+"*((?:-\\d)?\\d*)"+ee+"*\\)|)(?=[^-]|$)","i")},fe=/^(?:input|select|textarea|button)$/i,me=/^h\d$/i,he=/^[^{]+\{\s*\[native \w/,_e=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ve=/[+~]/,ge=/'|\\/g,be=new RegExp("\\\\([\\da-f]{1,6}"+ee+"?|("+ee+")|.)","ig"),we=function(e,t,n){var s="0x"+t-65536;return s!==s||n?t:s<0?String.fromCharCode(s+65536):String.fromCharCode(s>>10|55296,1023&s|56320)},ye=function(){I()};try{J.apply(W=Q.call(U.childNodes),U.childNodes),W[U.childNodes.length].nodeType}catch(e){J={apply:W.length?function(e,t){X.apply(e,Q.call(t))}:function(e,t){for(var n=e.length,s=0;e[n++]=t[s++];);e.length=n-1}}}b=t.support={},x=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},I=t.setDocument=function(e){var t,n,s=e?e.ownerDocument||e:U;return s!==M&&9===s.nodeType&&s.documentElement?(M=s,A=s.documentElement,(n=s.defaultView)&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",ye,!1):n.attachEvent&&n.attachEvent("onunload",ye)),O=!x(s),b.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),b.getElementsByTagName=i(function(e){return e.appendChild(s.createComment("")),!e.getElementsByTagName("*").length}),b.getElementsByClassName=he.test(s.getElementsByClassName),b.getById=i(function(e){return A.appendChild(e).id=L,!s.getElementsByName||!s.getElementsByName(L).length}),b.getById?(w.find.ID=function(e,t){if(void 0!==t.getElementById&&O){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},w.filter.ID=function(e){var t=e.replace(be,we);return function(e){return e.getAttribute("id")===t}}):(delete w.find.ID,w.filter.ID=function(e){var t=e.replace(be,we);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),w.find.TAG=b.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):b.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,s=[],i=0,r=t.getElementsByTagName(e);if("*"===e){for(;n=r[i++];)1===n.nodeType&&s.push(n);return s}return r},w.find.CLASS=b.getElementsByClassName&&function(e,t){if(O)return t.getElementsByClassName(e)},N=[],P=[],(b.qsa=he.test(s.querySelectorAll))&&(i(function(e){A.appendChild(e).innerHTML="<a id='"+L+"'></a><select id='"+L+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&P.push("[*^$]="+ee+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||P.push("\\["+ee+"*(?:value|"+K+")"),e.querySelectorAll("[id~="+L+"-]").length||P.push("~="),e.querySelectorAll(":checked").length||P.push(":checked"),e.querySelectorAll("a#"+L+"+*").length||P.push(".#.+[+~]")}),i(function(e){var t=s.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&P.push("name"+ee+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||P.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),P.push(",.*:")})),(b.matchesSelector=he.test(R=A.matches||A.webkitMatchesSelector||A.mozMatchesSelector||A.oMatchesSelector||A.msMatchesSelector))&&i(function(e){b.disconnectedMatch=R.call(e,"div"),R.call(e,"[s!='']:x"),N.push("!=",ie)}),P=P.length&&new RegExp(P.join("|")),N=N.length&&new RegExp(N.join("|")),t=he.test(A.compareDocumentPosition),D=t||he.test(A.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,s=t&&t.parentNode;return e===s||!(!s||1!==s.nodeType||!(n.contains?n.contains(s):e.compareDocumentPosition&&16&e.compareDocumentPosition(s)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},q=t?function(e,t){if(e===t)return T=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!b.sortDetached&&t.compareDocumentPosition(e)===n?e===s||e.ownerDocument===U&&D(U,e)?-1:t===s||t.ownerDocument===U&&D(U,t)?1:E?Z(E,e)-Z(E,t):0:4&n?-1:1)}:function(e,t){if(e===t)return T=!0,0;var n,i=0,r=e.parentNode,o=t.parentNode,u=[e],d=[t];if(!r||!o)return e===s?-1:t===s?1:r?-1:o?1:E?Z(E,e)-Z(E,t):0;if(r===o)return a(e,t);for(n=e;n=n.parentNode;)u.unshift(n);for(n=t;n=n.parentNode;)d.unshift(n);for(;u[i]===d[i];)i++;return i?a(u[i],d[i]):u[i]===U?-1:d[i]===U?1:0},s):M},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==M&&I(e),n=n.replace(de,"='$1']"),b.matchesSelector&&O&&(!N||!N.test(n))&&(!P||!P.test(n)))try{var s=R.call(e,n);if(s||b.disconnectedMatch||e.document&&11!==e.document.nodeType)return s}catch(e){}return t(n,M,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==M&&I(e),D(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==M&&I(e);var n=w.attrHandle[t.toLowerCase()],s=n&&B.call(w.attrHandle,t.toLowerCase())?n(e,t,!O):void 0;return void 0!==s?s:b.attributes||!O?e.getAttribute(t):(s=e.getAttributeNode(t))&&s.specified?s.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],s=0,i=0;if(T=!b.detectDuplicates,E=!b.sortStable&&e.slice(0),e.sort(q),T){for(;t=e[i++];)t===e[i]&&(s=n.push(i));for(;s--;)e.splice(n[s],1)}return E=null,e},y=t.getText=function(e){var t,n="",s=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=y(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[s++];)n+=y(t);return n},(w=t.selectors={cacheLength:50,createPseudo:s,match:pe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(be,we),e[3]=(e[3]||e[4]||e[5]||"").replace(be,we),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return pe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&le.test(n)&&(t=C(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(be,we).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=V[e+" "];return t||(t=new RegExp("(^|"+ee+")"+e+"("+ee+"|$)"))&&V(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,s){return function(i){var r=t.attr(i,e);return null==r?"!="===n:!n||(r+="","="===n?r===s:"!="===n?r!==s:"^="===n?s&&0===r.indexOf(s):"*="===n?s&&r.indexOf(s)>-1:"$="===n?s&&r.slice(-s.length)===s:"~="===n?(" "+r.replace(re," ")+" ").indexOf(s)>-1:"|="===n&&(r===s||r.slice(0,s.length+1)===s+"-"))}},CHILD:function(e,t,n,s,i){var r="nth"!==e.slice(0,3),a="last"!==e.slice(-4),o="of-type"===t;return 1===s&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var d,l,c,p,f,m,h=r!==a?"nextSibling":"previousSibling",_=t.parentNode,v=o&&t.nodeName.toLowerCase(),g=!u&&!o;if(_){if(r){for(;h;){for(c=t;c=c[h];)if(o?c.nodeName.toLowerCase()===v:1===c.nodeType)return!1;m=h="only"===e&&!m&&"nextSibling"}return!0}if(m=[a?_.firstChild:_.lastChild],a&&g){for(f=(d=(l=_[L]||(_[L]={}))[e]||[])[0]===F&&d[1],p=d[0]===F&&d[2],c=f&&_.childNodes[f];c=++f&&c&&c[h]||(p=f=0)||m.pop();)if(1===c.nodeType&&++p&&c===t){l[e]=[F,f,p];break}}else if(g&&(d=(t[L]||(t[L]={}))[e])&&d[0]===F)p=d[1];else for(;(c=++f&&c&&c[h]||(p=f=0)||m.pop())&&((o?c.nodeName.toLowerCase()!==v:1!==c.nodeType)||!++p||(g&&((c[L]||(c[L]={}))[e]=[F,p]),c!==t)););return(p-=i)===s||p%s==0&&p/s>=0}}},PSEUDO:function(e,n){var i,r=w.pseudos[e]||w.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return r[L]?r(n):r.length>1?(i=[e,e,"",n],w.setFilters.hasOwnProperty(e.toLowerCase())?s(function(e,t){for(var s,i=r(e,n),a=i.length;a--;)e[s=Z(e,i[a])]=!(t[s]=i[a])}):function(e){return r(e,0,i)}):r}},pseudos:{not:s(function(e){var t=[],n=[],i=S(e.replace(ae,"$1"));return i[L]?s(function(e,t,n,s){for(var r,a=i(e,null,s,[]),o=e.length;o--;)(r=a[o])&&(e[o]=!(t[o]=r))}):function(e,s,r){return t[0]=e,i(t,null,r,n),t[0]=null,!n.pop()}}),has:s(function(e){return function(n){return t(e,n).length>0}}),contains:s(function(e){return e=e.replace(be,we),function(t){return(t.textContent||t.innerText||y(t)).indexOf(e)>-1}}),lang:s(function(e){return ce.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(be,we).toLowerCase(),function(t){var n;do{if(n=O?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===A},focus:function(e){return e===M.activeElement&&(!M.hasFocus||M.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!w.pseudos.empty(e)},header:function(e){return me.test(e.nodeName)},input:function(e){return fe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:o(function(){return[0]}),last:o(function(e,t){return[t-1]}),eq:o(function(e,t,n){return[n<0?n+t:n]}),even:o(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:o(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:o(function(e,t,n){for(var s=n<0?n+t:n;--s>=0;)e.push(s);return e}),gt:o(function(e,t,n){for(var s=n<0?n+t:n;++s<t;)e.push(s);return e})}}).pseudos.nth=w.pseudos.eq;for(g in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[g]=function(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}(g);for(g in{submit:!0,reset:!0})w.pseudos[g]=function(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}(g);return d.prototype=w.filters=w.pseudos,w.setFilters=new d,C=t.tokenize=function(e,n){var s,i,r,a,o,u,d,l=z[e+" "];if(l)return n?0:l.slice(0);for(o=e,u=[],d=w.preFilter;o;){s&&!(i=oe.exec(o))||(i&&(o=o.slice(i[0].length)||o),u.push(r=[])),s=!1,(i=ue.exec(o))&&(s=i.shift(),r.push({value:s,type:i[0].replace(ae," ")}),o=o.slice(s.length));for(a in w.filter)!(i=pe[a].exec(o))||d[a]&&!(i=d[a](i))||(s=i.shift(),r.push({value:s,type:a,matches:i}),o=o.slice(s.length));if(!s)break}return n?o.length:o?t.error(e):z(e,u).slice(0)},S=t.compile=function(e,t){var n,s=[],i=[],r=G[e+" "];if(!r){for(t||(t=C(e)),n=t.length;n--;)(r=_(t[n]))[L]?s.push(r):i.push(r);(r=G(e,v(i,s))).selector=e}return r},j=t.select=function(e,t,n,s){var i,r,a,o,d,c="function"==typeof e&&e,p=!s&&C(e=c.selector||e);if(n=n||[],1===p.length){if((r=p[0]=p[0].slice(0)).length>2&&"ID"===(a=r[0]).type&&b.getById&&9===t.nodeType&&O&&w.relative[r[1].type]){if(!(t=(w.find.ID(a.matches[0].replace(be,we),t)||[])[0]))return n;c&&(t=t.parentNode),e=e.slice(r.shift().value.length)}for(i=pe.needsContext.test(e)?0:r.length;i--&&(a=r[i],!w.relative[o=a.type]);)if((d=w.find[o])&&(s=d(a.matches[0].replace(be,we),ve.test(r[0].type)&&u(t.parentNode)||t))){if(r.splice(i,1),!(e=s.length&&l(r)))return J.apply(n,s),n;break}}return(c||S(e,p))(s,t,!O,n,ve.test(e)&&u(t.parentNode)||t),n},b.sortStable=L.split("").sort(q).join("")===L,b.detectDuplicates=!!T,I(),b.sortDetached=i(function(e){return 1&e.compareDocumentPosition(M.createElement("div"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||r("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),b.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||r("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||r(K,function(e,t,n){var s;if(!n)return!0===e[t]?t.toLowerCase():(s=e.getAttributeNode(t))&&s.specified?s.value:null}),t}(e);Q.find=ne,Q.expr=ne.selectors,Q.expr[":"]=Q.expr.pseudos,Q.unique=ne.uniqueSort,Q.text=ne.getText,Q.isXMLDoc=ne.isXML,Q.contains=ne.contains;var se=Q.expr.match.needsContext,ie=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,re=/^.[^:#\[\.,]*$/;Q.filter=function(e,t,n){var s=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===s.nodeType?Q.find.matchesSelector(s,e)?[s]:[]:Q.find.matches(e,Q.grep(t,function(e){return 1===e.nodeType}))},Q.fn.extend({find:function(e){var t,n=this.length,s=[],i=this;if("string"!=typeof e)return this.pushStack(Q(e).filter(function(){for(t=0;t<n;t++)if(Q.contains(i[t],this))return!0}));for(t=0;t<n;t++)Q.find(e,i[t],s);return s=this.pushStack(n>1?Q.unique(s):s),s.selector=this.selector?this.selector+" "+e:e,s},filter:function(e){return this.pushStack(s(this,e||[],!1))},not:function(e){return this.pushStack(s(this,e||[],!0))},is:function(e){return!!s(this,"string"==typeof e&&se.test(e)?Q(e):e||[],!1).length}});var ae,oe=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(Q.fn.init=function(e,t){var n,s;if(!e)return this;if("string"==typeof e){if(!(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:oe.exec(e))||!n[1]&&t)return!t||t.jquery?(t||ae).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof Q?t[0]:t,Q.merge(this,Q.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:J,!0)),ie.test(n[1])&&Q.isPlainObject(t))for(n in t)Q.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return(s=J.getElementById(n[2]))&&s.parentNode&&(this.length=1,this[0]=s),this.context=J,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):Q.isFunction(e)?void 0!==ae.ready?ae.ready(e):e(Q):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),Q.makeArray(e,this))}).prototype=Q.fn,ae=Q(J);var ue=/^(?:parents|prev(?:Until|All))/,de={children:!0,contents:!0,next:!0,prev:!0};Q.extend({dir:function(e,t,n){for(var s=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&Q(e).is(n))break;s.push(e)}return s},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),Q.fn.extend({has:function(e){var t=Q(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(Q.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,s=0,i=this.length,r=[],a=se.test(e)||"string"!=typeof e?Q(e,t||this.context):0;s<i;s++)for(n=this[s];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&Q.find.matchesSelector(n,e))){r.push(n);break}return this.pushStack(r.length>1?Q.unique(r):r)},index:function(e){return e?"string"==typeof e?H.call(Q(e),this[0]):H.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(Q.unique(Q.merge(this.get(),Q(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),Q.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Q.dir(e,"parentNode")},parentsUntil:function(e,t,n){return Q.dir(e,"parentNode",n)},next:function(e){return i(e,"nextSibling")},prev:function(e){return i(e,"previousSibling")},nextAll:function(e){return Q.dir(e,"nextSibling")},prevAll:function(e){return Q.dir(e,"previousSibling")},nextUntil:function(e,t,n){return Q.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return Q.dir(e,"previousSibling",n)},siblings:function(e){return Q.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return Q.sibling(e.firstChild)},contents:function(e){return e.contentDocument||Q.merge([],e.childNodes)}},function(e,t){Q.fn[e]=function(n,s){var i=Q.map(this,t,n);return"Until"!==e.slice(-5)&&(s=n),s&&"string"==typeof s&&(i=Q.filter(s,i)),this.length>1&&(de[e]||Q.unique(i),ue.test(e)&&i.reverse()),this.pushStack(i)}});var le=/\S+/g,ce={};Q.Callbacks=function(e){var t,n,s,i,a,o,u=[],d=!(e="string"==typeof e?ce[e]||r(e):Q.extend({},e)).once&&[],l=function(r){for(t=e.memory&&r,n=!0,o=i||0,i=0,a=u.length,s=!0;u&&o<a;o++)if(!1===u[o].apply(r[0],r[1])&&e.stopOnFalse){t=!1;break}s=!1,u&&(d?d.length&&l(d.shift()):t?u=[]:c.disable())},c={add:function(){if(u){var n=u.length;!function t(n){Q.each(n,function(n,s){var i=Q.type(s);"function"===i?e.unique&&c.has(s)||u.push(s):s&&s.length&&"string"!==i&&t(s)})}(arguments),s?a=u.length:t&&(i=n,l(t))}return this},remove:function(){return u&&Q.each(arguments,function(e,t){for(var n;(n=Q.inArray(t,u,n))>-1;)u.splice(n,1),s&&(n<=a&&a--,n<=o&&o--)}),this},has:function(e){return e?Q.inArray(e,u)>-1:!(!u||!u.length)},empty:function(){return u=[],a=0,this},disable:function(){return u=d=t=void 0,this},disabled:function(){return!u},lock:function(){return d=void 0,t||c.disable(),this},locked:function(){return!d},fireWith:function(e,t){return!u||n&&!d||(t=[e,(t=t||[]).slice?t.slice():t],s?d.push(t):l(t)),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!n}};return c},Q.extend({Deferred:function(e){var t=[["resolve","done",Q.Callbacks("once memory"),"resolved"],["reject","fail",Q.Callbacks("once memory"),"rejected"],["notify","progress",Q.Callbacks("memory")]],n="pending",s={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return Q.Deferred(function(n){Q.each(t,function(t,r){var a=Q.isFunction(e[t])&&e[t];i[r[1]](function(){var e=a&&a.apply(this,arguments);e&&Q.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[r[0]+"With"](this===s?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?Q.extend(e,s):s}},i={};return s.pipe=s.then,Q.each(t,function(e,r){var a=r[2],o=r[3];s[r[1]]=a.add,o&&a.add(function(){n=o},t[1^e][2].disable,t[2][2].lock),i[r[0]]=function(){return i[r[0]+"With"](this===i?s:this,arguments),this},i[r[0]+"With"]=a.fireWith}),s.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,s,i=0,r=z.call(arguments),a=r.length,o=1!==a||e&&Q.isFunction(e.promise)?a:0,u=1===o?e:Q.Deferred(),d=function(e,n,s){return function(i){n[e]=this,s[e]=arguments.length>1?z.call(arguments):i,s===t?u.notifyWith(n,s):--o||u.resolveWith(n,s)}};if(a>1)for(t=new Array(a),n=new Array(a),s=new Array(a);i<a;i++)r[i]&&Q.isFunction(r[i].promise)?r[i].promise().done(d(i,s,r)).fail(u.reject).progress(d(i,n,t)):--o;return o||u.resolveWith(s,r),u.promise()}});var pe;Q.fn.ready=function(e){return Q.ready.promise().done(e),this},Q.extend({isReady:!1,readyWait:1,holdReady:function(e){e?Q.readyWait++:Q.ready(!0)},ready:function(e){(!0===e?--Q.readyWait:Q.isReady)||(Q.isReady=!0,!0!==e&&--Q.readyWait>0||(pe.resolveWith(J,[Q]),Q.fn.triggerHandler&&(Q(J).triggerHandler("ready"),Q(J).off("ready"))))}}),Q.ready.promise=function(t){return pe||(pe=Q.Deferred(),"complete"===J.readyState?setTimeout(Q.ready):(J.addEventListener("DOMContentLoaded",a,!1),e.addEventListener("load",a,!1))),pe.promise(t)},Q.ready.promise();var fe=Q.access=function(e,t,n,s,i,r,a){var o=0,u=e.length,d=null==n;if("object"===Q.type(n)){i=!0;for(o in n)Q.access(e,t,o,n[o],!0,r,a)}else if(void 0!==s&&(i=!0,Q.isFunction(s)||(a=!0),d&&(a?(t.call(e,s),t=null):(d=t,t=function(e,t,n){return d.call(Q(e),n)})),t))for(;o<u;o++)t(e[o],n,a?s:s.call(e[o],o,t(e[o],n)));return i?e:d?t.call(e):u?t(e[0],n):r};Q.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},o.uid=1,o.accepts=Q.acceptData,o.prototype={key:function(e){if(!o.accepts(e))return 0;var t={},n=e[this.expando];if(!n){n=o.uid++;try{t[this.expando]={value:n},Object.defineProperties(e,t)}catch(s){t[this.expando]=n,Q.extend(e,t)}}return this.cache[n]||(this.cache[n]={}),n},set:function(e,t,n){var s,i=this.key(e),r=this.cache[i];if("string"==typeof t)r[t]=n;else if(Q.isEmptyObject(r))Q.extend(this.cache[i],t);else for(s in t)r[s]=t[s];return r},get:function(e,t){var n=this.cache[this.key(e)];return void 0===t?n:n[t]},access:function(e,t,n){var s;return void 0===t||t&&"string"==typeof t&&void 0===n?void 0!==(s=this.get(e,t))?s:this.get(e,Q.camelCase(t)):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,s,i,r=this.key(e),a=this.cache[r];if(void 0===t)this.cache[r]={};else{Q.isArray(t)?s=t.concat(t.map(Q.camelCase)):(i=Q.camelCase(t),s=t in a?[t,i]:(s=i)in a?[s]:s.match(le)||[]),n=s.length;for(;n--;)delete a[s[n]]}},hasData:function(e){return!Q.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var me=new o,he=new o,_e=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ve=/([A-Z])/g;Q.extend({hasData:function(e){return he.hasData(e)||me.hasData(e)},data:function(e,t,n){return he.access(e,t,n)},removeData:function(e,t){he.remove(e,t)},_data:function(e,t,n){return me.access(e,t,n)},_removeData:function(e,t){me.remove(e,t)}}),Q.fn.extend({data:function(e,t){var n,s,i,r=this[0],a=r&&r.attributes;if(void 0===e){if(this.length&&(i=he.get(r),1===r.nodeType&&!me.get(r,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(s=a[n].name).indexOf("data-")&&(s=Q.camelCase(s.slice(5)),u(r,s,i[s]));me.set(r,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){he.set(this,e)}):fe(this,function(t){var n,s=Q.camelCase(e);if(r&&void 0===t){if(void 0!==(n=he.get(r,e)))return n;if(void 0!==(n=he.get(r,s)))return n;if(void 0!==(n=u(r,s,void 0)))return n}else this.each(function(){var n=he.get(this,s);he.set(this,s,t),-1!==e.indexOf("-")&&void 0!==n&&he.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){he.remove(this,e)})}}),Q.extend({queue:function(e,t,n){var s;if(e)return t=(t||"fx")+"queue",s=me.get(e,t),n&&(!s||Q.isArray(n)?s=me.access(e,t,Q.makeArray(n)):s.push(n)),s||[]},dequeue:function(e,t){t=t||"fx";var n=Q.queue(e,t),s=n.length,i=n.shift(),r=Q._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),s--),i&&("fx"===t&&n.unshift("inprogress"),delete r.stop,i.call(e,function(){Q.dequeue(e,t)},r)),!s&&r&&r.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return me.get(e,n)||me.access(e,n,{empty:Q.Callbacks("once memory").add(function(){me.remove(e,[t+"queue",n])})})}}),Q.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?Q.queue(this[0],e):void 0===t?this:this.each(function(){var n=Q.queue(this,e,t);Q._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&Q.dequeue(this,e)})},dequeue:function(e){return this.each(function(){Q.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,s=1,i=Q.Deferred(),r=this,a=this.length,o=function(){--s||i.resolveWith(r,[r])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=me.get(r[a],e+"queueHooks"))&&n.empty&&(s++,n.empty.add(o));return o(),i.promise(t)}});var ge=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,be=["Top","Right","Bottom","Left"],we=function(e,t){return e=t||e,"none"===Q.css(e,"display")||!Q.contains(e.ownerDocument,e)},ye=/^(?:checkbox|radio)$/i;!function(){var e=J.createDocumentFragment().appendChild(J.createElement("div")),t=J.createElement("input");t.setAttribute("type","radio"),t.setAttribute("checked","checked"),t.setAttribute("name","t"),e.appendChild(t),X.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",X.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}(),X.focusinBubbles="onfocusin"in e;var xe=/^key/,Ce=/^(?:mouse|pointer|contextmenu)|click/,Se=/^(?:focusinfocus|focusoutblur)$/,je=/^([^.]*)(?:\.(.+)|)$/;Q.event={global:{},add:function(e,t,n,s,i){var r,a,o,u,d,l,c,p,f,m,h,_=me.get(e);if(_)for(n.handler&&(n=(r=n).handler,i=r.selector),n.guid||(n.guid=Q.guid++),(u=_.events)||(u=_.events={}),(a=_.handle)||(a=_.handle=function(t){return void 0!==Q&&Q.event.triggered!==t.type?Q.event.dispatch.apply(e,arguments):void 0}),d=(t=(t||"").match(le)||[""]).length;d--;)f=h=(o=je.exec(t[d])||[])[1],m=(o[2]||"").split(".").sort(),f&&(c=Q.event.special[f]||{},f=(i?c.delegateType:c.bindType)||f,c=Q.event.special[f]||{},l=Q.extend({type:f,origType:h,data:s,handler:n,guid:n.guid,selector:i,needsContext:i&&Q.expr.match.needsContext.test(i),namespace:m.join(".")},r),(p=u[f])||((p=u[f]=[]).delegateCount=0,c.setup&&!1!==c.setup.call(e,s,m,a)||e.addEventListener&&e.addEventListener(f,a,!1)),c.add&&(c.add.call(e,l),l.handler.guid||(l.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,l):p.push(l),Q.event.global[f]=!0)},remove:function(e,t,n,s,i){var r,a,o,u,d,l,c,p,f,m,h,_=me.hasData(e)&&me.get(e);if(_&&(u=_.events)){for(d=(t=(t||"").match(le)||[""]).length;d--;)if(o=je.exec(t[d])||[],f=h=o[1],m=(o[2]||"").split(".").sort(),f){for(c=Q.event.special[f]||{},p=u[f=(s?c.delegateType:c.bindType)||f]||[],o=o[2]&&new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=r=p.length;r--;)l=p[r],!i&&h!==l.origType||n&&n.guid!==l.guid||o&&!o.test(l.namespace)||s&&s!==l.selector&&("**"!==s||!l.selector)||(p.splice(r,1),l.selector&&p.delegateCount--,c.remove&&c.remove.call(e,l));a&&!p.length&&(c.teardown&&!1!==c.teardown.call(e,m,_.handle)||Q.removeEvent(e,f,_.handle),delete u[f])}else for(f in u)Q.event.remove(e,f+t[d],n,s,!0);Q.isEmptyObject(u)&&(delete _.handle,me.remove(e,"events"))}},trigger:function(t,n,s,i){var r,a,o,u,d,l,c,p=[s||J],f=Y.call(t,"type")?t.type:t,m=Y.call(t,"namespace")?t.namespace.split("."):[];if(a=o=s=s||J,3!==s.nodeType&&8!==s.nodeType&&!Se.test(f+Q.event.triggered)&&(f.indexOf(".")>=0&&(f=(m=f.split(".")).shift(),m.sort()),d=f.indexOf(":")<0&&"on"+f,t=t[Q.expando]?t:new Q.Event(f,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=m.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=s),n=null==n?[t]:Q.makeArray(n,[t]),c=Q.event.special[f]||{},i||!c.trigger||!1!==c.trigger.apply(s,n))){if(!i&&!c.noBubble&&!Q.isWindow(s)){for(u=c.delegateType||f,Se.test(u+f)||(a=a.parentNode);a;a=a.parentNode)p.push(a),o=a;o===(s.ownerDocument||J)&&p.push(o.defaultView||o.parentWindow||e)}for(r=0;(a=p[r++])&&!t.isPropagationStopped();)t.type=r>1?u:c.bindType||f,(l=(me.get(a,"events")||{})[t.type]&&me.get(a,"handle"))&&l.apply(a,n),(l=d&&a[d])&&l.apply&&Q.acceptData(a)&&(t.result=l.apply(a,n),!1===t.result&&t.preventDefault());return t.type=f,i||t.isDefaultPrevented()||c._default&&!1!==c._default.apply(p.pop(),n)||!Q.acceptData(s)||d&&Q.isFunction(s[f])&&!Q.isWindow(s)&&((o=s[d])&&(s[d]=null),Q.event.triggered=f,s[f](),Q.event.triggered=void 0,o&&(s[d]=o)),t.result}},dispatch:function(e){e=Q.event.fix(e);var t,n,s,i,r,a=[],o=z.call(arguments),u=(me.get(this,"events")||{})[e.type]||[],d=Q.event.special[e.type]||{};if(o[0]=e,e.delegateTarget=this,!d.preDispatch||!1!==d.preDispatch.call(this,e)){for(a=Q.event.handlers.call(this,e,u),t=0;(i=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,n=0;(r=i.handlers[n++])&&!e.isImmediatePropagationStopped();)e.namespace_re&&!e.namespace_re.test(r.namespace)||(e.handleObj=r,e.data=r.data,void 0!==(s=((Q.event.special[r.origType]||{}).handle||r.handler).apply(i.elem,o))&&!1===(e.result=s)&&(e.preventDefault(),e.stopPropagation()));return d.postDispatch&&d.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,s,i,r,a=[],o=t.delegateCount,u=e.target;if(o&&u.nodeType&&(!e.button||"click"!==e.type))for(;u!==this;u=u.parentNode||this)if(!0!==u.disabled||"click"!==e.type){for(s=[],n=0;n<o;n++)void 0===s[i=(r=t[n]).selector+" "]&&(s[i]=r.needsContext?Q(i,this).index(u)>=0:Q.find(i,this,null,[u]).length),s[i]&&s.push(r);s.length&&a.push({elem:u,handlers:s})}return o<t.length&&a.push({elem:this,handlers:t.slice(o)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,s,i,r=t.button;return null==e.pageX&&null!=t.clientX&&(s=(n=e.target.ownerDocument||J).documentElement,i=n.body,e.pageX=t.clientX+(s&&s.scrollLeft||i&&i.scrollLeft||0)-(s&&s.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(s&&s.scrollTop||i&&i.scrollTop||0)-(s&&s.clientTop||i&&i.clientTop||0)),e.which||void 0===r||(e.which=1&r?1:2&r?3:4&r?2:0),e}},fix:function(e){if(e[Q.expando])return e;var t,n,s,i=e.type,r=e,a=this.fixHooks[i];for(a||(this.fixHooks[i]=a=Ce.test(i)?this.mouseHooks:xe.test(i)?this.keyHooks:{}),s=a.props?this.props.concat(a.props):this.props,e=new Q.Event(r),t=s.length;t--;)e[n=s[t]]=r[n];return e.target||(e.target=J),3===e.target.nodeType&&(e.target=e.target.parentNode),a.filter?a.filter(e,r):e},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==c()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===c()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&Q.nodeName(this,"input"))return this.click(),!1},_default:function(e){return Q.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,s){var i=Q.extend(new Q.Event,n,{type:e,isSimulated:!0,originalEvent:{}});s?Q.event.trigger(i,null,t):Q.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},Q.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},Q.Event=function(e,t){if(!(this instanceof Q.Event))return new Q.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?d:l):this.type=e,t&&Q.extend(this,t),this.timeStamp=e&&e.timeStamp||Q.now(),this[Q.expando]=!0},Q.Event.prototype={isDefaultPrevented:l,isPropagationStopped:l,isImmediatePropagationStopped:l,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=d,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=d,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=d,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},Q.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){Q.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,s=this,i=e.relatedTarget,r=e.handleObj;return i&&(i===s||Q.contains(s,i))||(e.type=r.origType,n=r.handler.apply(this,arguments),e.type=t),n}}}),X.focusinBubbles||Q.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){Q.event.simulate(t,e.target,Q.event.fix(e),!0)};Q.event.special[t]={setup:function(){var s=this.ownerDocument||this,i=me.access(s,t);i||s.addEventListener(e,n,!0),me.access(s,t,(i||0)+1)},teardown:function(){var s=this.ownerDocument||this,i=me.access(s,t)-1;i?me.access(s,t,i):(s.removeEventListener(e,n,!0),me.remove(s,t))}}}),Q.fn.extend({on:function(e,t,n,s,i){var r,a;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(a in e)this.on(a,t,n,e[a],i);return this}if(null==n&&null==s?(s=t,n=t=void 0):null==s&&("string"==typeof t?(s=n,n=void 0):(s=n,n=t,t=void 0)),!1===s)s=l;else if(!s)return this;return 1===i&&(r=s,(s=function(e){return Q().off(e),r.apply(this,arguments)}).guid=r.guid||(r.guid=Q.guid++)),this.each(function(){Q.event.add(this,e,s,n,t)})},one:function(e,t,n,s){return this.on(e,t,n,s,1)},off:function(e,t,n){var s,i;if(e&&e.preventDefault&&e.handleObj)return s=e.handleObj,Q(e.delegateTarget).off(s.namespace?s.origType+"."+s.namespace:s.origType,s.selector,s.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=l),this.each(function(){Q.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){Q.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return Q.event.trigger(e,t,n,!0)}});var ke=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ee=/<([\w:]+)/,Te=/<|&#?\w+;/,Ie=/<(?:script|style|link)/i,Me=/checked\s*(?:[^=]|=\s*.checked.)/i,Ae=/^$|\/(?:java|ecma)script/i,Oe=/^true\/(.*)/,Pe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Ne={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ne.optgroup=Ne.option,Ne.tbody=Ne.tfoot=Ne.colgroup=Ne.caption=Ne.thead,Ne.th=Ne.td,Q.extend({clone:function(e,t,n){var s,i,r,a,o=e.cloneNode(!0),u=Q.contains(e.ownerDocument,e);if(!(X.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||Q.isXMLDoc(e)))for(a=v(o),s=0,i=(r=v(e)).length;s<i;s++)g(r[s],a[s]);if(t)if(n)for(r=r||v(e),a=a||v(o),s=0,i=r.length;s<i;s++)_(r[s],a[s]);else _(e,o);return(a=v(o,"script")).length>0&&h(a,!u&&v(e,"script")),o},buildFragment:function(e,t,n,s){for(var i,r,a,o,u,d,l=t.createDocumentFragment(),c=[],p=0,f=e.length;p<f;p++)if((i=e[p])||0===i)if("object"===Q.type(i))Q.merge(c,i.nodeType?[i]:i);else if(Te.test(i)){for(r=r||l.appendChild(t.createElement("div")),a=(Ee.exec(i)||["",""])[1].toLowerCase(),o=Ne[a]||Ne._default,r.innerHTML=o[1]+i.replace(ke,"<$1></$2>")+o[2],d=o[0];d--;)r=r.lastChild;Q.merge(c,r.childNodes),(r=l.firstChild).textContent=""}else c.push(t.createTextNode(i));for(l.textContent="",p=0;i=c[p++];)if((!s||-1===Q.inArray(i,s))&&(u=Q.contains(i.ownerDocument,i),r=v(l.appendChild(i),"script"),u&&h(r),n))for(d=0;i=r[d++];)Ae.test(i.type||"")&&n.push(i);return l},cleanData:function(e){for(var t,n,s,i,r=Q.event.special,a=0;void 0!==(n=e[a]);a++){if(Q.acceptData(n)&&(i=n[me.expando])&&(t=me.cache[i])){if(t.events)for(s in t.events)r[s]?Q.event.remove(n,s):Q.removeEvent(n,s,t.handle);me.cache[i]&&delete me.cache[i]}delete he.cache[n[he.expando]]}}}),Q.fn.extend({text:function(e){return fe(this,function(e){return void 0===e?Q.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||p(this,e).appendChild(e)})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=p(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,s=e?Q.filter(e,this):this,i=0;null!=(n=s[i]);i++)t||1!==n.nodeType||Q.cleanData(v(n)),n.parentNode&&(t&&Q.contains(n.ownerDocument,n)&&h(v(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(Q.cleanData(v(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return Q.clone(this,e,t)})},html:function(e){return fe(this,function(e){var t=this[0]||{},n=0,s=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ie.test(e)&&!Ne[(Ee.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(ke,"<$1></$2>");try{for(;n<s;n++)1===(t=this[n]||{}).nodeType&&(Q.cleanData(v(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,Q.cleanData(v(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=G.apply([],e);var n,s,i,r,a,o,u=0,d=this.length,l=this,c=d-1,p=e[0],h=Q.isFunction(p);if(h||d>1&&"string"==typeof p&&!X.checkClone&&Me.test(p))return this.each(function(n){var s=l.eq(n);h&&(e[0]=p.call(this,n,s.html())),s.domManip(e,t)});if(d&&(n=Q.buildFragment(e,this[0].ownerDocument,!1,this),s=n.firstChild,1===n.childNodes.length&&(n=s),s)){for(r=(i=Q.map(v(n,"script"),f)).length;u<d;u++)a=n,u!==c&&(a=Q.clone(a,!0,!0),r&&Q.merge(i,v(a,"script"))),t.call(this[u],a,u);if(r)for(o=i[i.length-1].ownerDocument,Q.map(i,m),u=0;u<r;u++)a=i[u],Ae.test(a.type||"")&&!me.access(a,"globalEval")&&Q.contains(o,a)&&(a.src?Q._evalUrl&&Q._evalUrl(a.src):Q.globalEval(a.textContent.replace(Pe,"")))}return this}}),Q.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){Q.fn[e]=function(e){for(var n,s=[],i=Q(e),r=i.length-1,a=0;a<=r;a++)n=a===r?this:this.clone(!0),Q(i[a])[t](n),q.apply(s,n.get());return this.pushStack(s)}});var Re,De={},Le=/^margin/,Ue=new RegExp("^("+ge+")(?!px)[a-z%]+$","i"),Fe=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):e.getComputedStyle(t,null)};!function(){function t(){a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",a.innerHTML="",i.appendChild(r);var t=e.getComputedStyle(a,null);n="1%"!==t.top,s="4px"===t.width,i.removeChild(r)}var n,s,i=J.documentElement,r=J.createElement("div"),a=J.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",X.clearCloneStyle="content-box"===a.style.backgroundClip,r.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",r.appendChild(a),e.getComputedStyle&&Q.extend(X,{pixelPosition:function(){return t(),n},boxSizingReliable:function(){return null==s&&t(),s},reliableMarginRight:function(){var t,n=a.appendChild(J.createElement("div"));return n.style.cssText=a.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",a.style.width="1px",i.appendChild(r),t=!parseFloat(e.getComputedStyle(n,null).marginRight),i.removeChild(r),a.removeChild(n),t}}))}(),Q.swap=function(e,t,n,s){var i,r,a={};for(r in t)a[r]=e.style[r],e.style[r]=t[r];i=n.apply(e,s||[]);for(r in t)e.style[r]=a[r];return i};var $e=/^(none|table(?!-c[ea]).+)/,Ve=new RegExp("^("+ge+")(.*)$","i"),ze=new RegExp("^([+-])=("+ge+")","i"),Ge={position:"absolute",visibility:"hidden",display:"block"},qe={letterSpacing:"0",fontWeight:"400"},He=["Webkit","O","Moz","ms"];Q.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=y(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,n,s){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,r,a,o=Q.camelCase(t),u=e.style;if(t=Q.cssProps[o]||(Q.cssProps[o]=C(u,o)),a=Q.cssHooks[t]||Q.cssHooks[o],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,s))?i:u[t];"string"==(r=typeof n)&&(i=ze.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(Q.css(e,t)),r="number"),null!=n&&n===n&&("number"!==r||Q.cssNumber[o]||(n+="px"),X.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,s))||(u[t]=n))}},css:function(e,t,n,s){var i,r,a,o=Q.camelCase(t);return t=Q.cssProps[o]||(Q.cssProps[o]=C(e.style,o)),(a=Q.cssHooks[t]||Q.cssHooks[o])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=y(e,t,s)),"normal"===i&&t in qe&&(i=qe[t]),""===n||n?(r=parseFloat(i),!0===n||Q.isNumeric(r)?r||0:i):i}}),Q.each(["height","width"],function(e,t){Q.cssHooks[t]={get:function(e,n,s){if(n)return $e.test(Q.css(e,"display"))&&0===e.offsetWidth?Q.swap(e,Ge,function(){return k(e,t,s)}):k(e,t,s)},set:function(e,n,s){var i=s&&Fe(e);return S(0,n,s?j(e,t,s,"border-box"===Q.css(e,"boxSizing",!1,i),i):0)}}}),Q.cssHooks.marginRight=x(X.reliableMarginRight,function(e,t){if(t)return Q.swap(e,{display:"inline-block"},y,[e,"marginRight"])}),Q.each({margin:"",padding:"",border:"Width"},function(e,t){Q.cssHooks[e+t]={expand:function(n){for(var s=0,i={},r="string"==typeof n?n.split(" "):[n];s<4;s++)i[e+be[s]+t]=r[s]||r[s-2]||r[0];return i}},Le.test(e)||(Q.cssHooks[e+t].set=S)}),Q.fn.extend({css:function(e,t){return fe(this,function(e,t,n){var s,i,r={},a=0;if(Q.isArray(t)){for(s=Fe(e),i=t.length;a<i;a++)r[t[a]]=Q.css(e,t[a],!1,s);return r}return void 0!==n?Q.style(e,t,n):Q.css(e,t)},e,t,arguments.length>1)},show:function(){return E(this,!0)},hide:function(){return E(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){we(this)?Q(this).show():Q(this).hide()})}}),Q.Tween=T,T.prototype={constructor:T,init:function(e,t,n,s,i,r){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=s,this.unit=r||(Q.cssNumber[n]?"":"px")},cur:function(){var e=T.propHooks[this.prop];return e&&e.get?e.get(this):T.propHooks._default.get(this)},run:function(e){var t,n=T.propHooks[this.prop];return this.options.duration?this.pos=t=Q.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):T.propHooks._default.set(this),this}},T.prototype.init.prototype=T.prototype,T.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=Q.css(e.elem,e.prop,""))&&"auto"!==t?t:0:e.elem[e.prop]},set:function(e){Q.fx.step[e.prop]?Q.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[Q.cssProps[e.prop]]||Q.cssHooks[e.prop])?Q.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},T.propHooks.scrollTop=T.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},Q.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},Q.fx=T.prototype.init,Q.fx.step={};var Be,We,Ye=/^(?:toggle|show|hide)$/,Xe=new RegExp("^(?:([+-])=|)("+ge+")([a-z%]*)$","i"),Je=/queueHooks$/,Qe=[function(e,t,n){var s,i,r,a,o,u,d,l=this,c={},p=e.style,f=e.nodeType&&we(e),m=me.get(e,"fxshow");n.queue||(null==(o=Q._queueHooks(e,"fx")).unqueued&&(o.unqueued=0,u=o.empty.fire,o.empty.fire=function(){o.unqueued||u()}),o.unqueued++,l.always(function(){l.always(function(){o.unqueued--,Q.queue(e,"fx").length||o.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],"inline"===("none"===(d=Q.css(e,"display"))?me.get(e,"olddisplay")||w(e.nodeName):d)&&"none"===Q.css(e,"float")&&(p.display="inline-block")),n.overflow&&(p.overflow="hidden",l.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(s in t)if(i=t[s],Ye.exec(i)){if(delete t[s],r=r||"toggle"===i,i===(f?"hide":"show")){if("show"!==i||!m||void 0===m[s])continue;f=!0}c[s]=m&&m[s]||Q.style(e,s)}else d=void 0;if(Q.isEmptyObject(c))"inline"===("none"===d?w(e.nodeName):d)&&(p.display=d);else{m?"hidden"in m&&(f=m.hidden):m=me.access(e,"fxshow",{}),r&&(m.hidden=!f),f?Q(e).show():l.done(function(){Q(e).hide()}),l.done(function(){var t;me.remove(e,"fxshow");for(t in c)Q.style(e,t,c[t])});for(s in c)a=A(f?m[s]:0,s,l),s in m||(m[s]=a.start,f&&(a.end=a.start,a.start="width"===s||"height"===s?1:0))}}],Ze={"*":[function(e,t){var n=this.createTween(e,t),s=n.cur(),i=Xe.exec(t),r=i&&i[3]||(Q.cssNumber[e]?"":"px"),a=(Q.cssNumber[e]||"px"!==r&&+s)&&Xe.exec(Q.css(n.elem,e)),o=1,u=20;if(a&&a[3]!==r){r=r||a[3],i=i||[],a=+s||1;do{a/=o=o||".5",Q.style(n.elem,e,a+r)}while(o!==(o=n.cur()/s)&&1!==o&&--u)}return i&&(a=n.start=+a||+s||0,n.unit=r,n.end=i[1]?a+(i[1]+1)*i[2]:+i[2]),n}]};Q.Animation=Q.extend(P,{tweener:function(e,t){Q.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,s=0,i=e.length;s<i;s++)n=e[s],Ze[n]=Ze[n]||[],Ze[n].unshift(t)},prefilter:function(e,t){t?Qe.unshift(e):Qe.push(e)}}),Q.speed=function(e,t,n){var s=e&&"object"==typeof e?Q.extend({},e):{complete:n||!n&&t||Q.isFunction(e)&&e,duration:e,easing:n&&t||t&&!Q.isFunction(t)&&t};return s.duration=Q.fx.off?0:"number"==typeof s.duration?s.duration:s.duration in Q.fx.speeds?Q.fx.speeds[s.duration]:Q.fx.speeds._default,null!=s.queue&&!0!==s.queue||(s.queue="fx"),s.old=s.complete,s.complete=function(){Q.isFunction(s.old)&&s.old.call(this),s.queue&&Q.dequeue(this,s.queue)},s},Q.fn.extend({fadeTo:function(e,t,n,s){return this.filter(we).css("opacity",0).show().end().animate({opacity:t},e,n,s)},animate:function(e,t,n,s){var i=Q.isEmptyObject(e),r=Q.speed(t,n,s),a=function(){var t=P(this,Q.extend({},e),r);(i||me.get(this,"finish"))&&t.stop(!0)};return a.finish=a,i||!1===r.queue?this.each(a):this.queue(r.queue,a)},stop:function(e,t,n){var s=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",r=Q.timers,a=me.get(this);if(i)a[i]&&a[i].stop&&s(a[i]);else for(i in a)a[i]&&a[i].stop&&Je.test(i)&&s(a[i]);for(i=r.length;i--;)r[i].elem!==this||null!=e&&r[i].queue!==e||(r[i].anim.stop(n),t=!1,r.splice(i,1));!t&&n||Q.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=me.get(this),s=n[e+"queue"],i=n[e+"queueHooks"],r=Q.timers,a=s?s.length:0;for(n.finish=!0,Q.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=r.length;t--;)r[t].elem===this&&r[t].queue===e&&(r[t].anim.stop(!0),r.splice(t,1));for(t=0;t<a;t++)s[t]&&s[t].finish&&s[t].finish.call(this);delete n.finish})}}),Q.each(["toggle","show","hide"],function(e,t){var n=Q.fn[t];Q.fn[t]=function(e,s,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(M(t,!0),e,s,i)}}),Q.each({slideDown:M("show"),slideUp:M("hide"),slideToggle:M("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){Q.fn[e]=function(e,n,s){return this.animate(t,e,n,s)}}),Q.timers=[],Q.fx.tick=function(){var e,t=0,n=Q.timers;for(Be=Q.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||Q.fx.stop(),Be=void 0},Q.fx.timer=function(e){Q.timers.push(e),e()?Q.fx.start():Q.timers.pop()},Q.fx.interval=13,Q.fx.start=function(){We||(We=setInterval(Q.fx.tick,Q.fx.interval))},Q.fx.stop=function(){clearInterval(We),We=null},Q.fx.speeds={slow:600,fast:200,_default:400},Q.fn.delay=function(e,t){return e=Q.fx?Q.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var s=setTimeout(t,e);n.stop=function(){clearTimeout(s)}})},function(){var e=J.createElement("input"),t=J.createElement("select"),n=t.appendChild(J.createElement("option"));e.type="checkbox",X.checkOn=""!==e.value,X.optSelected=n.selected,t.disabled=!0,X.optDisabled=!n.disabled,(e=J.createElement("input")).value="t",e.type="radio",X.radioValue="t"===e.value}();var Ke,et=Q.expr.attrHandle;Q.fn.extend({attr:function(e,t){return fe(this,Q.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){Q.removeAttr(this,e)})}}),Q.extend({attr:function(e,t,n){var s,i,r=e.nodeType;if(e&&3!==r&&8!==r&&2!==r)return void 0===e.getAttribute?Q.prop(e,t,n):(1===r&&Q.isXMLDoc(e)||(t=t.toLowerCase(),s=Q.attrHooks[t]||(Q.expr.match.bool.test(t)?Ke:void 0)),void 0===n?s&&"get"in s&&null!==(i=s.get(e,t))?i:null==(i=Q.find.attr(e,t))?void 0:i:null!==n?s&&"set"in s&&void 0!==(i=s.set(e,n,t))?i:(e.setAttribute(t,n+""),n):void Q.removeAttr(e,t))},removeAttr:function(e,t){var n,s,i=0,r=t&&t.match(le);if(r&&1===e.nodeType)for(;n=r[i++];)s=Q.propFix[n]||n,Q.expr.match.bool.test(n)&&(e[s]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!X.radioValue&&"radio"===t&&Q.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),Ke={set:function(e,t,n){return!1===t?Q.removeAttr(e,n):e.setAttribute(n,n),n}},Q.each(Q.expr.match.bool.source.match(/\w+/g),function(e,t){var n=et[t]||Q.find.attr;et[t]=function(e,t,s){var i,r;return s||(r=et[t],et[t]=i,i=null!=n(e,t,s)?t.toLowerCase():null,et[t]=r),i}});var tt=/^(?:input|select|textarea|button)$/i;Q.fn.extend({prop:function(e,t){return fe(this,Q.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[Q.propFix[e]||e]})}}),Q.extend({propFix:{for:"htmlFor",class:"className"},prop:function(e,t,n){var s,i,r=e.nodeType;if(e&&3!==r&&8!==r&&2!==r)return(1!==r||!Q.isXMLDoc(e))&&(t=Q.propFix[t]||t,i=Q.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(s=i.set(e,n,t))?s:e[t]=n:i&&"get"in i&&null!==(s=i.get(e,t))?s:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||tt.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),X.optSelected||(Q.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),Q.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Q.propFix[this.toLowerCase()]=this});var nt=/[\t\r\n\f]/g;Q.fn.extend({addClass:function(e){var t,n,s,i,r,a,o="string"==typeof e&&e,u=0,d=this.length;if(Q.isFunction(e))return this.each(function(t){Q(this).addClass(e.call(this,t,this.className))});if(o)for(t=(e||"").match(le)||[];u<d;u++)if(n=this[u],s=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(nt," "):" ")){for(r=0;i=t[r++];)s.indexOf(" "+i+" ")<0&&(s+=i+" ");a=Q.trim(s),n.className!==a&&(n.className=a)}return this},removeClass:function(e){var t,n,s,i,r,a,o=0===arguments.length||"string"==typeof e&&e,u=0,d=this.length;if(Q.isFunction(e))return this.each(function(t){Q(this).removeClass(e.call(this,t,this.className))});if(o)for(t=(e||"").match(le)||[];u<d;u++)if(n=this[u],s=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(nt," "):"")){for(r=0;i=t[r++];)for(;s.indexOf(" "+i+" ")>=0;)s=s.replace(" "+i+" "," ");a=e?Q.trim(s):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):Q.isFunction(e)?this.each(function(n){Q(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var t,s=0,i=Q(this),r=e.match(le)||[];t=r[s++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else"undefined"!==n&&"boolean"!==n||(this.className&&me.set(this,"__className__",this.className),this.className=this.className||!1===e?"":me.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,s=this.length;n<s;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(nt," ").indexOf(t)>=0)return!0;return!1}});var st=/\r/g;Q.fn.extend({val:function(e){var t,n,s,i=this[0];return arguments.length?(s=Q.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(null==(i=s?e.call(this,n,Q(this).val()):e)?i="":"number"==typeof i?i+="":Q.isArray(i)&&(i=Q.map(i,function(e){return null==e?"":e+""})),(t=Q.valHooks[this.type]||Q.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))})):i?(t=Q.valHooks[i.type]||Q.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(st,""):null==n?"":n:void 0}}),Q.extend({valHooks:{option:{get:function(e){var t=Q.find.attr(e,"value");return null!=t?t:Q.trim(Q.text(e))}},select:{get:function(e){for(var t,n,s=e.options,i=e.selectedIndex,r="select-one"===e.type||i<0,a=r?null:[],o=r?i+1:s.length,u=i<0?o:r?i:0;u<o;u++)if(((n=s[u]).selected||u===i)&&(X.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!Q.nodeName(n.parentNode,"optgroup"))){if(t=Q(n).val(),r)return t;a.push(t)}return a},set:function(e,t){for(var n,s,i=e.options,r=Q.makeArray(t),a=i.length;a--;)((s=i[a]).selected=Q.inArray(s.value,r)>=0)&&(n=!0);return n||(e.selectedIndex=-1),r}}}}),Q.each(["radio","checkbox"],function(){Q.valHooks[this]={set:function(e,t){if(Q.isArray(t))return e.checked=Q.inArray(Q(e).val(),t)>=0}},X.checkOn||(Q.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),Q.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){Q.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),Q.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,s){return this.on(t,e,n,s)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var it=Q.now(),rt=/\?/;Q.parseJSON=function(e){return JSON.parse(e+"")},Q.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||Q.error("Invalid XML: "+e),t};var at=/#.*$/,ot=/([?&])_=[^&]*/,ut=/^(.*?):[ \t]*([^\r\n]*)$/gm,dt=/^(?:GET|HEAD)$/,lt=/^\/\//,ct=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,pt={},ft={},mt="*/".concat("*"),ht=e.location.href,_t=ct.exec(ht.toLowerCase())||[];Q.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ht,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(_t[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":mt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":Q.parseJSON,"text xml":Q.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?D(D(e,Q.ajaxSettings),t):D(Q.ajaxSettings,e)},ajaxPrefilter:N(pt),ajaxTransport:N(ft),ajax:function(e,t){function n(e,t,n,a){var u,l,v,g,w,x=t;2!==b&&(b=2,o&&clearTimeout(o),s=void 0,r=a||"",y.readyState=e>0?4:0,u=e>=200&&e<300||304===e,n&&(g=L(c,y,n)),g=U(c,g,y,u),u?(c.ifModified&&((w=y.getResponseHeader("Last-Modified"))&&(Q.lastModified[i]=w),(w=y.getResponseHeader("etag"))&&(Q.etag[i]=w)),204===e||"HEAD"===c.type?x="nocontent":304===e?x="notmodified":(x=g.state,l=g.data,u=!(v=g.error))):(v=x,!e&&x||(x="error",e<0&&(e=0))),y.status=e,y.statusText=(t||x)+"",u?m.resolveWith(p,[l,x,y]):m.rejectWith(p,[y,x,v]),y.statusCode(_),_=void 0,d&&f.trigger(u?"ajaxSuccess":"ajaxError",[y,c,u?l:v]),h.fireWith(p,[y,x]),d&&(f.trigger("ajaxComplete",[y,c]),--Q.active||Q.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var s,i,r,a,o,u,d,l,c=Q.ajaxSetup({},t),p=c.context||c,f=c.context&&(p.nodeType||p.jquery)?Q(p):Q.event,m=Q.Deferred(),h=Q.Callbacks("once memory"),_=c.statusCode||{},v={},g={},b=0,w="canceled",y={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!a)for(a={};t=ut.exec(r);)a[t[1].toLowerCase()]=t[2];t=a[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?r:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=g[n]=g[n]||e,v[e]=t),this},overrideMimeType:function(e){return b||(c.mimeType=e),this},statusCode:function(e){var t;if(e)if(b<2)for(t in e)_[t]=[_[t],e[t]];else y.always(e[y.status]);return this},abort:function(e){var t=e||w;return s&&s.abort(t),n(0,t),this}};if(m.promise(y).complete=h.add,y.success=y.done,y.error=y.fail,c.url=((e||c.url||ht)+"").replace(at,"").replace(lt,_t[1]+"//"),c.type=t.method||t.type||c.method||c.type,c.dataTypes=Q.trim(c.dataType||"*").toLowerCase().match(le)||[""],null==c.crossDomain&&(u=ct.exec(c.url.toLowerCase()),c.crossDomain=!(!u||u[1]===_t[1]&&u[2]===_t[2]&&(u[3]||("http:"===u[1]?"80":"443"))===(_t[3]||("http:"===_t[1]?"80":"443")))),c.data&&c.processData&&"string"!=typeof c.data&&(c.data=Q.param(c.data,c.traditional)),R(pt,c,t,y),2===b)return y;(d=Q.event&&c.global)&&0==Q.active++&&Q.event.trigger("ajaxStart"),c.type=c.type.toUpperCase(),c.hasContent=!dt.test(c.type),i=c.url,c.hasContent||(c.data&&(i=c.url+=(rt.test(i)?"&":"?")+c.data,delete c.data),!1===c.cache&&(c.url=ot.test(i)?i.replace(ot,"$1_="+it++):i+(rt.test(i)?"&":"?")+"_="+it++)),c.ifModified&&(Q.lastModified[i]&&y.setRequestHeader("If-Modified-Since",Q.lastModified[i]),Q.etag[i]&&y.setRequestHeader("If-None-Match",Q.etag[i])),(c.data&&c.hasContent&&!1!==c.contentType||t.contentType)&&y.setRequestHeader("Content-Type",c.contentType),y.setRequestHeader("Accept",c.dataTypes[0]&&c.accepts[c.dataTypes[0]]?c.accepts[c.dataTypes[0]]+("*"!==c.dataTypes[0]?", "+mt+"; q=0.01":""):c.accepts["*"]);for(l in c.headers)y.setRequestHeader(l,c.headers[l]);if(c.beforeSend&&(!1===c.beforeSend.call(p,y,c)||2===b))return y.abort();w="abort";for(l in{success:1,error:1,complete:1})y[l](c[l]);if(s=R(ft,c,t,y)){y.readyState=1,d&&f.trigger("ajaxSend",[y,c]),c.async&&c.timeout>0&&(o=setTimeout(function(){y.abort("timeout")},c.timeout));try{b=1,s.send(v,n)}catch(e){if(!(b<2))throw e;n(-1,e)}}else n(-1,"No Transport");return y},getJSON:function(e,t,n){return Q.get(e,t,n,"json")},getScript:function(e,t){return Q.get(e,void 0,t,"script")}}),Q.each(["get","post"],function(e,t){Q[t]=function(e,n,s,i){return Q.isFunction(n)&&(i=i||s,s=n,n=void 0),Q.ajax({url:e,type:t,dataType:i,data:n,success:s})}}),Q._evalUrl=function(e){return Q.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},Q.fn.extend({wrapAll:function(e){var t;return Q.isFunction(e)?this.each(function(t){Q(this).wrapAll(e.call(this,t))}):(this[0]&&(t=Q(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return Q.isFunction(e)?this.each(function(t){Q(this).wrapInner(e.call(this,t))}):this.each(function(){var t=Q(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=Q.isFunction(e);return this.each(function(n){Q(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){Q.nodeName(this,"body")||Q(this).replaceWith(this.childNodes)}).end()}}),Q.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},Q.expr.filters.visible=function(e){return!Q.expr.filters.hidden(e)};var vt=/%20/g,gt=/\[\]$/,bt=/\r?\n/g,wt=/^(?:submit|button|image|reset|file)$/i,yt=/^(?:input|select|textarea|keygen)/i;Q.param=function(e,t){var n,s=[],i=function(e,t){t=Q.isFunction(t)?t():null==t?"":t,s[s.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=Q.ajaxSettings&&Q.ajaxSettings.traditional),Q.isArray(e)||e.jquery&&!Q.isPlainObject(e))Q.each(e,function(){i(this.name,this.value)});else for(n in e)F(n,e[n],t,i);return s.join("&").replace(vt,"+")},Q.fn.extend({serialize:function(){return Q.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=Q.prop(this,"elements");return e?Q.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!Q(this).is(":disabled")&&yt.test(this.nodeName)&&!wt.test(e)&&(this.checked||!ye.test(e))}).map(function(e,t){var n=Q(this).val();return null==n?null:Q.isArray(n)?Q.map(n,function(e){return{name:t.name,value:e.replace(bt,"\r\n")}}):{name:t.name,value:n.replace(bt,"\r\n")}}).get()}}),Q.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var xt=0,Ct={},St={0:200,1223:204},jt=Q.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in Ct)Ct[e]()}),X.cors=!!jt&&"withCredentials"in jt,X.ajax=jt=!!jt,Q.ajaxTransport(function(e){var t;if(X.cors||jt&&!e.crossDomain)return{send:function(n,s){var i,r=e.xhr(),a=++xt;if(r.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(i in e.xhrFields)r[i]=e.xhrFields[i];e.mimeType&&r.overrideMimeType&&r.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(i in n)r.setRequestHeader(i,n[i]);t=function(e){return function(){t&&(delete Ct[a],t=r.onload=r.onerror=null,"abort"===e?r.abort():"error"===e?s(r.status,r.statusText):s(St[r.status]||r.status,r.statusText,"string"==typeof r.responseText?{text:r.responseText}:void 0,r.getAllResponseHeaders()))}},r.onload=t(),r.onerror=t("error"),t=Ct[a]=t("abort");try{r.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}}),Q.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return Q.globalEval(e),e}}}),Q.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),Q.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(s,i){t=Q("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),J.head.appendChild(t[0])},abort:function(){n&&n()}}}});var kt=[],Et=/(=)\?(?=&|$)|\?\?/;Q.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=kt.pop()||Q.expando+"_"+it++;return this[e]=!0,e}}),Q.ajaxPrefilter("json jsonp",function(t,n,s){var i,r,a,o=!1!==t.jsonp&&(Et.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Et.test(t.data)&&"data");if(o||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=Q.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,o?t[o]=t[o].replace(Et,"$1"+i):!1!==t.jsonp&&(t.url+=(rt.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||Q.error(i+" was not called"),a[0]},t.dataTypes[0]="json",r=e[i],e[i]=function(){a=arguments},s.always(function(){e[i]=r,t[i]&&(t.jsonpCallback=n.jsonpCallback,kt.push(i)),a&&Q.isFunction(r)&&r(a[0]),a=r=void 0}),"script"}),Q.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||J;var s=ie.exec(e),i=!n&&[];return s?[t.createElement(s[1])]:(s=Q.buildFragment([e],t,i),i&&i.length&&Q(i).remove(),Q.merge([],s.childNodes))};var Tt=Q.fn.load;Q.fn.load=function(e,t,n){if("string"!=typeof e&&Tt)return Tt.apply(this,arguments);var s,i,r,a=this,o=e.indexOf(" ");return o>=0&&(s=Q.trim(e.slice(o)),e=e.slice(0,o)),Q.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),a.length>0&&Q.ajax({url:e,type:i,dataType:"html",data:t}).done(function(e){r=arguments,a.html(s?Q("<div>").append(Q.parseHTML(e)).find(s):e)}).complete(n&&function(e,t){a.each(n,r||[e.responseText,t,e])}),this},Q.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){Q.fn[t]=function(e){return this.on(t,e)}}),Q.expr.filters.animated=function(e){return Q.grep(Q.timers,function(t){return e===t.elem}).length};var It=e.document.documentElement;Q.offset={setOffset:function(e,t,n){var s,i,r,a,o,u,d=Q.css(e,"position"),l=Q(e),c={};"static"===d&&(e.style.position="relative"),o=l.offset(),r=Q.css(e,"top"),u=Q.css(e,"left"),("absolute"===d||"fixed"===d)&&(r+u).indexOf("auto")>-1?(a=(s=l.position()).top,i=s.left):(a=parseFloat(r)||0,i=parseFloat(u)||0),Q.isFunction(t)&&(t=t.call(e,n,o)),null!=t.top&&(c.top=t.top-o.top+a),null!=t.left&&(c.left=t.left-o.left+i),"using"in t?t.using.call(e,c):l.css(c)}},Q.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){Q.offset.setOffset(this,e,t)});var t,n,s=this[0],i={top:0,left:0},r=s&&s.ownerDocument;return r?(t=r.documentElement,Q.contains(t,s)?(void 0!==s.getBoundingClientRect&&(i=s.getBoundingClientRect()),n=$(r),{top:i.top+n.pageYOffset-t.clientTop,left:i.left+n.pageXOffset-t.clientLeft}):i):void 0},position:function(){if(this[0]){var e,t,n=this[0],s={top:0,left:0};return"fixed"===Q.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),Q.nodeName(e[0],"html")||(s=e.offset()),s.top+=Q.css(e[0],"borderTopWidth",!0),s.left+=Q.css(e[0],"borderLeftWidth",!0)),{top:t.top-s.top-Q.css(n,"marginTop",!0),left:t.left-s.left-Q.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||It;e&&!Q.nodeName(e,"html")&&"static"===Q.css(e,"position");)e=e.offsetParent;return e||It})}}),Q.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,n){var s="pageYOffset"===n;Q.fn[t]=function(i){return fe(this,function(t,i,r){var a=$(t);if(void 0===r)return a?a[n]:t[i];a?a.scrollTo(s?e.pageXOffset:r,s?r:e.pageYOffset):t[i]=r},t,i,arguments.length,null)}}),Q.each(["top","left"],function(e,t){Q.cssHooks[t]=x(X.pixelPosition,function(e,n){if(n)return n=y(e,t),Ue.test(n)?Q(e).position()[t]+"px":n})}),Q.each({Height:"height",Width:"width"},function(e,t){Q.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,s){Q.fn[s]=function(s,i){var r=arguments.length&&(n||"boolean"!=typeof s),a=n||(!0===s||!0===i?"margin":"border");return fe(this,function(t,n,s){var i;return Q.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===s?Q.css(t,n,a):Q.style(t,n,s,a)},t,r?s:void 0,r,null)}})}),Q.fn.size=function(){return this.length},Q.fn.andSelf=Q.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return Q});var Mt=e.jQuery,At=e.$;return Q.noConflict=function(t){return e.$===Q&&(e.$=At),t&&e.jQuery===Q&&(e.jQuery=Mt),Q},void 0===t&&(e.jQuery=e.$=Q),Q}),function(){function e(e){function t(t,n,s,i,r,a){for(;r>=0&&r<a;r+=e){var o=i?i[r]:r;s=n(s,t[o],o,t)}return s}return function(n,s,i,r){s=b(s,r,4);var a=!k(n)&&g.keys(n),o=(a||n).length,u=e>0?0:o-1;return arguments.length<3&&(i=n[a?a[u]:u],u+=e),t(n,s,i,a,u,o)}}function t(e){return function(t,n,s){n=w(n,s);for(var i=j(t),r=e>0?0:i-1;r>=0&&r<i;r+=e)if(n(t[r],r,t))return r;return-1}}function n(e,t,n){return function(s,i,r){var a=0,o=j(s);if("number"==typeof r)e>0?a=r>=0?r:Math.max(r+o,a):o=r>=0?Math.min(r+1,o):r+o+1;else if(n&&r&&o)return r=n(s,i),s[r]===i?r:-1;if(i!==i)return(r=t(l.call(s,a,o),g.isNaN))>=0?r+a:-1;for(r=e>0?a:o-1;r>=0&&r<o;r+=e)if(s[r]===i)return r;return-1}}function s(e,t){var n=A.length,s=e.constructor,i=g.isFunction(s)&&s.prototype||o,r="constructor";for(g.has(e,r)&&!g.contains(t,r)&&t.push(r);n--;)(r=A[n])in e&&e[r]!==i[r]&&!g.contains(t,r)&&t.push(r)}var i=this,r=i._,a=Array.prototype,o=Object.prototype,u=Function.prototype,d=a.push,l=a.slice,c=o.toString,p=o.hasOwnProperty,f=Array.isArray,m=Object.keys,h=u.bind,_=Object.create,v=function(){},g=function(e){return e instanceof g?e:this instanceof g?void(this._wrapped=e):new g(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=g),exports._=g):i._=g,g.VERSION="1.8.3";var b=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,s){return e.call(t,n,s)};case 3:return function(n,s,i){return e.call(t,n,s,i)};case 4:return function(n,s,i,r){return e.call(t,n,s,i,r)}}return function(){return e.apply(t,arguments)}},w=function(e,t,n){return null==e?g.identity:g.isFunction(e)?b(e,t,n):g.isObject(e)?g.matcher(e):g.property(e)};g.iteratee=function(e,t){return w(e,t,1/0)};var y=function(e,t){return function(n){var s=arguments.length;if(s<2||null==n)return n;for(var i=1;i<s;i++)for(var r=arguments[i],a=e(r),o=a.length,u=0;u<o;u++){var d=a[u];t&&void 0!==n[d]||(n[d]=r[d])}return n}},x=function(e){if(!g.isObject(e))return{};if(_)return _(e);v.prototype=e;var t=new v;return v.prototype=null,t},C=function(e){return function(t){return null==t?void 0:t[e]}},S=Math.pow(2,53)-1,j=C("length"),k=function(e){var t=j(e);return"number"==typeof t&&t>=0&&t<=S};g.each=g.forEach=function(e,t,n){t=b(t,n);var s,i;if(k(e))for(s=0,i=e.length;s<i;s++)t(e[s],s,e);else{var r=g.keys(e);for(s=0,i=r.length;s<i;s++)t(e[r[s]],r[s],e)}return e},g.map=g.collect=function(e,t,n){t=w(t,n);for(var s=!k(e)&&g.keys(e),i=(s||e).length,r=Array(i),a=0;a<i;a++){var o=s?s[a]:a;r[a]=t(e[o],o,e)}return r},g.reduce=g.foldl=g.inject=e(1),g.reduceRight=g.foldr=e(-1),g.find=g.detect=function(e,t,n){var s;if(void 0!==(s=k(e)?g.findIndex(e,t,n):g.findKey(e,t,n))&&-1!==s)return e[s]},g.filter=g.select=function(e,t,n){var s=[];return t=w(t,n),g.each(e,function(e,n,i){t(e,n,i)&&s.push(e)}),s},g.reject=function(e,t,n){return g.filter(e,g.negate(w(t)),n)},g.every=g.all=function(e,t,n){t=w(t,n);for(var s=!k(e)&&g.keys(e),i=(s||e).length,r=0;r<i;r++){var a=s?s[r]:r;if(!t(e[a],a,e))return!1}return!0},g.some=g.any=function(e,t,n){t=w(t,n);for(var s=!k(e)&&g.keys(e),i=(s||e).length,r=0;r<i;r++){var a=s?s[r]:r;if(t(e[a],a,e))return!0}return!1},g.contains=g.includes=g.include=function(e,t,n,s){return k(e)||(e=g.values(e)),("number"!=typeof n||s)&&(n=0),g.indexOf(e,t,n)>=0},g.invoke=function(e,t){var n=l.call(arguments,2),s=g.isFunction(t);return g.map(e,function(e){var i=s?t:e[t];return null==i?i:i.apply(e,n)})},g.pluck=function(e,t){return g.map(e,g.property(t))},g.where=function(e,t){return g.filter(e,g.matcher(t))},g.findWhere=function(e,t){return g.find(e,g.matcher(t))},g.max=function(e,t,n){var s,i,r=-1/0,a=-1/0;if(null==t&&null!=e)for(var o=0,u=(e=k(e)?e:g.values(e)).length;o<u;o++)(s=e[o])>r&&(r=s);else t=w(t,n),g.each(e,function(e,n,s){((i=t(e,n,s))>a||i===-1/0&&r===-1/0)&&(r=e,a=i)});return r},g.min=function(e,t,n){var s,i,r=1/0,a=1/0;if(null==t&&null!=e)for(var o=0,u=(e=k(e)?e:g.values(e)).length;o<u;o++)(s=e[o])<r&&(r=s);else t=w(t,n),g.each(e,function(e,n,s){((i=t(e,n,s))<a||i===1/0&&r===1/0)&&(r=e,a=i)});return r},g.shuffle=function(e){for(var t,n=k(e)?e:g.values(e),s=n.length,i=Array(s),r=0;r<s;r++)(t=g.random(0,r))!==r&&(i[r]=i[t]),i[t]=n[r];return i},g.sample=function(e,t,n){return null==t||n?(k(e)||(e=g.values(e)),e[g.random(e.length-1)]):g.shuffle(e).slice(0,Math.max(0,t))},g.sortBy=function(e,t,n){return t=w(t,n),g.pluck(g.map(e,function(e,n,s){return{value:e,index:n,criteria:t(e,n,s)}}).sort(function(e,t){var n=e.criteria,s=t.criteria;if(n!==s){if(n>s||void 0===n)return 1;if(n<s||void 0===s)return-1}return e.index-t.index}),"value")};var E=function(e){return function(t,n,s){var i={};return n=w(n,s),g.each(t,function(s,r){var a=n(s,r,t);e(i,s,a)}),i}};g.groupBy=E(function(e,t,n){g.has(e,n)?e[n].push(t):e[n]=[t]}),g.indexBy=E(function(e,t,n){e[n]=t}),g.countBy=E(function(e,t,n){g.has(e,n)?e[n]++:e[n]=1}),g.toArray=function(e){return e?g.isArray(e)?l.call(e):k(e)?g.map(e,g.identity):g.values(e):[]},g.size=function(e){return null==e?0:k(e)?e.length:g.keys(e).length},g.partition=function(e,t,n){t=w(t,n);var s=[],i=[];return g.each(e,function(e,n,r){(t(e,n,r)?s:i).push(e)}),[s,i]},g.first=g.head=g.take=function(e,t,n){if(null!=e)return null==t||n?e[0]:g.initial(e,e.length-t)},g.initial=function(e,t,n){return l.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},g.last=function(e,t,n){if(null!=e)return null==t||n?e[e.length-1]:g.rest(e,Math.max(0,e.length-t))},g.rest=g.tail=g.drop=function(e,t,n){return l.call(e,null==t||n?1:t)},g.compact=function(e){return g.filter(e,g.identity)};var T=function(e,t,n,s){for(var i=[],r=0,a=s||0,o=j(e);a<o;a++){var u=e[a];if(k(u)&&(g.isArray(u)||g.isArguments(u))){t||(u=T(u,t,n));var d=0,l=u.length;for(i.length+=l;d<l;)i[r++]=u[d++]}else n||(i[r++]=u)}return i};g.flatten=function(e,t){return T(e,t,!1)},g.without=function(e){return g.difference(e,l.call(arguments,1))},g.uniq=g.unique=function(e,t,n,s){g.isBoolean(t)||(s=n,n=t,t=!1),null!=n&&(n=w(n,s));for(var i=[],r=[],a=0,o=j(e);a<o;a++){var u=e[a],d=n?n(u,a,e):u;t?(a&&r===d||i.push(u),r=d):n?g.contains(r,d)||(r.push(d),i.push(u)):g.contains(i,u)||i.push(u)}return i},g.union=function(){return g.uniq(T(arguments,!0,!0))},g.intersection=function(e){for(var t=[],n=arguments.length,s=0,i=j(e);s<i;s++){var r=e[s];if(!g.contains(t,r)){for(var a=1;a<n&&g.contains(arguments[a],r);a++);a===n&&t.push(r)}}return t},g.difference=function(e){var t=T(arguments,!0,!0,1);return g.filter(e,function(e){return!g.contains(t,e)})},g.zip=function(){return g.unzip(arguments)},g.unzip=function(e){for(var t=e&&g.max(e,j).length||0,n=Array(t),s=0;s<t;s++)n[s]=g.pluck(e,s);return n},g.object=function(e,t){for(var n={},s=0,i=j(e);s<i;s++)t?n[e[s]]=t[s]:n[e[s][0]]=e[s][1];return n},g.findIndex=t(1),g.findLastIndex=t(-1),g.sortedIndex=function(e,t,n,s){for(var i=(n=w(n,s,1))(t),r=0,a=j(e);r<a;){var o=Math.floor((r+a)/2);n(e[o])<i?r=o+1:a=o}return r},g.indexOf=n(1,g.findIndex,g.sortedIndex),g.lastIndexOf=n(-1,g.findLastIndex),g.range=function(e,t,n){null==t&&(t=e||0,e=0),n=n||1;for(var s=Math.max(Math.ceil((t-e)/n),0),i=Array(s),r=0;r<s;r++,e+=n)i[r]=e;return i};var I=function(e,t,n,s,i){if(!(s instanceof t))return e.apply(n,i);var r=x(e.prototype),a=e.apply(r,i);return g.isObject(a)?a:r};g.bind=function(e,t){if(h&&e.bind===h)return h.apply(e,l.call(arguments,1));if(!g.isFunction(e))throw new TypeError("Bind must be called on a function");var n=l.call(arguments,2),s=function(){return I(e,s,t,this,n.concat(l.call(arguments)))};return s},g.partial=function(e){var t=l.call(arguments,1),n=function(){for(var s=0,i=t.length,r=Array(i),a=0;a<i;a++)r[a]=t[a]===g?arguments[s++]:t[a];for(;s<arguments.length;)r.push(arguments[s++]);return I(e,n,this,this,r)};return n},g.bindAll=function(e){var t,n,s=arguments.length;if(s<=1)throw new Error("bindAll must be passed function names");for(t=1;t<s;t++)e[n=arguments[t]]=g.bind(e[n],e);return e},g.memoize=function(e,t){var n=function(s){var i=n.cache,r=""+(t?t.apply(this,arguments):s);return g.has(i,r)||(i[r]=e.apply(this,arguments)),i[r]};return n.cache={},n},g.delay=function(e,t){var n=l.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},g.defer=g.partial(g.delay,g,1),g.throttle=function(e,t,n){var s,i,r,a=null,o=0;n||(n={});var u=function(){o=!1===n.leading?0:g.now(),a=null,r=e.apply(s,i),a||(s=i=null)};return function(){var d=g.now();o||!1!==n.leading||(o=d);var l=t-(d-o);return s=this,i=arguments,l<=0||l>t?(a&&(clearTimeout(a),a=null),o=d,r=e.apply(s,i),a||(s=i=null)):a||!1===n.trailing||(a=setTimeout(u,l)),r}},g.debounce=function(e,t,n){var s,i,r,a,o,u=function(){var d=g.now()-a;d<t&&d>=0?s=setTimeout(u,t-d):(s=null,n||(o=e.apply(r,i),s||(r=i=null)))};return function(){r=this,i=arguments,a=g.now();var d=n&&!s;return s||(s=setTimeout(u,t)),d&&(o=e.apply(r,i),r=i=null),o}},g.wrap=function(e,t){return g.partial(t,e)},g.negate=function(e){return function(){return!e.apply(this,arguments)}},g.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,s=e[t].apply(this,arguments);n--;)s=e[n].call(this,s);return s}},g.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},g.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}},g.once=g.partial(g.before,2);var M=!{toString:null}.propertyIsEnumerable("toString"),A=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];g.keys=function(e){if(!g.isObject(e))return[];if(m)return m(e);var t=[];for(var n in e)g.has(e,n)&&t.push(n);return M&&s(e,t),t},g.allKeys=function(e){if(!g.isObject(e))return[];var t=[];for(var n in e)t.push(n);return M&&s(e,t),t},g.values=function(e){for(var t=g.keys(e),n=t.length,s=Array(n),i=0;i<n;i++)s[i]=e[t[i]];return s},g.mapObject=function(e,t,n){t=w(t,n);for(var s,i=g.keys(e),r=i.length,a={},o=0;o<r;o++)a[s=i[o]]=t(e[s],s,e);return a},g.pairs=function(e){for(var t=g.keys(e),n=t.length,s=Array(n),i=0;i<n;i++)s[i]=[t[i],e[t[i]]];return s},g.invert=function(e){for(var t={},n=g.keys(e),s=0,i=n.length;s<i;s++)t[e[n[s]]]=n[s];return t},g.functions=g.methods=function(e){var t=[];for(var n in e)g.isFunction(e[n])&&t.push(n);return t.sort()},g.extend=y(g.allKeys),g.extendOwn=g.assign=y(g.keys),g.findKey=function(e,t,n){t=w(t,n);for(var s,i=g.keys(e),r=0,a=i.length;r<a;r++)if(s=i[r],t(e[s],s,e))return s},g.pick=function(e,t,n){var s,i,r={},a=e;if(null==a)return r;g.isFunction(t)?(i=g.allKeys(a),s=b(t,n)):(i=T(arguments,!1,!1,1),s=function(e,t,n){return t in n},a=Object(a));for(var o=0,u=i.length;o<u;o++){var d=i[o],l=a[d];s(l,d,a)&&(r[d]=l)}return r},g.omit=function(e,t,n){if(g.isFunction(t))t=g.negate(t);else{var s=g.map(T(arguments,!1,!1,1),String);t=function(e,t){return!g.contains(s,t)}}return g.pick(e,t,n)},g.defaults=y(g.allKeys,!0),g.create=function(e,t){var n=x(e);return t&&g.extendOwn(n,t),n},g.clone=function(e){return g.isObject(e)?g.isArray(e)?e.slice():g.extend({},e):e},g.tap=function(e,t){return t(e),e},g.isMatch=function(e,t){var n=g.keys(t),s=n.length;if(null==e)return!s;for(var i=Object(e),r=0;r<s;r++){var a=n[r];if(t[a]!==i[a]||!(a in i))return!1}return!0};var O=function(e,t,n,s){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof g&&(e=e._wrapped),t instanceof g&&(t=t._wrapped);var i=c.call(e);if(i!==c.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t}var r="[object Array]"===i;if(!r){if("object"!=typeof e||"object"!=typeof t)return!1;var a=e.constructor,o=t.constructor;if(a!==o&&!(g.isFunction(a)&&a instanceof a&&g.isFunction(o)&&o instanceof o)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],s=s||[];for(var u=n.length;u--;)if(n[u]===e)return s[u]===t;if(n.push(e),s.push(t),r){if((u=e.length)!==t.length)return!1;for(;u--;)if(!O(e[u],t[u],n,s))return!1}else{var d,l=g.keys(e);if(u=l.length,g.keys(t).length!==u)return!1;for(;u--;)if(d=l[u],!g.has(t,d)||!O(e[d],t[d],n,s))return!1}return n.pop(),s.pop(),!0};g.isEqual=function(e,t){return O(e,t)},g.isEmpty=function(e){return null==e||(k(e)&&(g.isArray(e)||g.isString(e)||g.isArguments(e))?0===e.length:0===g.keys(e).length)},g.isElement=function(e){return!(!e||1!==e.nodeType)},g.isArray=f||function(e){return"[object Array]"===c.call(e)},g.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},g.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){g["is"+e]=function(t){return c.call(t)==="[object "+e+"]"}}),g.isArguments(arguments)||(g.isArguments=function(e){return g.has(e,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(g.isFunction=function(e){return"function"==typeof e||!1}),g.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},g.isNaN=function(e){return g.isNumber(e)&&e!==+e},g.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===c.call(e)},g.isNull=function(e){return null===e},g.isUndefined=function(e){return void 0===e},g.has=function(e,t){return null!=e&&p.call(e,t)},g.noConflict=function(){return i._=r,this},g.identity=function(e){return e},g.constant=function(e){return function(){return e}},g.noop=function(){},g.property=C,g.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},g.matcher=g.matches=function(e){return e=g.extendOwn({},e),function(t){return g.isMatch(t,e)}},g.times=function(e,t,n){var s=Array(Math.max(0,e));t=b(t,n,1);for(var i=0;i<e;i++)s[i]=t(i);return s},g.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},g.now=Date.now||function(){return(new Date).getTime()};var P={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},N=g.invert(P),R=function(e){var t=function(t){return e[t]},n="(?:"+g.keys(e).join("|")+")",s=RegExp(n),i=RegExp(n,"g");return function(e){return e=null==e?"":""+e,s.test(e)?e.replace(i,t):e}};g.escape=R(P),g.unescape=R(N),g.result=function(e,t,n){var s=null==e?void 0:e[t];return void 0===s&&(s=n),g.isFunction(s)?s.call(e):s};var D=0;g.uniqueId=function(e){var t=++D+"";return e?e+t:t},g.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var L=/(.)^/,U={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},F=/\\|'|\r|\n|\u2028|\u2029/g,$=function(e){return"\\"+U[e]};g.template=function(e,t,n){!t&&n&&(t=n),t=g.defaults({},t,g.templateSettings);var s=RegExp([(t.escape||L).source,(t.interpolate||L).source,(t.evaluate||L).source].join("|")+"|$","g"),i=0,r="__p+='";e.replace(s,function(t,n,s,a,o){return r+=e.slice(i,o).replace(F,$),i=o+t.length,n?r+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":s?r+="'+\n((__t=("+s+"))==null?'':__t)+\n'":a&&(r+="';\n"+a+"\n__p+='"),t}),r+="';\n",t.variable||(r="with(obj||{}){\n"+r+"}\n"),r="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+r+"return __p;\n";try{var a=new Function(t.variable||"obj","_",r)}catch(e){throw e.source=r,e}var o=function(e){return a.call(this,e,g)},u=t.variable||"obj";return o.source="function("+u+"){\n"+r+"}",o},g.chain=function(e){var t=g(e);return t._chain=!0,t};var V=function(e,t){return e._chain?g(t).chain():t};g.mixin=function(e){g.each(g.functions(e),function(t){var n=g[t]=e[t];g.prototype[t]=function(){var e=[this._wrapped];return d.apply(e,arguments),V(this,n.apply(g,e))}})},g.mixin(g),g.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=a[e];g.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],V(this,n)}}),g.each(["concat","join","slice"],function(e){var t=a[e];g.prototype[e]=function(){return V(this,t.apply(this._wrapped,arguments))}}),g.prototype.value=function(){return this._wrapped},g.prototype.valueOf=g.prototype.toJSON=g.prototype.value,g.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return g})}.call(this),define("can/util/can",[],function(){var e="undefined"!=typeof window?window:global,t={};"undefined"!=typeof GLOBALCAN&&!1===GLOBALCAN||(e.can=t),t.global=e,t.k=function(){},t.isDeferred=t.isPromise=function(e){return e&&"function"==typeof e.then&&"function"==typeof e.pipe},t.isMapLike=function(e){return t.Map&&(e instanceof t.Map||e&&e.__get)};var n=0;t.cid=function(e,t){return e._cid||(n++,e._cid=(t||"")+n),e._cid},t.VERSION="@EDGE",t.simpleExtend=function(e,t){for(var n in t)e[n]=t[n];return e},t.last=function(e){return e&&e[e.length-1]};var s=Function.prototype.bind;return t.proxy=s?function(e,t){return s.call(e,t)}:function(e,t){return function(){return e.apply(t,arguments)}},t.frag=function(e){var n;return e&&"string"!=typeof e?11===e.nodeType?e:"number"==typeof e.nodeType?((n=document.createDocumentFragment()).appendChild(e),n):"number"==typeof e.length?(n=document.createDocumentFragment(),t.each(e,function(e){n.appendChild(t.frag(e))}),n):((n=t.buildFragment(""+e,document.body)).childNodes.length||n.appendChild(document.createTextNode("")),n):((n=t.buildFragment(null==e?"":""+e,document.body)).childNodes.length||n.appendChild(document.createTextNode("")),n)},t.scope=t.viewModel=function(e,n,s){e=t.$(e);var i=t.data(e,"scope")||t.data(e,"viewModel");switch(i||(i=new t.Map,t.data(e,"scope",i),t.data(e,"viewModel",i)),arguments.length){case 0:case 1:return i;case 2:return i.attr(n);default:return i.attr(n,s),e}},t.import=function(e){var n=new t.Deferred;return"object"==typeof window.System&&t.isFunction(window.System.import)?window.System.import(e).then(t.proxy(n.resolve,n),t.proxy(n.reject,n)):window.define&&window.define.amd?window.require([e],function(e){n.resolve(e)}):window.steal?steal.steal(e,function(e){n.resolve(e)}):window.require?n.resolve(window.require(e)):n.resolve(),n.promise()},t.__observe=function(){},t}),define("can/util/attr/attr",["can/util/can"],function(e){var t=e.global.setImmediate||function(e){return setTimeout(e,0)},n={MutationObserver:e.global.MutationObserver||e.global.WebKitMutationObserver||e.global.MozMutationObserver,map:{class:"className",value:"value",innertext:"innerText",textcontent:"textContent",checked:!0,disabled:!0,readonly:!0,required:!0,src:function(e,t){return null==t||""===t?(e.removeAttribute("src"),null):(e.setAttribute("src",t),t)},style:function(e,t){return e.style.cssText=t||""}},defaultValue:["input","textarea"],set:function(t,s,i){s=s.toLowerCase();var r;n.MutationObserver||(r=n.get(t,s));var a,o=t.nodeName.toString().toLowerCase(),u=n.map[s];"function"==typeof u?a=u(t,i):!0===u?(a=t[s]=!0,"checked"===s&&"radio"===t.type&&e.inArray(o,n.defaultValue)>=0&&(t.defaultChecked=!0)):u?(a=i,t[u]!==i&&(t[u]=i),"value"===u&&e.inArray(o,n.defaultValue)>=0&&(t.defaultValue=i)):(t.setAttribute(s,i),a=i),n.MutationObserver||a===r||n.trigger(t,s,r)},trigger:function(n,s,i){if(e.data(e.$(n),"canHasAttributesBindings"))return s=s.toLowerCase(),t(function(){e.trigger(n,{type:"attributes",attributeName:s,target:n,oldValue:i,bubbles:!1},[])})},get:function(e,t){t=t.toLowerCase();var s=n.map[t];return"string"==typeof s&&e[s]?e[s]:e.getAttribute(t)},remove:function(e,t){t=t.toLowerCase();var s;n.MutationObserver||(s=n.get(e,t));var i=n.map[t];"function"==typeof i&&i(e,void 0),!0===i?e[t]=!1:"string"==typeof i?e[i]="":e.removeAttribute(t),n.MutationObserver||null==s||n.trigger(e,t,s)},has:function(){var t=e.global.document&&document.createElement("div");return t&&t.hasAttribute?function(e,t){return e.hasAttribute(t)}:function(e,t){return null!==e.getAttribute(t)}}()};return n}),define("can/event/event",["can/util/can"],function(e){return e.addEvent=function(e,t){var n=this.__bindEvents||(this.__bindEvents={});return(n[e]||(n[e]=[])).push({handler:t,name:e}),this},e.listenTo=function(t,n,s){var i=this.__listenToEvents;i||(i=this.__listenToEvents={});var r=e.cid(t),a=i[r];a||(a=i[r]={obj:t,events:{}});var o=a.events[n];o||(o=a.events[n]=[]),o.push(s),e.bind.call(t,n,s)},e.stopListening=function(t,n,s){var i=this.__listenToEvents,r=i,a=0;if(!i)return this;if(t){var o=e.cid(t);if((r={})[o]=i[o],!i[o])return this}for(var u in r){var d,l=r[u];t=i[u].obj,n?(d={})[n]=l.events[n]:d=l.events;for(var c in d){var p=d[c]||[];for(a=0;a<p.length;)s&&s===p[a]||!s?(e.unbind.call(t,c,p[a]),p.splice(a,1)):a++;p.length||delete l.events[c]}e.isEmptyObject(l.events)&&delete i[u]}return this},e.removeEvent=function(e,t,n){if(!this.__bindEvents)return this;for(var s,i=this.__bindEvents[e]||[],r=0,a="function"==typeof t;r<i.length;)s=i[r],(n?n(s,e,t):a&&s.handler===t||!a&&(s.cid===t||!t))?i.splice(r,1):r++;return this},e.dispatch=function(e,t){var n=this.__bindEvents;if(n){"string"==typeof e&&(e={type:e});var s=(n[e.type]||[]).slice(0),i=[e];t&&i.push.apply(i,t);for(var r=0,a=s.length;r<a;r++)s[r].handler.apply(this,i);return e}},e.one=function(t,n){var s=function(){return e.unbind.call(this,t,s),n.apply(this,arguments)};return e.bind.call(this,t,s),this},e.event={on:function(){return 0===arguments.length&&e.Control&&this instanceof e.Control?e.Control.prototype.on.call(this):e.addEvent.apply(this,arguments)},off:function(){return 0===arguments.length&&e.Control&&this instanceof e.Control?e.Control.prototype.off.call(this):e.removeEvent.apply(this,arguments)},bind:e.addEvent,unbind:e.removeEvent,delegate:function(t,n,s){return e.addEvent.call(this,n,s)},undelegate:function(t,n,s){return e.removeEvent.call(this,n,s)},trigger:e.dispatch,one:e.one,addEvent:e.addEvent,removeEvent:e.removeEvent,listenTo:e.listenTo,stopListening:e.stopListening,dispatch:e.dispatch},e.event}),define("can/util/array/each",["can/util/can"],function(e){var t=function(e){var t="length"in e&&e.length;return"function"!=typeof arr&&(0===t||"number"==typeof t&&t>0&&t-1 in e)};return e.each=function(n,s,i){var r,a,o,u=0;if(n)if(t(n))if(e.List&&n instanceof e.List)for(a=n.attr("length");u<a&&(o=n.attr(u),!1!==s.call(i||o,o,u,n));u++);else for(a=n.length;u<a&&(o=n[u],!1!==s.call(i||o,o,u,n));u++);else if("object"==typeof n)if(e.Map&&n instanceof e.Map||n===e.route){var d=e.Map.keys(n);for(u=0,a=d.length;u<a&&(r=d[u],o=n.attr(r),!1!==s.call(i||o,o,r,n));u++);}else for(r in n)if(n.hasOwnProperty(r)&&!1===s.call(i||n[r],n[r],r,n))break;return n},e}),define("can/util/inserted/inserted",["can/util/can"],function(e){e.inserted=function(t){t=e.makeArray(t);for(var n,s,i=!1,r=e.$(document.contains?document:document.body),a=0;void 0!==(s=t[a]);a++){if(!i){if(!s.getElementsByTagName)continue;if(!e.has(r,s).length)return;i=!0}if(i&&s.getElementsByTagName){n=e.makeArray(s.getElementsByTagName("*")),e.trigger(s,"inserted",[],!1);for(var o,u=0;void 0!==(o=n[u]);u++)e.trigger(o,"inserted",[],!1)}}},e.appendChild=function(t,n){var s;s=11===n.nodeType?e.makeArray(n.childNodes):[n],t.appendChild(n),e.inserted(s)},e.insertBefore=function(t,n,s){var i;i=11===n.nodeType?e.makeArray(n.childNodes):[n],t.insertBefore(n,s),e.inserted(i)}}),define("can/util/jquery/jquery",["jquery/jquery","can/util/can","can/util/attr/attr","can/event/event","can/util/array/each","can/util/inserted/inserted"],function(e,t,n,s){var i=function(e){return e.nodeName&&(1===e.nodeType||9===e.nodeType)||e==window};(e=e||window.jQuery).extend(t,e,{trigger:function(n,s,r,a){i(n)?e.event.trigger(s,r,n,!a):n.trigger?n.trigger(s,r):("string"==typeof s&&(s={type:s}),s.target=s.target||n,r&&(r.length&&"string"==typeof r?r=[r]:r.length||(r=[r])),r||(r=[]),t.dispatch.call(n,s,r))},event:t.event,addEvent:t.addEvent,removeEvent:t.removeEvent,buildFragment:function(t,n){var s;return t=[t],n=n||document,n=!n.nodeType&&n[0]||n,n=n.ownerDocument||n,(s=e.buildFragment(t,n)).cacheable?e.clone(s.fragment):s.fragment||s},$:e,each:t.each,bind:function(n,s){return this.bind&&this.bind!==t.bind?this.bind(n,s):i(this)?e.event.add(this,n,s):t.addEvent.call(this,n,s),this},unbind:function(n,s){return this.unbind&&this.unbind!==t.unbind?this.unbind(n,s):i(this)?e.event.remove(this,n,s):t.removeEvent.call(this,n,s),this},delegate:function(n,s,r){return this.delegate?this.delegate(n,s,r):i(this)?e(this).delegate(n,s,r):t.bind.call(this,s,r),this},undelegate:function(n,s,r){return this.undelegate?this.undelegate(n,s,r):i(this)?e(this).undelegate(n,s,r):t.unbind.call(this,s,r),this},proxy:t.proxy,attr:n}),t.on=t.bind,t.off=t.unbind,e.each(["append","filter","addClass","remove","data","get","has"],function(e,n){t[n]=function(e){return e[n].apply(e,t.makeArray(arguments).slice(1))}});var r=e.cleanData;e.cleanData=function(n){e.each(n,function(e,n){n&&t.trigger(n,"removed",[],!1)}),r(n)};var a,o=e.fn.domManip;if(e.fn.domManip=function(e,t,n){for(var s=1;s<arguments.length;s++)if("function"==typeof arguments[s]){a=s;break}return o.apply(this,arguments)},e(document.createElement("div")).append(document.createElement("div")),e.fn.domManip=2===a?function(e,n,s){return o.call(this,e,n,function(e){var n;11===e.nodeType&&(n=t.makeArray(e.childNodes));var i=s.apply(this,arguments);return t.inserted(n||[e]),i})}:function(e,n){return o.call(this,e,function(e){var s;11===e.nodeType&&(s=t.makeArray(e.childNodes));var i=n.apply(this,arguments);return t.inserted(s||[e]),i})},t.attr.MutationObserver)e.event.special.attributes={setup:function(){var e=this,n=new t.attr.MutationObserver(function(n){n.forEach(function(n){var s=t.simpleExtend({},n);t.trigger(e,s,[])})});n.observe(this,{attributes:!0,attributeOldValue:!0}),t.data(t.$(this),"canAttributesObserver",n)},teardown:function(){t.data(t.$(this),"canAttributesObserver").disconnect(),e.removeData(this,"canAttributesObserver")}};else{var u=e.attr;e.attr=function(e,n){var s,i;arguments.length>=3&&(s=u.call(this,e,n));var r=u.apply(this,arguments);return arguments.length>=3&&(i=u.call(this,e,n)),i!==s&&t.attr.trigger(e,n,s),r};var d=e.removeAttr;e.removeAttr=function(e,n){var s=u.call(this,e,n),i=d.apply(this,arguments);return null!=s&&t.attr.trigger(e,n,s),i},e.event.special.attributes={setup:function(){t.data(t.$(this),"canHasAttributesBindings",!0)},teardown:function(){e.removeData(this,"canHasAttributesBindings")}}}return function(){if("<-\n>"!==t.buildFragment("<-\n>",document).childNodes[0].nodeValue){var e=t.buildFragment;t.buildFragment=function(t,n){var s=e(t,n);return 1===s.childNodes.length&&3===s.childNodes[0].nodeType&&(s.childNodes[0].nodeValue=t),s}}}(),e.event.special.inserted={},e.event.special.removed={},t}),define("can/util/util",["can/util/jquery/jquery"],function(e){return e}),define("can/util/array/makeArray",[],function(){return{}}),define("can/util/domless/domless",[],function(){return{}}),define("can/util/bind/bind",["can/util/util"],function(e){return e.bindAndSetup=function(){return e.addEvent.apply(this,arguments),this._init||(this._bindings?this._bindings++:(this._bindings=1,this._bindsetup&&this._bindsetup())),this},e.unbindAndTeardown=function(t,n){if(!this.__bindEvents)return this;var s=this.__bindEvents[t]||[],i=s.length;return e.removeEvent.apply(this,arguments),null===this._bindings?this._bindings=0:this._bindings=this._bindings-(i-s.length),!this._bindings&&this._bindteardown&&this._bindteardown(),this},e}),define("can/map/bubble",["can/util/util"],function(e){var t=e.bubble={event:function(e,t){return e.constructor._bubbleRule(t,e)},childrenOf:function(e,n){e._each(function(s,i){s&&s.bind&&t.toParent(s,e,i,n)})},teardownChildrenFrom:function(e,n){e._each(function(s){t.teardownFromParent(e,s,n)})},toParent:function(t,n,s,i){e.listenTo.call(n,t,i,function(){var i=e.makeArray(arguments),r=i.shift();i[0]=(e.List&&n instanceof e.List?n.indexOf(t):s)+(i[0]?"."+i[0]:""),r.triggeredNS=r.triggeredNS||{},r.triggeredNS[n._cid]||(r.triggeredNS[n._cid]=!0,e.trigger(n,r,i))})},teardownFromParent:function(t,n,s){n&&n.unbind&&e.stopListening.call(t,n,s)},isBubbling:function(e,t){return e._bubbleBindings&&e._bubbleBindings[t]},bind:function(e,n){if(!e._init){var s,i=t.event(e,n),r=i.length;e._bubbleBindings||(e._bubbleBindings={});for(var a=0;a<r;a++)s=i[a],e._bubbleBindings[s]?e._bubbleBindings[s]++:(e._bubbleBindings[s]=1,t.childrenOf(e,s))}},unbind:function(n,s){for(var i,r=t.event(n,s),a=r.length,o=0;o<a;o++)i=r[o],n._bubbleBindings&&n._bubbleBindings[i]--,n._bubbleBindings&&!n._bubbleBindings[i]&&(delete n._bubbleBindings[i],t.teardownChildrenFrom(n,i),e.isEmptyObject(n._bubbleBindings)&&delete n._bubbleBindings)},add:function(n,s,i){if(s instanceof e.Map&&n._bubbleBindings)for(var r in n._bubbleBindings)n._bubbleBindings[r]&&(t.teardownFromParent(n,s,r),t.toParent(s,n,i,r))},removeMany:function(e,n){for(var s=0,i=n.length;s<i;s++)t.remove(e,n[s])},remove:function(n,s){if(s instanceof e.Map&&n._bubbleBindings)for(var i in n._bubbleBindings)n._bubbleBindings[i]&&t.teardownFromParent(n,s,i)},set:function(n,s,i,r){return e.Map.helpers.isObservable(i)&&t.add(n,i,s),e.Map.helpers.isObservable(r)&&t.remove(n,r),i}};return t}),define("can/util/string/string",["can/util/util"],function(e){var t=/\=\=/,n=/([A-Z]+)([A-Z][a-z])/g,s=/([a-z\d])([A-Z])/g,i=/([a-z\d])([A-Z])/g,r=/\{([^\}]+)\}/g,a=/"/g,o=/'/g,u=/-+(.)?/g,d=/[a-z][A-Z]/g,l=function(e,t,n){var s=e[t];return void 0===s&&!0===n&&(s=e[t]={}),s},c=function(e){return/^f|^o/.test(typeof e)},p=function(e){return""+(null===e||void 0===e||isNaN(e)&&""+e=="NaN"?"":e)};return e.extend(e,{esc:function(e){return p(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(a,"&#34;").replace(o,"&#39;")},getObject:function(t,n,s){var i,r,a,o,u=t?t.split("."):[],d=u.length,p=0;if(n=e.isArray(n)?n:[n||window],o=n.length,!d)return n[0];for(p;p<o;p++){for(i=n[p],a=void 0,r=0;r<d&&c(i);r++)i=l(a=i,u[r]);if(void 0!==a&&void 0!==i)break}if(!1===s&&void 0!==i&&delete a[u[r-1]],!0===s&&void 0===i)for(i=n[0],r=0;r<d&&c(i);r++)i=l(i,u[r],!0);return i},capitalize:function(e,t){return e.charAt(0).toUpperCase()+e.slice(1)},camelize:function(e){return p(e).replace(u,function(e,t){return t?t.toUpperCase():""})},hyphenate:function(e){return p(e).replace(d,function(e,t){return e.charAt(0)+"-"+e.charAt(1).toLowerCase()})},underscore:function(e){return e.replace(t,"/").replace(n,"$1_$2").replace(s,"$1_$2").replace(i,"_").toLowerCase()},sub:function(t,n,s){var i=[];return t=t||"",i.push(t.replace(r,function(t,r){var a=e.getObject(r,n,!0!==s&&void 0);return void 0===a||null===a?(i=null,""):c(a)&&i?(i.push(a),""):""+a})),null===i?i:i.length<=1?i[0]:i},replacer:r,undHash:/_|-/}),e}),define("can/construct/construct",["can/util/string/string"],function(e){var t,n=0;try{Object.getOwnPropertyDescriptor({}),t=!0}catch(e){t=!1}var s=function(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return n&&(n.get||n.set)?n:null};return e.Construct=function(){if(arguments.length)return e.Construct.extend.apply(e.Construct,arguments)},e.extend(e.Construct,{constructorExtends:!0,newInstance:function(){var e,t=this.instance();return t.setup&&(e=t.setup.apply(t,arguments)),t.init&&t.init.apply(t,e||arguments),t},_inherit:t?function(t,n,i){i=i||t;var r;for(var a in t)(r=s(t,a))?this._defineProperty(i,n,a,r):e.Construct._overwrite(i,n,a,t[a])}:function(t,n,s){s=s||t;for(var i in t)e.Construct._overwrite(s,n,i,t[i])},_defineProperty:function(e,t,n,s){Object.defineProperty(e,n,s)},_overwrite:function(e,t,n,s){e[n]=s},setup:function(t,n){this.defaults=e.extend(!0,{},t.defaults,this.defaults)},instance:function(){n=1;var e=new this;return n=0,e},extend:function(t,s,i){function r(){if(!n)return this.constructor!==d&&arguments.length&&d.constructorExtends?d.extend.apply(d,arguments):d.newInstance.apply(d,arguments)}var a=t,o=s,u=i;"string"!=typeof a&&(u=o,o=a,a=null),u||(u=o,o=null),u=u||{};var d,l,c,p,f,m,h,_,v,g=this,b=this.prototype;v=this.instance(),e.Construct._inherit(u,b,v),a&&(h=(l=a.split(".")).pop()),"undefined"==typeof constructorName&&(d=function(){return r.apply(this,arguments)});for(m in g)g.hasOwnProperty(m)&&(d[m]=g[m]);e.Construct._inherit(o,g,d),a&&(_=c=e.getObject(l.join("."),window,!0),p=e.underscore(a.replace(/\./g,"_")),f=e.underscore(h),c[h]=d),e.extend(d,{constructor:d,prototype:v,namespace:_,_shortName:f,fullName:a,_fullName:p}),void 0!==h&&(d.shortName=h),d.prototype.constructor=d;var w=[g].concat(e.makeArray(arguments)),y=d.setup.apply(d,w);return d.init&&d.init.apply(d,y||w),d}}),e.Construct.prototype.setup=function(){},e.Construct.prototype.init=function(){},e.Construct}),define("can/util/batch/batch",["can/util/can"],function(e){var t=1,n=0,s=[],i=[],r=null;e.batch={start:function(e){n++,e&&i.push(e)},stop:function(a,o){if(a?n=0:n--,0===n){if(null!==r)return;r=s.slice(0);var u,d=i.slice(0);for(s=[],i=[],e.batch.batchNum=t,t++,o&&e.batch.start(),u=0;u<r.length;u++)e.dispatch.apply(r[u][0],r[u][1]);for(r=null,u=0,d.length;u<d.length;u++)d[u]();e.batch.batchNum=void 0}},trigger:function(i,a,o){if(!i._init)if(a="string"==typeof a?{type:a,batchNum:e.batch.batchNum}:a,r)r.push([i,[a,o]]);else{if(0===n)return e.dispatch.call(i,a,o);a.batchNum=t,s.push([i,[a,o]])}},afterPreviousEvents:function(t){if(r){var n={};e.bind.call(n,"ready",t),r.push([n,[{type:"ready"},[]]])}else t()}}}),define("can/map/map",["can/util/util","can/util/bind/bind","./bubble","can/construct/construct","can/util/batch/batch"],function(e,t,n){var s=null,i=function(){for(var e in s)s[e].added&&delete s[e].obj._cid;s=null},r=function(e){return s&&s[e._cid]&&s[e._cid].instance},a=null,o=e.Map=e.Construct.extend({setup:function(){if(e.Construct.setup.apply(this,arguments),e.Map){this.defaults||(this.defaults={}),this._computes=[];for(var t in this.prototype)"define"!==t&&"constructor"!==t&&("function"!=typeof this.prototype[t]||this.prototype[t].prototype instanceof e.Construct)?this.defaults[t]=this.prototype[t]:this.prototype[t].isComputed&&this._computes.push(t);this.helpers.define&&this.helpers.define(this)}!e.List||this.prototype instanceof e.List||(this.List=o.List.extend({Map:this},{}))},_bubble:n,_bubbleRule:function(e){return"change"===e||e.indexOf(".")>=0?["change"]:[]},_computes:[],bind:e.bindAndSetup,on:e.bindAndSetup,unbind:e.unbindAndTeardown,off:e.unbindAndTeardown,id:"id",helpers:{define:null,attrParts:function(e,t){return t?[e]:"object"==typeof e?e:(""+e).split(".")},addToMap:function(t,n){var r;s||(r=i,s={});var a=t._cid,o=e.cid(t);return s[o]||(s[o]={obj:t,instance:n,added:!a}),r},isObservable:function(t){return t instanceof e.Map||t&&t===e.route},canMakeObserve:function(t){return t&&!e.isDeferred(t)&&(e.isArray(t)||e.isPlainObject(t))},serialize:function(t,n,s){var i=e.cid(t),r=!1;return a||(r=!0,a={attr:{},serialize:{}}),a[n][i]=s,t.each(function(i,r){var u;void 0!==(u=o.helpers.isObservable(i)&&a[n][e.cid(i)]||("serialize"===n?o.helpers._serialize(t,r,i):o.helpers._getValue(t,r,i,n)))&&(s[r]=u)}),e.__observe(t,"__keys"),r&&(a=null),s},_serialize:function(e,t,n){return o.helpers._getValue(e,t,n,"serialize")},_getValue:function(e,t,n,s){return o.helpers.isObservable(n)?n[s]():n}},keys:function(t){var n=[];e.__observe(t,"__keys");for(var s in t._data)n.push(s);return n}},{setup:function(t){t instanceof e.Map&&(t=t.serialize()),this._data={},e.cid(this,".map"),this._init=1,this._computedBindings={};var n=this._setupDefaults(t);this._setupComputes(n);var s=t&&e.Map.helpers.addToMap(t,this),i=e.extend(e.extend(!0,{},n),t);this.attr(i),s&&s(),this.bind("change",e.proxy(this._changes,this)),delete this._init},_setupComputes:function(){for(var e,t=this.constructor._computes,n=0,s=t.length;n<s;n++)this[e=t[n]]=this[e].clone(this),this._computedBindings[e]={count:0}},_setupDefaults:function(){return this.constructor.defaults||{}},_bindsetup:function(){},_bindteardown:function(){},_changes:function(t,n,s,i,r){e.batch.trigger(this,{type:n,batchNum:t.batchNum,target:t.target},[i,r])},_triggerChange:function(t,s,i,r){n.isBubbling(this,"change")?e.batch.trigger(this,{type:"change",target:this},[t,s,i,r]):e.batch.trigger(this,t,[i,r]),"remove"!==s&&"add"!==s||e.batch.trigger(this,{type:"__keys",target:this})},_each:function(e){var t=this.__get();for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)},attr:function(e,t){var n=typeof e;return"string"!==n&&"number"!==n?this._attrs(e,t):1===arguments.length?this._get(e):(this._set(e,t),this)},each:function(){return e.each.apply(void 0,[this].concat(e.makeArray(arguments)))},removeAttr:function(t){var n=e.List&&this instanceof e.List,s=e.Map.helpers.attrParts(t),i=s.shift(),r=n?this[i]:this._data[i];return s.length&&r?r.removeAttr(s):("string"==typeof t&&~t.indexOf(".")&&(i=t),this._remove(i,r),r)},_remove:function(e,t){e in this._data&&(delete this._data[e],e in this.constructor.prototype||delete this[e],this._triggerChange(e,"remove",void 0,t))},_get:function(t){var n=(t=""+t).indexOf(".");if(n>=0){var s=this.__get(t);if(void 0!==s)return s;var i=t.substr(0,n),r=t.substr(n+1);e.__observe(this,i);var a=this.__get(i);return a&&a._get?a._get(r):void 0}return e.__observe(this,t),this.__get(t)},__get:function(e){return e?this._computedBindings[e]?this[e]():this._data[e]:this._data},__type:function(t,n){return t instanceof e.Map||!e.Map.helpers.canMakeObserve(t)?t:r(t)||(e.isArray(t)?new(0,e.List)(t):new(this.constructor.Map||e.Map)(t))},_set:function(e,t,n){var s,i=(e=""+e).indexOf(".");if(!n&&i>=0){var r=e.substr(0,i),a=e.substr(i+1);if(s=this._init?void 0:this.__get(r),!o.helpers.isObservable(s))throw new Error("can.Map: Object does not exist");s._set(a,t)}else this.__convert&&(t=this.__convert(e,t)),s=this._init?void 0:this.__get(e),this.__set(e,this.__type(t,e),s)},__set:function(e,t,n){if(t!==n){var s=void 0!==n||this.__get().hasOwnProperty(e)?"set":"add";this.___set(e,this.constructor._bubble.set(this,e,t,n)),this._computedBindings[e]||this._triggerChange(e,s,t,n),n&&this.constructor._bubble.teardownFromParent(this,n)}},___set:function(e,t){this._computedBindings[e]?this[e](t):this._data[e]=t,"function"==typeof this.constructor.prototype[e]||this._computedBindings[e]||(this[e]=t)},bind:function(t,n){var s=this._computedBindings&&this._computedBindings[t];if(s)if(s.count)s.count++;else{s.count=1;var i=this;s.handler=function(n,s,r){e.batch.trigger(i,{type:t,batchNum:n.batchNum,target:i},[s,r])},this[t].bind("change",s.handler)}return this.constructor._bubble.bind(this,t),e.bindAndSetup.apply(this,arguments)},unbind:function(t,n){var s=this._computedBindings&&this._computedBindings[t];return s&&(1===s.count?(s.count=0,this[t].unbind("change",s.handler),delete s.handler):s.count--),this.constructor._bubble.unbind(this,t),e.unbindAndTeardown.apply(this,arguments)},serialize:function(){return e.Map.helpers.serialize(this,"serialize",{})},_attrs:function(t,n){if(void 0===t)return o.helpers.serialize(this,"attr",{});t=e.simpleExtend({},t);var s,i,r=this;e.batch.start(),this.each(function(e,s){"_cid"!==s&&(void 0!==(i=t[s])?(r.__convert&&(i=r.__convert(s,i)),o.helpers.isObservable(i)?r.__set(s,r.__type(i,s),e):o.helpers.isObservable(e)&&o.helpers.canMakeObserve(i)?e.attr(i,n):e!==i&&r.__set(s,r.__type(i,s),e),delete t[s]):n&&r.removeAttr(s))});for(s in t)"_cid"!==s&&(i=t[s],this._set(s,i,!0));return e.batch.stop(),this},compute:function(t){if(e.isFunction(this.constructor.prototype[t]))return e.compute(this[t],this);var n=t.split("."),s=n.length-1,i={args:[]};return e.compute(function(t){if(!arguments.length)return e.compute.read(this,n,i).value;e.compute.read(this,n.slice(0,s)).value.attr(n[s],t)},this)}});return o.prototype.on=o.prototype.bind,o.prototype.off=o.prototype.unbind,o}),define("can/list/list",["can/util/util","can/map/map","can/map/bubble"],function(e,t,n){var s=[].splice,i=function(){var e={0:"a",length:1};return s.call(e,0,1),!e[0]}(),r=t.extend({Map:t},{setup:function(t,n){this.length=0,e.cid(this,".map"),this._init=1,this._computedBindings={},this._setupComputes(),t=t||[];var s;e.isDeferred(t)?this.replace(t):(s=t.length&&e.Map.helpers.addToMap(t,this),this.push.apply(this,e.makeArray(t||[]))),s&&s(),this.bind("change",e.proxy(this._changes,this)),e.simpleExtend(this,n),delete this._init},_triggerChange:function(n,s,i,r){t.prototype._triggerChange.apply(this,arguments);var a=+n;~(""+n).indexOf(".")||isNaN(a)||("add"===s?(e.batch.trigger(this,s,[i,a]),e.batch.trigger(this,"length",[this.length])):"remove"===s?(e.batch.trigger(this,s,[r,a]),e.batch.trigger(this,"length",[this.length])):e.batch.trigger(this,s,[i,a]))},__get:function(t){return t?this[t]&&this[t].isComputed&&e.isFunction(this.constructor.prototype[t])?this[t]():this[t]:this},__set:function(t,n,s){if("number"==typeof(t=isNaN(+t)||t%1?t:+t)&&t>this.length-1){var i=new Array(t+1-this.length);return i[i.length-1]=n,this.push.apply(this,i),i}return e.Map.prototype.__set.call(this,""+t,n,s)},___set:function(e,t){this[e]=t,+e>=this.length&&(this.length=+e+1)},_remove:function(e,t){isNaN(+e)?(delete this[e],this._triggerChange(e,"remove",void 0,t)):this.splice(e,1)},_each:function(e){for(var t=this.__get(),n=0;n<t.length;n++)e(t[n],n)},serialize:function(){return t.helpers.serialize(this,"serialize",[])},splice:function(t,r){var a,o,u,d=e.makeArray(arguments),l=[],c=d.length>2;for(t=t||0,a=0,o=d.length-2;a<o;a++)d[u=a+2]=this.__type(d[u],u),l.push(d[u]),this[a+t]!==d[u]&&(c=!1);if(c&&this.length<=l.length)return l;void 0===r&&(r=d[1]=this.length-t);var p=s.apply(this,d);if(!i)for(a=this.length;a<p.length+this.length;a++)delete this[a];if(e.batch.start(),r>0&&(n.removeMany(this,p),this._triggerChange(""+t,"remove",void 0,p)),d.length>2){for(a=0,o=l.length;a<o;a++)n.set(this,a,l[a]);this._triggerChange(""+t,"add",l,p)}return e.batch.stop(),p},_attrs:function(n,s){if(void 0===n)return t.helpers.serialize(this,"attr",[]);n=e.makeArray(n),e.batch.start(),this._updateAttrs(n,s),e.batch.stop()},_updateAttrs:function(e,n){for(var s=Math.min(e.length,this.length),i=0;i<s;i++){var r=this[i],a=e[i];t.helpers.isObservable(r)&&t.helpers.canMakeObserve(a)?r.attr(a,n):r!==a&&this._set(i,a)}e.length>this.length?this.push.apply(this,e.slice(this.length)):e.length<this.length&&n&&this.splice(e.length)}}),a=function(t){return t[0]&&e.isArray(t[0])?t[0]:e.makeArray(t)};return e.each({push:"length",unshift:0},function(e,t){var s=[][t];r.prototype[t]=function(){for(var t,i,r=[],a=e?this.length:0,o=arguments.length;o--;)i=arguments[o],r[o]=n.set(this,o,this.__type(i,o));return t=s.apply(this,r),this.comparator&&!r.length||this._triggerChange(""+a,"add",r,void 0),t}}),e.each({pop:"length",shift:0},function(e,t){r.prototype[t]=function(){if(this.length){var s=a(arguments),i=e&&this.length?this.length-1:0,r=[][t].apply(this,s);return this._triggerChange(""+i,"remove",void 0,[r]),r&&r.unbind&&n.remove(this,r),r}}}),e.extend(r.prototype,{indexOf:function(t,n){return this.attr("length"),e.inArray(t,this,n)},join:function(){return[].join.apply(this.attr(),arguments)},reverse:function(){var t=[].reverse.call(e.makeArray(this));this.replace(t)},slice:function(){var e=Array.prototype.slice.apply(this,arguments);return new this.constructor(e)},concat:function(){var t=[];return e.each(e.makeArray(arguments),function(n,s){t[s]=n instanceof e.List?n.serialize():n}),new this.constructor(Array.prototype.concat.apply(this.serialize(),t))},forEach:function(t,n){return e.each(this,t,n||this)},replace:function(t){return e.isDeferred(t)?t.then(e.proxy(this.replace,this)):this.splice.apply(this,[0,this.length].concat(e.makeArray(t||[]))),this},filter:function(t,n){var s,i=new e.List,r=this;return this.each(function(e,a,o){(s=t.call(n|r,e,a,r))&&i.push(e)}),i}}),e.List=t.List=r,e.List}),define("can/util/string/deparam/deparam",["can/util/util","can/util/string/string"],function(e){var t=/^\d+$/,n=/([^\[\]]+)|(\[\])/g,s=/([^?#]*)(#.*)?$/,i=function(e){return decodeURIComponent(e.replace(/\+/g," "))};return e.extend(e,{deparam:function(r){var a,o,u={};return r&&s.test(r)&&(a=r.split("&"),e.each(a,function(e){var s=e.split("="),r=i(s.shift()),a=i(s.join("=")),d=u;if(r){for(var l=0,c=(s=r.match(n)).length-1;l<c;l++)d[s[l]]||(d[s[l]]=t.test(s[l+1])||"[]"===s[l+1]?[]:{}),d=d[s[l]];"[]"===(o=s.pop())?d.push(a):d[o]=a}})),u}}),e}),define("can/route/route",["can/util/util","can/map/map","can/list/list","can/util/string/deparam/deparam"],function(e){var t,n,s,i,r=/\:([\w\.]+)/g,a=function(t){var n=[];return e.each(t,function(t,s){n.push(("className"===s?"class":s)+'="'+("href"===s?t:e.esc(t))+'"')}),n.join(" ")},o=function(e,t){var n=0,s=0,i={};for(var r in e.defaults)e.defaults[r]===t[r]&&(i[r]=1,n++);for(;s<e.names.length;s++){if(!t.hasOwnProperty(e.names[s]))return-1;i[e.names[s]]||n++}return n},u=window.location,d=function(e){return(e+"").replace(/([.?*+\^$\[\]\\(){}|\-])/g,"\\$1")},l=e.each,c=e.extend,p=function(t){return t&&"object"==typeof t?(t=t instanceof e.Map?t.attr():e.isFunction(t.slice)?t.slice():e.extend({},t),e.each(t,function(e,n){t[n]=p(e)})):void 0!==t&&null!==t&&e.isFunction(t.toString)&&(t=t.toString()),t},f=function(e){return e.replace(/\\/g,"")},m=[],h=function(n,r,a,o){i=1,m.push(r),clearTimeout(t),t=setTimeout(function(){i=0;var t=e.route.data.serialize(),n=e.route.param(t,!0);e.route._call("setURL",n,m),e.batch.trigger(_,"__url",[n,s]),s=n,m=[]},10)},_=e.extend({},e.event);e.route=function(t,n){var s=e.route._call("root");s.lastIndexOf("/")===s.length-1&&0===t.indexOf("/")&&(t=t.substr(1)),n=n||{};for(var i,a=[],o="",u=r.lastIndex=0,l=e.route._call("querySeparator"),c=e.route._call("matchSlashes");i=r.exec(t);)a.push(i[1]),o+=f(t.substring(u,r.lastIndex-i[0].length)),o+="([^\\"+(f(t.substr(r.lastIndex,1))||l+(c?"":"|/"))+"]"+(n[i[1]]?"*":"+")+")",u=r.lastIndex;return o+=t.substr(u).replace("\\",""),e.route.routes[t]={test:new RegExp("^"+o+"($|"+d(l)+")"),route:t,names:a,defaults:n,length:t.split("/").length},e.route},c(e.route,{param:function(t,n){var s,i,a=0,u=t.route,d=0;if(delete t.route,l(t,function(){d++}),l(e.route.routes,function(e,n){if((i=o(e,t))>a&&(s=e,a=i),i>=d)return!1}),e.route.routes[u]&&o(e.route.routes[u],t)===a&&(s=e.route.routes[u]),s){var p,f=c({},t),m=s.route.replace(r,function(e,n){return delete f[n],t[n]===s.defaults[n]?"":encodeURIComponent(t[n])}).replace("\\","");return l(s.defaults,function(e,t){f[t]===e&&delete f[t]}),p=e.param(f),n&&e.route.attr("route",s.route),m+(p?e.route._call("querySeparator")+p:"")}return e.isEmptyObject(t)?"":e.route._call("querySeparator")+e.param(t)},deparam:function(t){var n=e.route._call("root");n.lastIndexOf("/")===n.length-1&&0===t.indexOf("/")&&(t=t.substr(1));var s={length:-1},i=e.route._call("querySeparator"),r=e.route._call("paramsMatcher");if(l(e.route.routes,function(e,n){e.test.test(t)&&e.length>s.length&&(s=e)}),s.length>-1){var a=t.match(s.test),o=a.shift(),u=t.substr(o.length-(a[a.length-1]===i?1:0)),d=u&&r.test(u)?e.deparam(u.slice(1)):{};return d=c(!0,{},s.defaults,d),l(a,function(e,t){e&&e!==i&&(d[s.names[t]]=decodeURIComponent(e))}),d.route=s.route,d}return t.charAt(0)!==i&&(t=i+t),r.test(t)?e.deparam(t.slice(1)):{}},data:new e.Map({}),map:function(t){var n;n=t.prototype instanceof e.Map?new t:t,e.route.data=n},routes:{},ready:function(t){return!0!==t&&(e.route._setup(),e.route.setState()),e.route},url:function(t,n){return n&&(t=e.extend({},e.route.deparam(e.route._call("matchingPartOfURL")),t)),e.route._call("root")+e.route.param(t)},link:function(t,n,s,i){return"<a "+a(c({href:e.route.url(n,i)},s))+">"+t+"</a>"},current:function(t){return e.__observe(_,"__url"),this._call("matchingPartOfURL")===e.route.param(t)},bindings:{hashchange:{paramsMatcher:/^(?:&[^=]+=[^&]*)+/,querySeparator:"&",matchSlashes:!1,bind:function(){e.bind.call(window,"hashchange",v)},unbind:function(){e.unbind.call(window,"hashchange",v)},matchingPartOfURL:function(){return u.href.split(/#!?/)[1]||""},setURL:function(e){return u.hash!=="#"+e&&(u.hash="!"+e),e},root:"#!"}},defaultBinding:"hashchange",currentBinding:null,_setup:function(){e.route.currentBinding||(e.route._call("bind"),e.route.bind("change",h),e.route.currentBinding=e.route.defaultBinding)},_teardown:function(){e.route.currentBinding&&(e.route._call("unbind"),e.route.unbind("change",h),e.route.currentBinding=null),clearTimeout(t),i=0},_call:function(){var t=e.makeArray(arguments),n=t.shift(),s=e.route.bindings[e.route.currentBinding||e.route.defaultBinding],i=s[n];return i.apply?i.apply(s,t):i}}),l(["bind","unbind","on","off","delegate","undelegate","removeAttr","compute","_get","__get","each"],function(t){e.route[t]=function(){if(e.route.data[t])return e.route.data[t].apply(e.route.data,arguments)}}),e.route.attr=function(t,n){var s,i=typeof t;return s=void 0===n?arguments:"string"!==i&&"number"!==i?[p(t),n]:[t,p(n)],e.route.data.attr.apply(e.route.data,s)};var v=e.route.setState=function(){var t=e.route._call("matchingPartOfURL"),r=n;n=e.route.deparam(t),i&&t===s||(e.batch.start(),g(r,n,e.route.data),e.route.attr(n),e.batch.trigger(_,"__url",[t,s]),e.batch.stop())},g=function(e,t,n){for(var s in e)void 0===t[s]?n.removeAttr(s):"[object Object]"===Object.prototype.toString.call(e[s])&&g(e[s],t[s],n.attr(s))};return e.route}),define("can/control/control",["can/util/util","can/construct/construct"],function(e){var t,n=function(t,n,s){return e.bind.call(t,n,s),function(){e.unbind.call(t,n,s)}},s=e.isFunction,i=e.extend,r=e.each,a=[].slice,o=/\{([^\}]+)\}/g,u=e.getObject("$.event.special",[e])||{},d=function(t,n,s,i){return e.delegate.call(t,n,s,i),function(){e.undelegate.call(t,n,s,i)}},l=function(t,s,i,r){return r?d(t,e.trim(r),s,i):n(t,s,i)},c=e.Control=e.Construct({setup:function(){if(e.Construct.setup.apply(this,arguments),e.Control){var t,n=this;n.actions={};for(t in n.prototype)n._isAction(t)&&(n.actions[t]=n._action(t))}},_shifter:function(t,n){var i="string"==typeof n?t[n]:n;return s(i)||(i=t[i]),function(){return t.called=n,i.apply(t,[this.nodeName?e.$(this):this].concat(a.call(arguments,0)))}},_isAction:function(e){var t=this.prototype[e],n=typeof t;return"constructor"!==e&&("function"===n||"string"===n&&s(this.prototype[t]))&&!!(u[e]||p[e]||/[^\w]/.test(e))},_action:function(n,s){if(o.lastIndex=0,s||!o.test(n)){var i=s?e.sub(n,this._lookup(s)):n;if(!i)return null;var r=e.isArray(i),a=r?i[1]:i,u=a.split(/\s+/g),d=u.pop();return{processor:p[d]||t,parts:[a,u.join(" "),d],delegate:r?i[0]:void 0}}},_lookup:function(e){return[e,window]},processors:{},defaults:{}},{setup:function(t,n){var s,r=this.constructor,a=r.pluginName||r._fullName;return this.element=e.$(t),a&&"can_control"!==a&&this.element.addClass(a),(s=e.data(this.element,"controls"))||(s=[],e.data(this.element,"controls",s)),s.push(this),this.options=i({},r.defaults,n),this.on(),[this.element,this.options]},on:function(t,n,s,i){if(!t){this.off();var r,a,o=this.constructor,u=this._bindings,d=o.actions,c=this.element,p=e.Control._shifter(this,"destroy");for(r in d)d.hasOwnProperty(r)&&(a=d[r]||o._action(r,this.options,this))&&(u.control[r]=a.processor(a.delegate||c,a.parts[2],a.parts[1],r,this));return e.bind.call(c,"removed",p),u.user.push(function(t){e.unbind.call(t,"removed",p)}),u.user.length}return"string"==typeof t&&(i=s,s=n,n=t,t=this.element),void 0===i&&(i=s,s=n,n=null),"string"==typeof i&&(i=e.Control._shifter(this,i)),this._bindings.user.push(l(t,s,i,n)),this._bindings.user.length},off:function(){var e=this.element[0],t=this._bindings;t&&(r(t.user||[],function(t){t(e)}),r(t.control||{},function(t){t(e)})),this._bindings={user:[],control:{}}},destroy:function(){if(null!==this.element){var t,n=this.constructor,s=n.pluginName||n._fullName;this.off(),s&&"can_control"!==s&&this.element.removeClass(s),(t=e.data(this.element,"controls")).splice(e.inArray(this,t),1),e.trigger(this,"destroyed"),this.element=null}}}),p=e.Control.processors;return t=function(t,n,s,i,r){return l(t,n,e.Control._shifter(r,i),s)},r(["change","click","contextmenu","dblclick","keydown","keyup","keypress","mousedown","mousemove","mouseout","mouseover","mouseup","reset","resize","scroll","select","submit","focusin","focusout","mouseenter","mouseleave","touchstart","touchmove","touchcancel","touchend","touchleave","inserted","removed"],function(e){p[e]=t}),c}),define("can/control/route/route",["can/util/util","can/route/route","can/control/control"],function(e){return e.Control.processors.route=function(t,n,s,i,r){s=s||"",e.route.routes[s]||("/"===s[0]&&(s=s.substring(1)),e.route(s));var a,o=function(t,n,o){if(e.route.attr("route")===s&&(void 0===t.batchNum||t.batchNum!==a)){a=t.batchNum;var u=e.route.attr();delete u.route,e.isFunction(r[i])?r[i](u):r[r[i]](u)}};return e.route.bind("change",o),function(){e.route.unbind("change",o)}},e}),define("can/model/model",["can/util/util","can/map/map","can/list/list"],function(e){var t=function(t,n,s){var i=new e.Deferred;return t.then(function(){var t=e.makeArray(arguments),r=!0;try{t[0]=s.apply(n,t)}catch(e){r=!1,i.rejectWith(i,[e].concat(t))}r&&i.resolveWith(i,t)},function(){i.rejectWith(this,arguments)}),"function"==typeof t.abort&&(i.abort=function(){return t.abort()}),i},n=0,s=function(t){return e.__observe(t,t.constructor.id),t.__get(t.constructor.id)},i=function(t,n,s,i,r,a){var o={};if("string"==typeof t){var u=t.split(/\s+/);o.url=u.pop(),u.length&&(o.type=u.pop())}else e.extend(o,t);return o.data="object"!=typeof n||e.isArray(n)?n:e.extend(o.data||{},n),o.url=e.sub(o.url,o.data,!0),e.ajax(e.extend({type:s||"post",dataType:i||"json",success:r,error:a},o))},r=function(n,i,r,a,o){var u;e.isArray(n)?(u=n[1],n=n[0]):u=n.serialize(),u=[u];var d,l,c=n.constructor;return"update"!==i&&"destroy"!==i||u.unshift(s(n)),l=c[i].apply(c,u),d=t(l,n,function(e){return n[o||i+"d"](e,l),n}),l.abort&&(d.abort=function(){l.abort()}),d.then(r,a),d},a={models:function(t,n,s){if(e.Model._reqs++,t){if(t instanceof this.List)return t;var i=this,r=[],a=i.List||m,o=n instanceof e.List?n:new a,u=t instanceof m?t.serialize():t;if((u=i.parseModels(u,s)).data&&(t=u,u=u.data),void 0===u||!e.isArray(u))throw new Error("Could not get any raw data while converting using .models");return o.length&&o.splice(0),e.each(u,function(e){r.push(i.model(e,s))}),o.push.apply(o,r),e.isArray(t)||e.each(t,function(e,t){"data"!==t&&o.attr(t,e)}),setTimeout(e.proxy(this._clean,this),1),o}},model:function(t,n,s){if(t){var i=(t="function"==typeof t.serialize?t.serialize():this.parseModel(t,s))[this.id];return(i||0===i)&&this.store[i]&&(n=this.store[i]),n&&e.isFunction(n.attr)?n.attr(t,this.removeAttr||!1):new this(t)}}},o={parseModel:function(t){return function(n){return t?e.getObject(t,n):n}},parseModels:function(t){return function(n){if(e.isArray(n))return n;t=t||"data";var s=e.getObject(t,n);if(!e.isArray(s))throw new Error("Could not get any raw data while converting using .models");return s}}},u={create:{url:"_shortName",type:"post"},update:{data:function(t,n){n=n||{};var s=this.id;return n[s]&&n[s]!==t&&(n["new"+e.capitalize(t)]=n[s],delete n[s]),n[s]=t,n},type:"put"},destroy:{type:"delete",data:function(e,t){return t=t||{},t.id=t[this.id]=e,t}},findAll:{url:"_shortName"},findOne:{}},d=function(e,t){return function(n){return n=e.data?e.data.apply(this,arguments):n,i(t||this[e.url||"_url"],n,e.type||"get")}},l=function(e,t){if(e.resource){var n=e.resource.replace(/\/+$/,"");return"findAll"===t||"create"===t?n:n+"/{"+e.id+"}"}};e.Model=e.Map.extend({fullName:"can.Model",_reqs:0,setup:function(t,s,i,r){if("string"!=typeof s&&(r=i,i=s),r||(r=i),this.store={},e.Map.setup.apply(this,arguments),e.Model){i&&i.List?(this.List=i.List,this.List.Map=this):this.List=t.List.extend({Map:this},{});var c=this,p=e.proxy(this._clean,c);e.each(u,function(n,s){if(i&&i[s]&&("string"==typeof i[s]||"object"==typeof i[s])?c[s]=d(n,i[s]):i&&i.resource&&!e.isFunction(i[s])&&(c[s]=d(n,l(c,s))),c["make"+e.capitalize(s)]){var r=c["make"+e.capitalize(s)](c[s]);e.Construct._overwrite(c,t,s,function(){e.Model._reqs++;var t=r.apply(this,arguments),n=t.then(p,p);return n.abort=t.abort,n})}});var f={};e.each(a,function(n,s){var r="parse"+e.capitalize(s),a=i&&i[s]||c[s];"string"==typeof a?(c[r]=a,e.Construct._overwrite(c,t,s,n)):i&&i[s]&&(f[r]=!0)}),e.each(o,function(n,s){var r=i&&i[s]||c[s];if("string"==typeof r)e.Construct._overwrite(c,t,s,n(r));else if(!(i&&e.isFunction(i[s])||c[s])){var a=n();a.useModelConverter=f[s],e.Construct._overwrite(c,t,s,a)}}),"can.Model"!==c.fullName&&c.fullName||(c.fullName="Model"+ ++n),e.Model._reqs=0,this._url=this._shortName+"/{"+this.id+"}"}},_ajax:d,_makeRequest:r,_clean:function(){if(e.Model._reqs--,!e.Model._reqs)for(var t in this.store)this.store[t]._bindings||delete this.store[t];return arguments[0]},models:a.models,model:a.model},{setup:function(t){var n=t&&t[this.constructor.id];e.Model._reqs&&null!=n&&(this.constructor.store[n]=this),e.Map.prototype.setup.apply(this,arguments)},isNew:function(){var e=s(this);return!(e||0===e)},save:function(e,t){return r(this,this.isNew()?"create":"update",e,t)},destroy:function(t,n){if(this.isNew()){var s=this,i=e.Deferred();return i.then(t,n),i.done(function(e){s.destroyed(e)}).resolve(s)}return r(this,"destroy",t,n,"destroyed")},_bindsetup:function(){var t=this.__get(this.constructor.id);return null!=t&&(this.constructor.store[t]=this),e.Map.prototype._bindsetup.apply(this,arguments)},_bindteardown:function(){return delete this.constructor.store[s(this)],e.Map.prototype._bindteardown.apply(this,arguments)},___set:function(t,n){e.Map.prototype.___set.call(this,t,n),t===this.constructor.id&&this._bindings&&(this.constructor.store[s(this)]=this)}});var c=function(e){return function(t,n,s){return this[e](t,null,s)}},p=function(e){return this.parseModel.useModelConverter?this.model(e):this.parseModel(e)},f={makeFindAll:c("models"),makeFindOne:c("model"),makeCreate:p,makeUpdate:p,makeDestroy:p};e.each(f,function(n,s){e.Model[s]=function(s){return function(){var i=e.makeArray(arguments),r=e.isFunction(i[1])?i.splice(0,1):i.splice(0,2),a=t(s.apply(this,r),this,n);return a.then(i[0],i[1]),a}}}),e.each(["created","updated","destroyed"],function(t){e.Model.prototype[t]=function(n){var s=this.constructor;n&&"object"==typeof n&&this.attr(e.isFunction(n.attr)?n.attr():n),e.dispatch.call(this,{type:"change",target:this},[t]),e.dispatch.call(s,t,[this])}});var m=e.Model.List=e.List.extend({_bubbleRule:function(t,n){var s=e.List._bubbleRule(t,n);return s.push("destroyed"),s}},{setup:function(t){e.isPlainObject(t)&&!e.isArray(t)?(e.List.prototype.setup.apply(this),this.replace(e.isDeferred(t)?t:this.constructor.Map.findAll(t))):e.List.prototype.setup.apply(this,arguments),this._init=1,this.bind("destroyed",e.proxy(this._destroyed,this)),delete this._init},_destroyed:function(e,t){if(/\w+/.test(t))for(var n;(n=this.indexOf(e.target))>-1;)this.splice(n,1)}});return e.Model}),define("can/compute/read",["can/util/util"],function(e){var t=function(e,s,i){for(var r,a,o={foundObservable:!1},u=n(e,0,s,i=i||{},o),d=s.length,l=0;l<d;){a=u;for(var c=0,p=t.propertyReaders.length;c<p;c++){var f=t.propertyReaders[c];if(f.test(u)){u=f.read(u,s[l],l,i,o);break}}if(l+=1,u=n(u,l,s,i,o,a),r=typeof u,l<s.length&&(null===u||"function"!==r&&"object"!==r))return i.earlyExit&&i.earlyExit(a,l-1,u),{value:void 0,parent:a}}return void 0===u&&i.earlyExit&&i.earlyExit(a,l-1),{value:u,parent:a}},n=function(e,n,s,i,r,a){var o;do{o=!1;for(var u=0,d=t.valueReaders.length;u<d;u++)t.valueReaders[u].test(e,n,s,i)&&(e=t.valueReaders[u].read(e,n,s,i,r,a))}while(o);return e};return t.valueReaders=[{name:"compute",test:function(e,t,n,s){return e&&e.isComputed},read:function(t,n,s,i,r){return i.isArgument&&n===s.length?t:(!r.foundObservable&&i.foundObservable&&(i.foundObservable(t,n),r.foundObservable=!0),t instanceof e.Compute?t.get():t())}},{name:"function",test:function(t,n,s,i){return"function"==typeof t&&!t.isComputed&&(!1!==i.executeAnonymousFunctions||i.isArgument&&n===s.length)&&!(e.Construct&&t.prototype instanceof e.Construct)&&!(e.route&&t===e.route)},read:function(t,n,s,i,r,a){return i.isArgument&&n===s.length?!1!==i.proxyMethods?e.proxy(t,a):t:t.call(a)}}],t.propertyReaders=[{name:"map",test:e.isMapLike,read:function(t,n,s,i,r){return!r.foundObservable&&i.foundObservable&&(i.foundObservable(t,s),r.foundObservable=!0),"function"==typeof t[n]&&t.constructor.prototype[n]===t[n]?i.returnObserveMethods?t[n]:"constructor"===n&&t instanceof e.Construct||t[n].prototype instanceof e.Construct?t[n]:t[n].apply(t,i.args||[]):t.attr(n)}},{name:"promise",test:function(t){return e.isPromise(t)},read:function(t,n,s,i,r){!r.foundObservable&&i.foundObservable&&(i.foundObservable(t,s),r.foundObservable=!0);var a=t.__observeData;return t.__observeData||(a=t.__observeData={isPending:!0,state:"pending",isResolved:!1,isRejected:!1,value:void 0,reason:void 0},e.cid(a),e.simpleExtend(a,e.event),t.then(function(e){a.isPending=!1,a.isResolved=!0,a.value=e,a.state="resolved",a.dispatch("state",["resolved","pending"])},function(e){a.isPending=!1,a.isRejected=!0,a.reason=e,a.state="rejected",a.dispatch("state",["rejected","pending"])})),e.__observe(a,"state"),n in a?a[n]:t[n]}},{name:"object",test:function(){return!0},read:function(e,t){return null==e?void 0:e[t]}}],t.write=function(t,n,s,i){return i=i||{},e.isMapLike(t)?!i.isArgument&&t._data&&t._data[n]&&t._data[n].isComputed?t._data[n](s):t.attr(n,s):t[n]&&t[n].isComputed?t[n](s):void("object"==typeof t&&(t[n]=s))},t}),define("can/compute/get_value_and_bind",["can/util/util"],function(e){var t=[];e.__isRecordingObserves=function(){return t.length},e.__observe=e.__reading=function(e,n){if(t.length){var s=e._cid+"|"+n,i=t[t.length-1];i.names+=s,i.observed[s]={obj:e,event:n+""}}},e.__notObserve=function(t){return function(){var n=e.__clearObserved(),s=t.apply(this,arguments);return e.__setObserved(n),s}},e.__clearObserved=e.__clearReading=function(){if(t.length){var e=t[t.length-1];return t[t.length-1]={names:"",observed:{}},e}},e.__setObserved=e.__setReading=function(e){t.length&&(t[t.length-1]=e)},e.__addObserved=e.__addReading=function(n){if(t.length){var s=t[t.length-1];e.simpleExtend(s.observed,n.observed),s.names+=n.names}};var n=function(e,n){t.push({names:"",observed:{}});var s=e.call(n),i=t.pop();return i.value=s,i},s=function(e,t,n){for(var s in t)i(e,t,s,n)},i=function(e,t,n,s){if(e[n])delete e[n];else{var i=t[n];i.obj.bind(i.event,s)}},r=function(e,t){for(var n in e){var s=e[n];s.obj.unbind(s.event,t)}};return function(t,i,a,o){var u=n(t,i),d=u.observed,l=a.observed;return u.names!==a.names&&(s(l,d,o),r(l,o)),e.batch.afterPreviousEvents(function(){u.ready=!0}),u}}),define("can/compute/proto_compute",["can/util/util","can/util/bind/bind","can/compute/read","can/compute/get_value_and_bind","can/util/batch/batch"],function(e,t,n,s){var i=function(t,n,s,i){n!==s&&e.batch.trigger(t,i?{type:"change",batchNum:i}:"change",[n,s])},r=function(t,n,i,r){var a,o,u;return r=!1,{on:function(d){var l=this;o||(o=function(e){if(a.ready&&t.bound&&(void 0===e.batchNum||e.batchNum!==u)){var d,c=a.value;r?(d=n.call(i),a.value=d):d=(a=s(n,i,a,o)).value,l.updater(d,c,e.batchNum),u=u=e.batchNum}}),a=s(n,i,{observed:{}},o),r&&(n=e.__notObserve(n)),t.value=a.value,t.hasDependencies=!e.isEmptyObject(a.observed)},off:function(e){for(var t in a.observed){var n=a.observed[t];n.obj.unbind(n.event,o)}}}},a=function(){},o=function(e,t,n){return function(){return e.call(t,n.get())}},u=function(e,t){return function(n){void 0!==n&&t(n,e.value)}};e.Compute=function(t,n,s,i){for(var r=[],a=0,o=arguments.length;a<o;a++)r[a]=arguments[a];var u=typeof r[1];"function"==typeof r[0]?this._setupGetterSetterFn(r[0],r[1],r[2],r[3]):r[1]?"string"===u?this._setupContextString(r[0],r[1],r[2]):"function"===u?this._setupContextFunction(r[0],r[1],r[2]):r[1]&&r[1].fn?this._setupAsyncCompute(r[0],r[1]):this._setupContextSettings(r[0],r[1]):this._setupInitialValue(r[0]),this._args=r,this.isComputed=!0,e.cid(this,"compute")},e.simpleExtend(e.Compute.prototype,{_bindsetup:e.__notObserve(function(){this.bound=!0,this._on(this.updater)}),_bindteardown:function(){this._off(this.updater),this.bound=!1},bind:e.bindAndSetup,unbind:e.unbindAndTeardown,clone:function(t){return t&&"function"==typeof this._args[0]?this._args[1]=t:t&&(this._args[2]=t),new e.Compute(this._args[0],this._args[1],this._args[2],this._args[3])},_on:a,_off:a,get:function(){return e.__isRecordingObserves()&&!1!==this._canObserve&&(e.__observe(this,"change"),this.bound||e.Compute.temporarilyBind(this)),this.bound?this.value:this._get()},_get:function(){return this.value},set:function(e){var t=this.value,n=this._set(e,t);return this.hasDependencies?this._setUpdates?this.value:this._get():(this.value=void 0===n?this._get():n,i(this,this.value,t),this.value)},_set:function(e){return this.value=e},updater:function(e,t,n){this.value=e,i(this,e,t,n)},_computeFn:function(e){return arguments.length?this.set(e):this.get()},toFunction:function(){return e.proxy(this._computeFn,this)},_setupGetterSetterFn:function(t,n,s,i){this._set=e.proxy(t,n),this._get=e.proxy(t,n),this._canObserve=!1!==s;var a=r(this,t,n||this,i);this._on=a.on,this._off=a.off},_setupContextString:function(t,n,s){var i=this,r=function(e,t,n){i.updater(t,n,e.batchNum)};e.isMapLike(t)?(this.hasDependencies=!0,this._get=function(){return t.attr(n)},this._set=function(e){t.attr(n,e)},this._on=function(e){t.bind(s||n,r),this.value=this._get()},this._off=function(){return t.unbind(s||n,r)}):(this._get=function(){return e.getObject(n,[t])},this._set=function(s){var i=n.split("."),r=i.pop();e.getObject(i.join("."),[t])[r]=s})},_setupContextFunction:function(t,n,s){this.value=t,this._set=n,e.simpleExtend(this,s)},_setupContextSettings:function(t,n){if(this.value=t,this._set=n.set?e.proxy(n.set,n):this._set,this._get=n.get?e.proxy(n.get,n):this._get,!n.__selfUpdater){var s=this,i=this.updater;this.updater=function(){i.call(s,s._get(),s.value)}}this._on=n.on?n.on:this._on,this._off=n.off?n.off:this._off},_setupAsyncCompute:function(t,n){this.value=t;var s,i=e.proxy(this.updater,this),a=this,d=n.fn;this.updater=i;var l=new e.Compute(t);this.lastSetValue=l,this._setUpdates=!0,this._set=function(e){return e===l.get()?this.value:l.set(e)},this._get=o(d,n.context,l),0===d.length?s=r(this,d,n.context):1===d.length?s=r(this,function(){return d.call(n.context,l.get())},n):(this.updater=u(this,i),s=r(this,function(){var e=d.call(n.context,l.get(),function(e){i(e,a.value)});return void 0!==e?e:this.value},n)),this._on=s.on,this._off=s.off},_setupInitialValue:function(e){this.value=e}});var d,l=function(){for(var e=0,t=d.length;e<t;e++)d[e].unbind("change",a);d=null};return e.Compute.temporarilyBind=function(e){e.bind("change",a),d||(d=[],setTimeout(l,10)),d.push(e)},e.Compute.async=function(t,n,s){return new e.Compute(t,{fn:n,context:s})},e.Compute.read=n,e.Compute.set=n.write,e.Compute.truthy=function(t){return new e.Compute(function(){var e=t.get();return"function"==typeof e&&(e=e.get()),!!e})},e.Compute}),define("can/compute/compute",["can/util/util","can/util/bind/bind","can/util/batch/batch","can/compute/proto_compute"],function(e,t){e.compute=function(t,n,s,i){var r=new e.Compute(t,n,s,i),a=r.bind,o=r.unbind,u=function(e){return arguments.length?r.set(e):r.get()},d="__handler"+e.cid(u,"compute");return u.bind=function(e,t){var n=t&&t[d];return t&&!n&&(n=t[d]=function(){t.apply(u,arguments)}),a.call(r,e,n)},u.unbind=function(e,t){var n=t&&t[d];return n?(delete t[d],r.unbind(e,n)):o.apply(r,arguments)},u.isComputed=r.isComputed,u.clone=function(s){return"function"==typeof t&&(n=s),e.compute(t,n,s,i)},u.computeInstance=r,u};var n,s=function(){},i=function(){for(var e=0,t=n.length;e<t;e++)n[e].unbind("change",s);n=null};return e.compute.temporarilyBind=function(e){e.bind("change",s),n||(n=[],setTimeout(i,10)),n.push(e)},e.compute.truthy=function(t){return e.compute(function(){var e=t();return"function"==typeof e&&(e=e()),!!e})},e.compute.async=function(t,n,s){return e.compute(t,{fn:n,context:s})},e.compute.read=e.Compute.read,e.compute.set=e.Compute.set,e.compute}),define("can/view/scope/compute_data",["can/util/util","can/compute/compute","can/compute/get_value_and_bind"],function(e,t,n){var s=function(t){return t.reads&&1===t.reads.length&&t.root instanceof e.Map&&!e.isFunction(t.root[t.reads[0]])},i=function(e,t){return n(e,null,{observed:{}},t)},r=function(e,t){for(var n in e.observed){var s=e.observed[n];s.obj.unbind(s.event,t)}},a=function(e,t){var n=e.root,s=e.reads[0];return n.bind(s,t),{value:e.initialValue,observed:{something:!0}}},o=function(e,t){e.root.unbind(e.reads[0],t)},u=function(t,n,s,i,r){if(!(arguments.length>4)){if(i.root)return e.compute.read(i.root,i.reads,s).value;var a=t.read(n,s);return i.scope=a.scope,i.initialValue=a.value,i.reads=a.reads,i.root=a.rootObserve,i.setRoot=a.setRoot,a.value}var o=i.root||i.setRoot;if(o.isComputed)o(r);else if(i.reads.length){var u=i.reads.length-1,d=i.reads.length?e.compute.read(o,i.reads.slice(0,u)).value:o;e.compute.set(d,i.reads[u],r,s)}};return function(t,d,l){l=l||{args:[]};var c,p,f={},m=function(e){return arguments.length?u(t,d,l,f,e):u(t,d,l,f)},h=function(e){if(p.ready&&g.computeInstance.bound&&(void 0===e.batchNum||e.batchNum!==c)){var t,s=p.value;t=(p=n(m,null,p,h)).value,g.computeInstance.updater(t,s,e.batchNum),c=c=e.batchNum}},_=function(e,t,n){"function"!=typeof t?g.computeInstance.updater(t,n,e.batchNum):(o(f,_),p=i(m,h),v=!1,g.computeInstance.updater(p.value,n,e.batchNum))},v=!1,g=e.compute(void 0,{on:function(){if(p=i(m,h),s(f)){var t=p;p=a(f,_),r(t,h),v=!0}g.computeInstance.value=p.value,g.computeInstance.hasDependencies=!e.isEmptyObject(p.observed)},off:function(){v?o(f,_):r(p,h)},set:m,get:m,__selfUpdater:!0});return f.compute=g,f}}),define("can/view/view",["can/util/util"],function(e){var t=e.isFunction,n=e.makeArray,s=1,i=function(e){var t=function(){return d.frag(e.apply(this,arguments))};return t.render=function(){return e.apply(e,arguments)},t},r=function(e,t){if(!e.length)throw new Error("can.view: No template or empty template:"+t)},a=function(n,s){if(t(n))return e.Deferred().resolve(n);var i,a,o,u="string"==typeof n?n:n.url,l=n.engine&&"."+n.engine||u.match(/\.[\w\d]+$/);if(u.match(/^#/)&&(u=u.substr(1)),(a=document.getElementById(u))&&(l="."+a.type.match(/\/(x\-)?(.+)/)[2]),l||d.cached[u]||(u+=l=d.ext),e.isArray(l)&&(l=l[0]),o=d.toId(u),u.match(/^\/\//)&&(u=u.substr(2),u=window.steal?steal.config().root.mapJoin(""+steal.id(u)):u),window.require&&require.toUrl&&(u=require.toUrl(u)),i=d.types[l],d.cached[o])return d.cached[o];if(a)return d.registerView(o,a.innerHTML,i);var c=new e.Deferred;return e.ajax({async:s,url:u,dataType:"text",error:function(e){r("",u),c.reject(e)},success:function(e){r(e,u),d.registerView(o,e,i,c)}}),c},o=function(t){var n=[];if(e.isDeferred(t))return[t];for(var s in t)e.isDeferred(t[s])&&n.push(t[s]);return n},u=function(t){return e.isArray(t)&&"success"===t[1]?t[0]:t},d=e.view=e.template=function(e,n,s,i){return t(s)&&(i=s,s=void 0),d.renderAs("fragment",e,n,s,i)};return e.extend(d,{frag:function(e,t){return d.hookup(d.fragment(e),t)},fragment:function(t){if("string"!=typeof t&&11===t.nodeType)return t;var n=e.buildFragment(t,document.body);return n.childNodes.length||n.appendChild(document.createTextNode("")),n},toId:function(t){return e.map(t.toString().split(/\/|\./g),function(e){if(e)return e}).join("_")},toStr:function(e){return null==e?"":""+e},hookup:function(t,n){var s,i,r=[];return e.each(t.childNodes?e.makeArray(t.childNodes):t,function(t){1===t.nodeType&&(r.push(t),r.push.apply(r,e.makeArray(t.getElementsByTagName("*"))))}),e.each(r,function(e){e.getAttribute&&(s=e.getAttribute("data-view-id"))&&(i=d.hookups[s])&&(i(e,n,s),delete d.hookups[s],e.removeAttribute("data-view-id"))}),t},hookups:{},hook:function(e){return d.hookups[++s]=e," data-view-id='"+s+"'"},cached:{},cachedRenderers:{},cache:!0,register:function(t){this.types["."+t.suffix]=t,e[t.suffix]=d[t.suffix]=function(e,n){var s,r;if(!n)return r=function(){return s||(s=t.fragRenderer?t.fragRenderer(null,e):i(t.renderer(null,e))),s.apply(this,arguments)},r.render=function(){var n=t.renderer(null,e);return n.apply(n,arguments)},r;var a=function(){return s||(s=t.fragRenderer?t.fragRenderer(e,n):t.renderer(e,n)),s.apply(this,arguments)};return t.fragRenderer?d.preload(e,a):d.preloadStringRenderer(e,a)}},types:{},ext:".ejs",registerScript:function(e,t,n){return"can.view.preloadStringRenderer('"+t+"',"+d.types["."+e].script(t,n)+");"},preload:function(t,n){return(d.cached[t]=(new e.Deferred).resolve(function(e,t){return n.call(e,e,t)})).__view_id=t,d.cachedRenderers[t]=n,n},preloadStringRenderer:function(e,t){return this.preload(e,i(t))},render:function(t,n,s,i){return e.view.renderAs("string",t,n,s,i)},renderTo:function(e,t,n,s){return("string"===e&&t.render?t.render:t)(n,s)},renderAs:function(s,i,r,l,c){t(l)&&(c=l,l=void 0);var p,f,m,h,_,v=o(r);if(v.length)return f=new e.Deferred,m=e.extend({},r),v.push(a(i,!0)),e.when.apply(e,v).then(function(t){var i,a=n(arguments),o=a.pop();if(e.isDeferred(r))m=u(t);else for(var d in r)e.isDeferred(r[d])&&(m[d]=u(a.shift()));i=e.view.renderTo(s,o,m,l),f.resolve(i,m),c&&c(i,m)},function(){f.reject.apply(f,arguments)}),f;if(p=e.__clearReading(),h=t(c),f=a(i,h),p&&e.__setReading(p),h)_=f,f.then(function(t){c(r?e.view.renderTo(s,t,r,l):t)});else{if("resolved"===f.state()&&f.__view_id){var g=d.cachedRenderers[f.__view_id];return r?e.view.renderTo(s,g,r,l):g}f.then(function(t){_=r?e.view.renderTo(s,t,r,l):t})}return _},registerView:function(t,n,s,r){var a,o="object"==typeof s?s:d.types[s||d.ext];return a=o.fragRenderer?o.fragRenderer(t,n):i(o.renderer(t,n)),r=r||new e.Deferred,d.cache&&(d.cached[t]=r,r.__view_id=t,d.cachedRenderers[t]=a),r.resolve(a)}}),e}),define("can/view/scope/scope",["can/util/util","can/view/scope/compute_data","can/construct/construct","can/map/map","can/list/list","can/view/view","can/compute/compute"],function(e,t){var n=/(\\)?\./g,s=/\\\./g,i=function(e){var t=[],i=0;return e.replace(n,function(n,r,a){r||(t.push(e.slice(i,a).replace(s,".")),i=a+n.length)}),t.push(e.slice(i).replace(s,".")),t},r=e.Construct.extend({read:e.compute.read},{init:function(e,t){this._context=e,this._parent=t,this.__cache={}},attr:e.__notObserve(function(t,n){var s={isArgument:!0,returnObserveMethods:!0,proxyMethods:!1},i=this.read(t,s);if(2===arguments.length){var r=t.lastIndexOf("."),a=-1!==r?t.substring(0,r):".",o=this.read(a,s).value;-1!==r&&(t=t.substring(r+1,t.length)),e.compute.set(o,t,n,s)}return i.value}),add:function(e){return e!==this._context?new this.constructor(e,this):this},computeData:function(e,n){return t(this,e,n)},compute:function(e,t){return this.computeData(e,t).compute},read:function(t,n){var s;if("./"===t.substr(0,2))s=!0,t=t.substr(2);else{if("../"===t.substr(0,3))return this._parent.read(t.substr(3),n);if(".."===t)return{value:this._parent._context};if("."===t||"this"===t)return{value:this._context}}for(var r,a,o,u,d,l=-1===t.indexOf("\\.")?t.split("."):i(t),c=this,p=[],f=-1;c;){if(null!==(r=c._context)&&("object"==typeof r||"function"==typeof r)){var m=e.compute.read(r,l,e.simpleExtend({foundObservable:function(e,t){a=e,o=l.slice(t)},earlyExit:function(e,t){t>f&&(d=a,u=o,f=t)},executeAnonymousFunctions:!0},n));if(void 0!==m.value)return{scope:c,rootObserve:a,value:m.value,reads:o};p.push(e.__clearObserved())}c=s?null:c._parent}var h=p.length;if(h)for(var _=0;_<h;_++)e.__addObserved(p[_]);return{setRoot:d,reads:u,value:void 0}}});return e.view.Scope=r,r}),define("can/view/elements",["can/util/util","can/view/view"],function(e){var t="undefined"!=typeof document?document:null,n=t&&1===e.$(document.createComment("~")).length,s={tagToContentPropMap:{option:t&&"textContent"in document.createElement("option")?"textContent":"innerText",textarea:"value"},attrMap:e.attr.map,attrReg:/([^\s=]+)[\s]*=[\s]*/,defaultValue:e.attr.defaultValue,tagMap:{"":"span",colgroup:"col",table:"tbody",tr:"td",ol:"li",ul:"li",tbody:"tr",thead:"tr",tfoot:"tr",select:"option",optgroup:"option"},reverseTagMap:{col:"colgroup",tr:"tbody",option:"select",td:"tr",th:"tr",li:"ul"},getParentNode:function(e,t){return t&&11===e.parentNode.nodeType?t:e.parentNode},setAttr:e.attr.set,getAttr:e.attr.get,removeAttr:e.attr.remove,contentText:function(e){return"string"==typeof e?e:e||0===e?""+e:""},after:function(t,n){var s=t[t.length-1];s.nextSibling?e.insertBefore(s.parentNode,n,s.nextSibling):e.appendChild(s.parentNode,n)},replace:function(t,i){s.after(t,i),e.remove(e.$(t)).length<t.length&&!n&&e.each(t,function(e){8===e.nodeType&&e.parentNode.removeChild(e)})}};return e.view.elements=s,s}),define("can/view/callbacks/callbacks",["can/util/util","can/view/view"],function(e){var t=e.view.attr=function(e,t){if(!t){var i=n[e];if(!i)for(var r=0,a=s.length;r<a;r++){var o=s[r];if(o.match.test(e)){i=o.handler;break}}return i}"string"==typeof e?n[e]=t:s.push({match:e,handler:t})},n={},s=[],i=/[-\:]/,r=e.view.tag=function(t,n){if(!n){var s=a[t.toLowerCase()];return!s&&i.test(t)&&(s=function(){}),s}e.global.html5&&(e.global.html5.elements+=" "+t,e.global.html5.shivDocument()),a[t.toLowerCase()]=n},a={};return e.view.callbacks={_tags:a,_attributes:n,_regExpAttributes:s,tag:r,attr:t,tagHandler:function(t,n,s){var i,r=s.options.attr("tags."+n)||a[n],o=s.scope;if(r){var u=e.__clearObserved();i=r(t,s),e.__setObserved(u)}else i=o;if(i&&s.subtemplate){o!==i&&(o=o.add(i));var d=s.subtemplate(o,s.options),l="string"==typeof d?e.view.frag(d):d;e.appendChild(t,l)}}},e.view.callbacks}),define("can/view/scanner",["can/view/view","./elements","can/view/callbacks/callbacks"],function(can,elements,viewCallbacks){var newLine=/(\r|\n)+/g,notEndTag=/\//,clean=function(e){return e.split("\\").join("\\\\").split("\n").join("\\n").split('"').join('\\"').split("\t").join("\\t")},getTag=function(e,t,n){if(e)return e;for(;n<t.length;){if("<"===t[n]&&!notEndTag.test(t[n+1]))return elements.reverseTagMap[t[n+1]]||"span";n++}return""},bracketNum=function(e){return--e.split("{").length- --e.split("}").length},myEval=function(script){eval(script)},attrReg=/([^\s]+)[\s]*=[\s]*$/,startTxt="var ___v1ew = [];",finishTxt="return ___v1ew.join('')",put_cmd="___v1ew.push(\n",insert_cmd=put_cmd,htmlTag=null,quote=null,beforeQuote=null,rescan=null,getAttrName=function(){var e=beforeQuote.match(attrReg);return e&&e[1]},status=function(){return quote?"'"+getAttrName()+"'":htmlTag?1:0},top=function(e){return e[e.length-1]},Scanner;return can.view.Scanner=Scanner=function(e){can.extend(this,{text:{},tokens:[]},e),this.text.options=this.text.options||"",this.tokenReg=[],this.tokenSimple={"<":"<",">":">",'"':'"',"'":"'"},this.tokenComplex=[],this.tokenMap={};for(var t,n=0;t=this.tokens[n];n++)t[2]?(this.tokenReg.push(t[2]),this.tokenComplex.push({abbr:t[1],re:new RegExp(t[2]),rescan:t[3]})):(this.tokenReg.push(t[1]),this.tokenSimple[t[1]]=t[0]),this.tokenMap[t[0]]=t[1];this.tokenReg=new RegExp("("+this.tokenReg.slice(0).concat(["<",">",'"',"'"]).join("|")+")","g")},Scanner.prototype={helpers:[],scan:function(e,t){var n=[],s=0,i=this.tokenSimple,r=this.tokenComplex;e=e.replace(newLine,"\n"),this.transform&&(e=this.transform(e)),e.replace(this.tokenReg,function(t,a){var o=arguments[arguments.length-2];if(o>s&&n.push(e.substring(s,o)),i[t])n.push(t);else for(var u,d=0;u=r[d];d++)if(u.re.test(t)){n.push(u.abbr),u.rescan&&n.push(u.rescan(a));break}s=o+a.length}),s<e.length&&n.push(e.substr(s));var a,o,u,d,l="",c=[startTxt+(this.text.start||"")],p=function(e,t){c.push(put_cmd,'"',clean(e),'"'+(t||"")+");")},f=[],m=null,h=!1,_={attributeHookups:[],tagHookups:[],lastTagHookup:""},v=function(){_.lastTagHookup=_.tagHookups.pop()+_.tagHookups.length},g="",b=[],w=!1,y=!1,x=0,C=this.tokenMap;for(htmlTag=quote=beforeQuote=null;void 0!==(u=n[x++]);){if(null===m)switch(u){case C.left:case C.escapeLeft:case C.returnLeft:h=htmlTag&&1;case C.commentLeft:m=u,l.length&&p(l),l="";break;case C.escapeFull:h=htmlTag&&1,rescan=1,m=C.escapeLeft,l.length&&p(l),l=(rescan=n[x++]).content||rescan,rescan.before&&p(rescan.before),n.splice(x,0,C.right);break;case C.commentFull:break;case C.templateLeft:l+=C.left;break;case"<":0!==n[x].indexOf("!--")&&(htmlTag=1,h=0),l+=u;break;case">":htmlTag=0;var S="/"===l.substr(l.length-1)||"--"===l.substr(l.length-2),j="";if(_.attributeHookups.length&&(j="attrs: ['"+_.attributeHookups.join("','")+"'], ",_.attributeHookups=[]),g+_.tagHookups.length!==_.lastTagHookup&&g===top(_.tagHookups))S&&(l=l.substr(0,l.length-1)),c.push(put_cmd,'"',clean(l),'"',",can.view.pending({tagName:'"+g+"',"+j+"scope: "+(this.text.scope||"this")+this.text.options),S?(c.push("}));"),l="/>",v()):"<"===n[x]&&n[x+1]==="/"+g?(c.push("}));"),l=u,v()):(c.push(",subtemplate: function("+this.text.argNames+"){\n"+startTxt+(this.text.start||"")),l="");else if(h||!w&&elements.tagToContentPropMap[b[b.length-1]]||j){var k=",can.view.pending({"+j+"scope: "+(this.text.scope||"this")+this.text.options+'}),"';S?p(l.substr(0,l.length-1),k+'/>"'):p(l,k+'>"'),l="",h=0}else l+=u;(S||w)&&(b.pop(),g=b[b.length-1],w=!1),_.attributeHookups=[];break;case"'":case'"':if(htmlTag)if(quote&&quote===u){quote=null;var E=getAttrName();if(viewCallbacks.attr(E)&&_.attributeHookups.push(E),y){p(l+=u),c.push(finishTxt,"}));\n"),l="",y=!1;break}}else if(null===quote&&(quote=u,beforeQuote=a,d=getAttrName(),"img"===g&&"src"===d||"style"===d)){p(l.replace(attrReg,"")),l="",y=!0,c.push(insert_cmd,"can.view.txt(2,'"+getTag(g,n,x)+"',"+status()+",this,function(){",startTxt),p(d+"="+u);break}default:if("<"===a){var T,I=!1;0===(g="!--"===u.substr(0,3)?"!--":u.split(/\s/)[0]).indexOf("/")&&(I=!0,T=g.substr(1)),I?(top(b)===T&&(g=T,w=!0),top(_.tagHookups)===T&&(p(l.substr(0,l.length-1)),c.push(finishTxt+"}}) );"),l="><",v())):(g.lastIndexOf("/")===g.length-1&&(g=g.substr(0,g.length-1)),"!--"!==g&&viewCallbacks.tag(g)&&("content"===g&&elements.tagMap[top(b)]&&(u=u.replace("content",elements.tagMap[top(b)])),_.tagHookups.push(g)),b.push(g))}l+=u}else switch(u){case C.right:case C.returnRight:switch(m){case C.left:1===(o=bracketNum(l))?(c.push(insert_cmd,"can.view.txt(0,'"+getTag(g,n,x)+"',"+status()+",this,function(){",startTxt,l),f.push({before:"",after:finishTxt+"}));\n"})):((s=f.length&&-1===o?f.pop():{after:";"}).before&&c.push(s.before),c.push(l,";",s.after));break;case C.escapeLeft:case C.returnLeft:(o=bracketNum(l))&&f.push({before:finishTxt,after:"}));\n"});for(var M=m===C.escapeLeft?1:0,A={insert:insert_cmd,tagName:getTag(g,n,x),status:status(),specialAttribute:y},O=0;O<this.helpers.length;O++){var P=this.helpers[O];if(P.name.test(l)){l=P.fn(l,A),P.name.source===/^>[\s]*\w*/.source&&(M=0);break}}"object"==typeof l?l.startTxt&&l.end&&y?c.push(insert_cmd,"can.view.toStr( ",l.content,"() ) );"):(l.startTxt?c.push(insert_cmd,"can.view.txt(\n"+("string"==typeof status()||(null!=l.escaped?l.escaped:M))+",\n'"+g+"',\n"+status()+",\nthis,\n"):l.startOnlyTxt&&c.push(insert_cmd,"can.view.onlytxt(this,\n"),c.push(l.content),l.end&&c.push("));")):y?c.push(insert_cmd,l,");"):c.push(insert_cmd,"can.view.txt(\n"+("string"==typeof status()||M)+",\n'"+g+"',\n"+status()+",\nthis,\nfunction(){ "+(this.text.escape||"")+"return ",l,o?startTxt:"}));\n"),rescan&&rescan.after&&rescan.after.length&&(p(rescan.after.length),rescan=null)}m=null,l="";break;case C.templateLeft:l+=C.left;break;default:l+=u}a=u}l.length&&p(l),c.push(";");var N=c.join(""),R={out:(this.text.outStart||"")+N+" "+finishTxt+(this.text.outEnd||"")};return myEval.call(R,"this.fn = (function("+this.text.argNames+"){"+R.out+"});\r\n//# sourceURL="+t+".js"),R}},can.view.pending=function(e){var t=can.view.getHooks();return can.view.hook(function(n){can.each(t,function(e){e(n)}),e.templateType="legacy",e.tagName&&viewCallbacks.tagHandler(n,e.tagName,e),can.each(e&&e.attrs||[],function(t){e.attributeName=t;var s=viewCallbacks.attr(t);s&&s(n,e)})})},can.view.tag("content",function(e,t){return t.scope}),can.view.Scanner=Scanner,Scanner}),define("can/view/node_lists/node_lists",["can/util/util","can/view/elements"],function(e){var t=!0;try{document.createTextNode("")._=0}catch(e){t=!1}var n={},s={},i="ejs_"+Math.random(),r=0,a=function(e,n){var a=n||s;return o(e,a)||(t||3!==e.nodeType?(++r,e[i]=(e.nodeName?"element_":"obj_")+r):(++r,a["text_"+r]=e,"text_"+r))},o=function(e,n){if(t||3!==e.nodeType)return e[i];for(var s in n)if(n[s]===e)return s},u=[].splice,d=[].push,l=function(e){for(var t=0,n=0,s=e.length;n<s;n++){var i=e[n];i.nodeType?t++:t+=l(i)}return t},c=function(e,t){for(var n={},s=0,i=e.length;s<i;s++){var r=p.first(e[s]);n[a(r,t)]=e[s]}return n},p={id:a,update:function(t,n){var s=p.unregisterChildren(t);n=e.makeArray(n);var i=t.length;return u.apply(t,[0,i].concat(n)),t.replacements?p.nestReplacements(t):p.nestList(t),s},nestReplacements:function(e){for(var t=0,n={},s=c(e.replacements,n),i=e.replacements.length;t<e.length&&i;){var r=e[t],a=s[o(r,n)];a&&(e.splice(t,l(a),a),i--),t++}e.replacements=[]},nestList:function(e){for(var t=0;t<e.length;){var s=e[t],i=n[a(s)];i?i!==e&&e.splice(t,l(i),i):n[a(s)]=e,t++}},last:function(e){var t=e[e.length-1];return t.nodeType?t:p.last(t)},first:function(e){var t=e[0];return t.nodeType?t:p.first(t)},flatten:function(e){for(var t=[],n=0;n<e.length;n++){var s=e[n];s.nodeType?t.push(s):t.push.apply(t,p.flatten(s))}return t},register:function(e,t,n){return e.unregistered=t,e.parentList=n,!0===n?e.replacements=[]:n?(n.replacements.push(e),e.replacements=[]):p.nestList(e),e},unregisterChildren:function(t){var s=[];return e.each(t,function(e){e.nodeType?(t.replacements||delete n[a(e)],s.push(e)):d.apply(s,p.unregister(e))}),s},unregister:function(e){var t=p.unregisterChildren(e);if(e.unregistered){var n=e.unregistered;delete e.unregistered,delete e.replacements,n()}return t},nodeMap:n};return e.view.nodeLists=p,p}),define("can/view/parser/parser",["can/view/view"],function(e){function t(e){for(var t={},n=e.split(","),s=0;s<n.length;s++)t[n[s]]=!0;return t}function n(e,t){for(var n=0,s=e.length;n<s;n++){var i=e[n];t[i.tokenType].apply(t,i.args)}return e}var s="\\{\\{([^\\}]*)\\}\\}\\}?",i=new RegExp("^<([-:A-Za-z0-9_]+)((?:\\s*(?:(?:(?:[a-zA-Z_:][-:A-Za-z0-9_:.]*)?(?:\\s*=\\s*(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>\\s]+))?)|(?:\\{\\{[^\\}]*\\}\\}\\}?)+))*)\\s*(\\/?)>"),r=new RegExp("^<\\/([-:A-Za-z0-9_]+)[^>]*>"),a=new RegExp("(?:(?:([a-zA-Z_:][-:A-Za-z0-9_:.]*)|"+s+")(?:\\s*=\\s*(?:(?:\"((?:\\\\.|[^\"])*)\")|(?:'((?:\\\\.|[^'])*)')|([^>\\s]+)))?)","g"),o=new RegExp(s,"g"),u=/<|\{\{/,d=t("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed"),l=t("a,address,article,applet,aside,audio,blockquote,button,canvas,center,dd,del,dir,div,dl,dt,fieldset,figcaption,figure,footer,form,frameset,h1,h2,h3,h4,h5,h6,header,hgroup,hr,iframe,ins,isindex,li,map,menu,noframes,noscript,object,ol,output,p,pre,section,script,table,tbody,td,tfoot,th,thead,tr,ul,video"),c=t("abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,span,strike,strong,sub,sup,textarea,tt,u,var"),p=t("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr"),f=t("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected"),m=t("script,style"),h="start,end,close,attrStart,attrEnd,attrValue,chars,comment,special,done".split(","),_=function(){},v=function(t,s,a){function f(e,t){var n;if(t)for(n=x.length-1;n>=0&&x[n]!==t;n--);else n=0;if(n>=0){for(var i=x.length-1;i>=n;i--)s.close&&s.close(x[i]);x.length=n}}if("object"==typeof t)return n(t,s);var g=[];s=s||{},a&&e.each(h,function(t){var n=s[t]||_;s[t]=function(){!1!==n.apply(this,arguments)&&g.push({tokenType:t,args:e.makeArray(arguments)})}});var b,w,y,x=[],C=t;for(x.last=function(){return this[this.length-1]};t;){if(w=!0,x.last()&&m[x.last()])t=t.replace(new RegExp("([\\s\\S]*?)</"+x.last()+"[^>]*>"),function(e,t){return t=t.replace(/<!--([\s\S]*?)-->|<!\[CDATA\[([\s\S]*?)]]>/g,"$1$2"),s.chars&&s.chars(t),""}),f(0,x.last());else if(0===t.indexOf("\x3c!--")?(b=t.indexOf("--\x3e"))>=0&&(s.comment&&s.comment(t.substring(4,b)),t=t.substring(b+3),w=!1):0===t.indexOf("</")?(y=t.match(r))&&(t=t.substring(y[0].length),y[0].replace(r,f),w=!1):0===t.indexOf("<")?(y=t.match(i))&&(t=t.substring(y[0].length),y[0].replace(i,function(e,t,n,i){if(t=t.toLowerCase(),l[t])for(;x.last()&&c[x.last()];)f(0,x.last());p[t]&&x.last()===t&&f(0,t),i=d[t]||!!i,s.start(t,i),i||x.push(t),v.parseAttrs(n,s),s.end(t,i)}),w=!1):0===t.indexOf("{{")&&(y=t.match(o))&&(t=t.substring(y[0].length),y[0].replace(o,function(e,t){s.special&&s.special(t)})),w){var S=(b=t.search(u))<0?t:t.substring(0,b);t=b<0?"":t.substring(b),s.chars&&S&&s.chars(S)}if(t===C)throw new Error("Parse Error: "+t);C=t}return f(),s.done(),g};return v.parseAttrs=function(e,t){(null!=e?e:"").replace(a,function(e,n,s,i,r,a){if(s&&t.special(s),n||i||r||a){var u=arguments[3]?arguments[3]:arguments[4]?arguments[4]:arguments[5]?arguments[5]:f[n.toLowerCase()]?n:"";t.attrStart(n||"");for(var d,l=o.lastIndex=0,c=o.exec(u);c;)(d=u.substring(l,o.lastIndex-c[0].length)).length&&t.attrValue(d),t.special(c[1]),l=o.lastIndex,c=o.exec(u);(d=u.substr(l,u.length))&&t.attrValue(d),t.attrEnd(n||"")}})},e.view.parser=v,v}),define("can/view/live/live",["can/util/util","can/view/elements","can/view/view","can/view/node_lists/node_lists","can/view/parser/parser"],function(e,t,n,s,i){t=t||e.view.elements,s=s||e.view.NodeLists,i=i||e.view.parser;var r=function(t,n,s){var i=!1,r=function(){return i||(i=!0,s(a),e.unbind.call(t,"removed",r)),!0},a={teardownCheck:function(e){return!e&&r()}};return e.bind.call(t,"removed",r),n(a),a},a=function(e,t,n){return r(e,function(){t.bind("change",n)},function(e){t.unbind("change",n),e.nodeList&&s.unregister(e.nodeList)})},o=function(e){var t,n={};return i.parseAttrs(e,{attrStart:function(e){n[e]="",t=e},attrValue:function(e){n[t]+=e},attrEnd:function(){}}),n},u=[].splice,d=function(e){return e&&e.nodeType},l=function(e){e.childNodes.length||e.appendChild(document.createTextNode(""))},c={list:function(n,i,a,o,d,l){var p,f=l||[n],m=[],h=!1,_=!1,v=function(n,i,r){if(h){var d=document.createDocumentFragment(),c=[],p=[];e.each(i,function(t,n){var i=[];l&&s.register(i,null,!0);var u=e.compute(n+r),f=a.call(o,t,u,i),m="string"==typeof f,h=e.frag(f);h=m?e.view.hookup(h):h;var _=e.makeArray(h.childNodes);l?(s.update(i,_),c.push(i)):c.push(s.register(_)),d.appendChild(h),p.push(u)});var _=r+1;if(f[_]){var v=s.first(f[_]);e.insertBefore(v.parentNode,d,v)}else t.after(1===_?[w]:[s.last(f[_-1])],d);u.apply(f,[_,0].concat(c)),u.apply(m,[r,0].concat(p));for(var g=r+p.length,b=m.length;g<b;g++)m[g](g)}},g=function(t,n,i,r,a){if(h&&(r||!C.teardownCheck(w.parentNode))){i<0&&(i=m.length+i);var o=f.splice(i+1,n.length),u=[];e.each(o,function(e){var t=s.unregister(e);[].push.apply(u,t)}),m.splice(i,n.length);for(var d=i,l=m.length;d<l;d++)m[d](d);a?s.unregister(f):e.remove(e.$(u))}},b=function(t,n,i,r){if(h){r+=1;var a,o=f[i+=1],u=e.frag(s.flatten(f[r]));a=r<i?s.last(o).nextSibling:s.first(o),f[0].parentNode.insertBefore(u,a);var d=f[r];[].splice.apply(f,[r,1]),[].splice.apply(f,[i,0,d])}},w=document.createTextNode(""),y=function(e){p&&p.unbind&&p.unbind("add",v).unbind("remove",g).unbind("move",b),g(0,{length:f.length-1},0,!0,e)},x=function(t,n,s){_||(y(),(p=n||[]).bind&&p.bind("add",v).bind("remove",g).bind("move",b),h=!0,v(0,p,0),h=!1,e.batch.afterPreviousEvents(function(){h=!0}))};d=t.getParentNode(n,d);var C=r(d,function(){e.isFunction(i)&&i.bind("change",x)},function(){e.isFunction(i)&&i.unbind("change",x),y(!0)});l?(t.replace(f,w),s.update(f,[w]),l.unregistered=function(){C.teardownCheck(),_=!0}):c.replace(f,w,C.teardownCheck),x(0,e.isFunction(i)?i():i)},html:function(n,i,r,o){var u;r=t.getParentNode(n,r),u=a(r,i,function(e,t,n){s.first(c).parentNode&&p(t),u.teardownCheck(s.first(c).parentNode)});var c=o||[n],p=function(n){var i="function"==typeof n,a=d(n),o=e.frag(i?"":n),u=e.makeArray(c);l(o),a||i||(o=e.view.hookup(o,r)),u=s.update(c,o.childNodes),i&&n(o.childNodes[0]),t.replace(u,o)};u.nodeList=c,o?o.unregistered=u.teardownCheck:s.register(c,u.teardownCheck),p(i())},replace:function(n,i,r){var a=n.slice(0),o=e.frag(i);return s.register(n,r),"string"==typeof i&&(o=e.view.hookup(o,n[0].parentNode)),s.update(n,o.childNodes),t.replace(a,o),n},text:function(n,i,r,o){var u=t.getParentNode(n,r),d=a(u,i,function(t,n,s){"unknown"!=typeof l.nodeValue&&(l.nodeValue=e.view.toStr(n)),d.teardownCheck(l.parentNode)}),l=document.createTextNode(e.view.toStr(i()));o?(o.unregistered=d.teardownCheck,d.nodeList=o,s.update(o,[l]),t.replace([n],l)):d.nodeList=c.replace([n],l,d.teardownCheck)},setAttributes:function(t,n){var s=o(n);for(var i in s)e.attr.set(t,i,s[i])},attributes:function(n,s,i){var r={},u=function(s){var i,a=o(s);for(i in a){var u=a[i];u!==r[i]&&e.attr.set(n,i,u),delete r[i]}for(i in r)t.removeAttr(n,i);r=a};a(n,s,function(e,t){u(t)}),arguments.length>=3?r=o(i):u(s())},attributePlaceholder:"__!!__",attributeReplace:/__!!__/g,attribute:function(n,s,i){a(n,i,function(e,i){t.setAttr(n,s,u.render())});var r,o=e.$(n);(r=e.data(o,"hooks"))||e.data(o,"hooks",r={});var u,d=String(t.getAttr(n,s)),l=d.split(c.attributePlaceholder),p=[];p.push(l.shift(),l.join(c.attributePlaceholder)),r[s]?r[s].computes.push(i):r[s]={render:function(){var e=0;return d?d.replace(c.attributeReplace,function(){return t.contentText(u.computes[e++]())}):t.contentText(u.computes[e++]())},computes:[i],batchNum:void 0},u=r[s],p.splice(1,0,i()),t.setAttr(n,s,p.join(""))},specialAttribute:function(e,n,s){a(e,s,function(s,i){t.setAttr(e,n,f(i))}),t.setAttr(e,n,f(s()))},simpleAttribute:function(e,n,s){a(e,s,function(s,i){t.setAttr(e,n,i)}),t.setAttr(e,n,s())}};c.attr=c.simpleAttribute,c.attrs=c.attributes,c.getAttributeParts=o;var p=/(\r|\n)+/g,f=function(e){return e=e.replace(t.attrReg,"").replace(p,""),/^["'].*["']$/.test(e)?e.substr(1,e.length-2):e};return e.view.live=c,c}),define("can/view/render",["can/view/view","./elements","can/view/live/live","can/util/string/string"],function(e,t,n){var s,i=[],r=function(e){var n=t.tagMap[e]||"span";return"span"===n?"@@!!@@":"<"+n+">"+r(n)+"</"+n+">"},a=function(t,n){if("string"==typeof t)return t;if(!t&&0!==t)return"";var s=t.hookup&&function(e,n){t.hookup.call(t,e,n)}||"function"==typeof t&&t;return s?n?"<"+n+" "+e.view.hook(s)+"></"+n+">":(i.push(s),""):""+t},o=function(t,n){return"string"==typeof t||"number"==typeof t?e.esc(t):a(t,n)},u=!1,d=function(){};return e.extend(e.view,{live:n,setupLists:function(){var t,n=e.view.lists;return e.view.lists=function(e,n){return t={list:e,renderer:n},Math.random()},function(){return e.view.lists=n,t}},getHooks:function(){var e=i.slice(0);return s=e,i=[],e},onlytxt:function(e,t){return o(t.call(e))},txt:function(l,c,p,f,m){var h,_,v,g,b=t.tagMap[c]||"span",w=!1,y=d;if(u)h=m.call(f);else{"string"!=typeof p&&1!==p||(u=!0);var x=e.view.setupLists();y=function(){v.unbind("change",d)},(v=e.compute(m,f,!1)).bind("change",d),_=x(),h=v(),u=!1,w=v.computeInstance.hasDependencies}if(_)return y(),"<"+b+e.view.hook(function(e,t){n.list(e,_.list,_.renderer,f,t)})+"></"+b+">";if(!w||"function"==typeof h)return y(),(u||2===l||!l?a:o)(h,0===p&&b);var C=t.tagToContentPropMap[c];return 0!==p||C?1===p?(i.push(function(e){n.attributes(e,v,v()),y()}),v()):2===l?(g=p,i.push(function(e){n.specialAttribute(e,g,v),y()}),v()):(g=0===p?C:p,(0===p?s:i).push(function(e){n.attribute(e,g,v),y()}),n.attributePlaceholder):"<"+b+e.view.hook(l&&"object"!=typeof h?function(e,t){n.text(e,v,t),y()}:function(e,t){n.html(e,v,t),y()})+">"+r(b)+"</"+b+">"}}),e}),define("can/view/stache/utils",["can/util/util"],function(){return{isArrayLike:function(e){return e&&e.splice&&"number"==typeof e.length},isObserveLike:function(e){return e instanceof can.Map||e&&!!e._get},emptyHandler:function(){},jsonParse:function(str){return"'"===str[0]?str.substr(1,str.length-2):"undefined"===str?void 0:can.global.JSON?JSON.parse(str):eval("("+str+")")},mixins:{last:function(){return this.stack[this.stack.length-1]},add:function(e){this.last().add(e)},subSectionDepth:function(){return this.stack.length-1}}}}),define("can/view/stache/mustache_helpers",["can/util/util","./utils","can/view/live/live"],function(e,t,n){n=n||e.view.live;var s=function(n){return t.isObserveLike(n)&&t.isArrayLike(n)&&n.attr("length")?n:e.isFunction(n)?n():n},i={each:function(i,r){var a,o,u,d=s(i),l=[];if(d instanceof e.List)return function(t){var s=[t];s.expression="live.list",e.view.nodeLists.register(s,null,r.nodeList),e.view.nodeLists.update(r.nodeList,[t]),n.list(t,i,function(e,t,n){return r.fn(r.scope.add({"@index":t}).add(e),r.options,n)},r.context,t.parentNode,s)};var c=d;if(c&&t.isArrayLike(c))for(u=0;u<c.length;u++)l.push(r.fn(r.scope.add({"@index":u}).add(c[u])));else if(t.isObserveLike(c))for(a=e.Map.keys(c),u=0;u<a.length;u++)o=a[u],l.push(r.fn(r.scope.add({"@key":o}).add(c[o])));else if(c instanceof Object)for(o in c)l.push(r.fn(r.scope.add({"@key":o}).add(c[o])));return l},"@index":function(t,n){n||(n=t,t=0);var s=n.scope.attr("@index");return""+((e.isFunction(s)?s():s)+t)},if:function(t,n){return(e.isFunction(t)?e.compute.truthy(t)():!!s(t))?n.fn(n.scope||this):n.inverse(n.scope||this)},is:function(){var t,n,i=arguments[arguments.length-1];if(arguments.length-2<=0)return i.inverse();for(var r=0;r<arguments.length-1;r++){if(n=s(arguments[r]),n=e.isFunction(n)?n():n,r>0&&n!==t)return i.inverse();t=n}return i.fn()},eq:function(){return i.is.apply(this,arguments)},unless:function(t,n){return i.if.apply(this,[e.isFunction(t)?e.compute(function(){return!t()}):!t,n])},with:function(e,t){var n=e;if(e=s(e))return t.fn(n)},log:function(e,t){"undefined"!=typeof console&&console.log&&(t?console.log(e,t.context):console.log(e.context))},data:function(t){var n=2===arguments.length?this:arguments[1];return function(s){e.data(e.$(s),t,n||this.context)}}};return{registerHelper:function(e,t){i[e]=t},getHelper:function(e,t){var n=t.attr("helpers."+e);if(n||(n=i[e]),n)return{fn:n}}}}),define("can/view/stache/mustache_core",["can/util/util","./utils","./mustache_helpers","can/view/live/live","can/view/elements","can/view/scope/scope","can/view/node_lists/node_lists"],function(e,t,n,s,i,r,a){s=s||e.view.live,i=i||e.view.elements,r=r||e.view.Scope,a=a||e.view.nodeLists;var o=/((([^'"\s]+?=)?('.*?'|".*?"))|.*?)\s/g,u=/^(?:(?:('.*?'|".*?")|([0-9]+\.?[0-9]*|true|false|null|undefined))|(?:(.+?)=(?:(?:('.*?'|".*?")|([0-9]+\.?[0-9]*|true|false|null|undefined))|(.+))))$/,d=/(?:(?:^|(\r?)\n)(\s*)(\{\{([^\}]*)\}\}\}?)([^\S\n\r]*)($|\r?\n))|(\{\{([^\}]*)\}\}\}?)/g,l=function(e){return e&&"string"==typeof e.get},c=function(e,t,n,s){for(var i=document.createDocumentFragment(),r=0,a=e.length;r<a;r++)p(i,n.fn(t?e.attr(""+r):e[r],s));return i},p=function(e,t){t&&e.appendChild("string"==typeof t?document.createTextNode(t):t)},f=function(e,t,n,s){for(var i="",r=0,a=e.length;r<a;r++)i+=n.fn(t?e.attr(""+r):e[r],s);return i},m=function(t,n,s){var i=n.computeData(t,{isArgument:s,args:[n.attr("."),n]});return e.compute.temporarilyBind(i.compute),i},h=function(e,t){var n=m(e,t,!0);return n.compute.computeInstance.hasDependencies?n.compute:n.initialValue},_=function(e,t,n,s,i,r){i&&(e.fn=v(i,t,n,s)),r&&(e.inverse=v(r,t,n,s))},v=function(t,n,s,i){var r=function(e,s,i){return t(e||n,s,i)};return e.__notObserve(function(t,a,o){return void 0===t||t instanceof e.view.Scope||(t=n.add(t)),void 0===a||a instanceof g.Options||(a=s.add(a)),r(t,a||s,o||i)})},g={expressionData:function(n){var s=[],i={},r=0;return(e.trim(n)+" ").replace(o,function(e,n){var a;r&&(a=n.match(u))?a[1]||a[2]?s.push(t.jsonParse(a[1]||a[2])):i[a[3]]=a[6]?{get:a[6]}:t.jsonParse(a[4]||a[5]):s.push({get:n}),r++}),{name:s.shift(),args:s,hash:i}},makeEvaluator:function(s,i,r,a,o,u,d,p){for(var v,g,b,w=[],y={},x={fn:function(){},inverse:function(){}},C=s.attr("."),S=o.name,j=o.args.length||!e.isEmptyObject(o.hash),k=0,E=o.args.length;k<E;k++){var T=o.args[k];T&&l(T)?w.push(h(T.get,s)):w.push(T)}for(var I in o.hash)l(o.hash[I])?y[I]=h(o.hash[I].get,s):y[I]=o.hash[I];if(l(S)&&(j&&((v=n.getHelper(S.get,i))||"function"!=typeof C[S.get]||(v={fn:C[S.get]})),!v)){var M=S.get,A=m(S.get,s,!1),O=A.compute;g=A.initialValue,S=A.compute.computeInstance.hasDependencies?O:g,j||void 0!==g?"function"==typeof g&&(v={fn:g}):v=n.getHelper(M,i)}if("^"===a){var P=u;u=d,d=P}if(v)return _(x,s,i,r,u,d),e.simpleExtend(x,{context:C,scope:s,contexts:s,hash:y,nodeList:r,exprData:o}),w.push(x),b=function(){return v.fn.apply(C,w)||""},b.bindOnce=!1,b;if(!a)return S&&S.isComputed?S:function(){return""+(null!=S?S:"")};if("#"===a||"^"===a){_(x,s,i,r,u,d);var N=function(){var n;if(n=e.isFunction(S)&&S.isComputed?S():S,t.isArrayLike(n)){var r=t.isObserveLike(n);return(r?n.attr("length"):n.length)?(p?f:c)(n,r,x,i):x.inverse(s,i)}return n?x.fn(n||s,i):x.inverse(s,i)};return N.bindOnce=!1,N}},makeLiveBindingPartialRenderer:function(t,n){return t=e.trim(t),function(i,r,o){var u=[this];u.expression=">"+t,a.register(u,null,!n.directlyNested||o||!0);var d=e.compute(function(){var n,s=t,a=r.attr("partials."+s);if(a)n=a.render?a.render(i,r):a(i,r);else{var o=i.read(s,{isArgument:!0,returnObserveMethods:!0,proxyMethods:!1}).value;o&&(s=o),n=e.view.render(s,i,r)}return e.frag(n)});s.html(this,d,this.parentNode,u)}},makeStringBranchRenderer:function(e,t){var n=w(t),s=e+t;return function(t,i,r,a){var o=t.__cache[s];!e&&o||(o=b(t,i,null,e,n,r,a,!0),e||(t.__cache[s]=o));var u=o();return null==u?"":""+u}},makeLiveBindingBranchRenderer:function(t,n,r){var o=w(n);return function(u,d,l,c,p){var f=[this];f.expression=n,a.register(f,null,!r.directlyNested||l||!0);var m=b(u,d,f,t,o,c,p,r.tag),h=e.compute(m,null,!1,!1!==m.bindOnce);h.bind("change",e.k);var _=h();if("function"==typeof _){var v=e.__clearObserved();_(this),e.__setObserved(v)}else h.computeInstance.hasDependencies?r.attr?s.simpleAttribute(this,r.attr,h):r.tag?s.attributes(this,h):r.text&&"object"!=typeof _?s.text(this,h,this.parentNode,f):s.html(this,h,this.parentNode,f):r.attr?e.attr.set(this,r.attr,_):r.tag?s.setAttributes(this,_):r.text&&"string"==typeof _?this.nodeValue=_:_&&i.replace([this],e.frag(_));h.unbind("change",e.k)}},splitModeFromExpression:function(t,n){var s=(t=e.trim(t)).charAt(0);return"#/{&^>!".indexOf(s)>=0?t=e.trim(t.substr(1)):s=null,"{"===s&&n.node&&(s=null),{mode:s,expression:t}},cleanLineEndings:function(e){return e.replace(d,function(e,t,n,s,i,r,a,o,u,d){r=r||"",t=t||"",n=n||"";var l=y(i||u,{});return o||">{".indexOf(l.mode)>=0?e:"^#!/".indexOf(l.mode)>=0?s+(0!==d&&a.length?t+"\n":""):n+s+r+(n.length||0!==d?t+"\n":"")})},Options:e.view.Scope.extend({init:function(t,n){t.helpers||t.partials||t.tags||(t={helpers:t}),e.view.Scope.prototype.init.apply(this,arguments)}})},b=g.makeEvaluator,w=g.expressionData,y=g.splitModeFromExpression;return g}),define("can/view/bindings/bindings",["can/util/util","can/view/stache/mustache_core","can/view/callbacks/callbacks","can/control/control","can/view/scope/scope"],function(e,t){var n=function(){var e={"":!0,true:!0,false:!1},t=function(t){if(t&&t.getAttribute){var n=t.getAttribute("contenteditable");return e[n]}};return function(e){var n=t(e);return"boolean"==typeof n?n:!!t(e.parentNode)}}(),s=function(e){return"{"===e[0]&&"}"===e[e.length-1]?e.substr(1,e.length-2):e};e.view.attr("can-value",function(t,i){var d,l,c=e.trim(s(t.getAttribute("can-value"))),p=i.scope.computeData(c,{args:[]}).compute;"input"!==t.nodeName.toLowerCase()||("checkbox"===t.type&&(d=!e.attr.has(t,"can-true-value")||t.getAttribute("can-true-value"),l=!!e.attr.has(t,"can-false-value")&&t.getAttribute("can-false-value")),"checkbox"!==t.type&&"radio"!==t.type)?"select"===t.nodeName.toLowerCase()&&t.multiple?new o(t,{value:p}):n(t)?new u(t,{value:p}):new r(t,{value:p}):new a(t,{value:p,trueValue:d,falseValue:l})});var i={enter:function(e,t,n){return{event:"keyup",handler:function(e){if(13===e.keyCode)return n.call(this,e)}}}};e.view.attr(/can-[\w\.]+/,function(n,r){var a=r.attributeName,o=a.substr("can-".length),u=function(i){var o=n.getAttribute(a);if(o){var u=t.expressionData(s(o)),d=r.scope.read(u.name.get,{returnObserveMethods:!0,isArgument:!0,executeAnonymousFunctions:!0}),l=[],c=e.$(this),p=e.viewModel(c[0]),f=r.scope.add({"@element":c,"@event":i,"@viewModel":p,"@scope":r.scope,"@context":r.scope._context});if(!e.isEmptyObject(u.hash)){var m={};e.each(u.hash,function(e,t){if(e&&e.hasOwnProperty("get")){var n=e.get.indexOf("@")?r.scope:f;m[t]=n.read(e.get,{}).value}else m[t]=e}),l.unshift(m)}if(u.args.length)for(var h,_=u.args.length-1;_>=0;_--)if((h=u.args[_])&&h.hasOwnProperty("get")){var v=h.get.indexOf("@")?r.scope:f;l.unshift(v.read(h.get,{}).value)}else l.unshift(h);return l.length||(l=[r.scope._context,c].concat(e.makeArray(arguments))),d.value.apply(d.parent,l)}};if(i[o]){var d=i[o](r,n,u);u=d.handler,o=d.event}e.bind.call(n,o,u);var l=function(t){t.attributeName!==a||this.getAttribute(a)||(e.unbind.call(n,o,u),e.unbind.call(n,"attributes",l))};e.bind.call(n,"attributes",l)});var r=e.Control.extend({init:function(){"SELECT"===this.element[0].nodeName.toUpperCase()?setTimeout(e.proxy(this.set,this),1):this.set()},"{value} change":"set",set:function(){if(this.element){var e=this.options.value();null==e&&"SELECT"!==this.element[0].nodeName.toUpperCase()&&(e=""),null!=e&&(this.element[0].value=e)}},change:function(){if(this.element){var e=this.element[0];this.options.value(e.value);var t=this.options.value();e.value!==t&&(e.value=t)}}}),a=e.Control.extend({init:function(){this.isCheckbox="checkbox"===this.element[0].type.toLowerCase(),this.check()},"{value} change":"check",check:function(){if(this.isCheckbox){var t=this.options.value(),n=this.options.trueValue||!0;this.element[0].checked=t==n}else{var s=this.options.value()==this.element[0].value?"set":"remove";e.attr[s](this.element[0],"checked",!0)}},change:function(){this.isCheckbox?this.options.value(this.element[0].checked?this.options.trueValue:this.options.falseValue):this.element[0].checked&&this.options.value(this.element[0].value)}}),o=r.extend({init:function(){this.delimiter=";",setTimeout(e.proxy(this.set,this),1)},set:function(){var t=this.options.value();"string"==typeof t?(t=t.split(this.delimiter),this.isString=!0):t&&(t=e.makeArray(t));var n={};e.each(t,function(e){n[e]=!0}),e.each(this.element[0].childNodes,function(e){e.value&&(e.selected=!!n[e.value])})},get:function(){var t=[],n=this.element[0].childNodes;return e.each(n,function(e){e.selected&&e.value&&t.push(e.value)}),t},change:function(){var t=this.get(),n=this.options.value();this.isString||"string"==typeof n?(this.isString=!0,this.options.value(t.join(this.delimiter))):n instanceof e.List?n.attr(t,!0):this.options.value(t)}}),u=e.Control.extend({init:function(){this.set(),this.on("blur","setValue")},"{value} change":"set",set:function(){var e=this.options.value();this.element[0].innerHTML=void 0===e?"":e},setValue:function(){this.options.value(this.element[0].innerHTML)}})}),define("can/view/mustache/mustache",["can/util/util","can/view/scope/scope","can/view/view","can/view/scanner","can/compute/compute","can/view/render","can/view/bindings/bindings"],function(e){e.view.ext=".mustache";var t="scope,options",n=/((([^'"\s]+?=)?('.*?'|".*?"))|.*?)\s/g,s=/^(('.*?'|".*?"|[0-9]+\.?[0-9]*|true|false|null|undefined)|((.+?)=(('.*?'|".*?"|[0-9]+\.?[0-9]*|true|false)|(.+))))$/,i=function(e){return'{get:"'+e.replace(/"/g,'\\"')+'"}'},r=function(e){return e&&"string"==typeof e.get},a=function(t){return t instanceof e.Map||t&&!!t._get},o=function(e){return e&&e.splice&&"number"==typeof e.length},u=function(t,n,s){var i=function(e,s){return t(e||n,s)};return function(t,r){return void 0===t||t instanceof e.view.Scope||(t=n.add(t)),void 0===r||r instanceof e.view.Options||(r=s.add(r)),i(t,r||s)}},d=function(t,n){if(this.constructor!==d){var s=new d(t);return function(e,t){return s.render(e,t)}}"function"!=typeof t?(e.extend(this,t),this.template=this.scanner.scan(this.text,this.name)):this.template={fn:t}};e.Mustache=e.global.Mustache=d,d.prototype.render=function(t,n){return t instanceof e.view.Scope||(t=new e.view.Scope(t||{})),n instanceof e.view.Options||(n=new e.view.Options(n||{})),n=n||{},this.template.fn.call(t,t,n)},e.extend(d.prototype,{scanner:new e.view.Scanner({text:{start:"",scope:"scope",options:",options: options",argNames:t},tokens:[["returnLeft","{{{","{{[{&]"],["commentFull","{{!}}","^[\\s\\t]*{{!.+?}}\\n"],["commentLeft","{{!","(\\n[\\s\\t]*{{!|{{!)"],["escapeFull","{{}}","(^[\\s\\t]*{{[#/^][^}]+?}}\\n|\\n[\\s\\t]*{{[#/^][^}]+?}}\\n|\\n[\\s\\t]*{{[#/^][^}]+?}}$)",function(e){return{before:/^\n.+?\n$/.test(e)?"\n":"",content:e.match(/\{\{(.+?)\}\}/)[1]||""}}],["escapeLeft","{{"],["returnRight","}}}"],["right","}}"]],helpers:[{name:/^>[\s]*\w*/,fn:function(n,s){return"can.Mustache.renderPartial('"+e.trim(n.replace(/^>\s?/,"")).replace(/["|']/g,"")+"',"+t+")"}},{name:/^\s*data\s/,fn:function(e,t){return"can.proxy(function(__){can.data(can.$(__),'"+e.match(/["|'](.*)["|']/)[1]+"', this.attr('.')); }, scope)"}},{name:/\s*\(([\$\w]+)\)\s*->([^\n]*)/,fn:function(e){var t=e.match(/\s*\(([\$\w]+)\)\s*->([^\n]*)/);return"can.proxy(function(__){var "+t[1]+"=can.$(__);with(scope.attr('.')){"+t[2]+"}}, this);"}},{name:/^.*$/,fn:function(t,r){var a=!1,o={content:"",startTxt:!1,startOnlyTxt:!1,end:!1};if((t=e.trim(t)).length&&(a=t.match(/^([#^/]|else$)/))){switch(a=a[0]){case"#":case"^":r.specialAttribute?o.startOnlyTxt=!0:(o.startTxt=!0,o.escaped=0);break;case"/":return o.end=!0,o.content+='return ___v1ew.join("");}}])',o}t=t.substring(1)}if("else"!==a){var u,d=[],l=[],c=0;o.content+="can.Mustache.txt(\n"+(r.specialAttribute?"{scope:scope,options:options, special: true}":"{scope:scope,options:options}")+",\n"+(a?'"'+a+'"':"null")+",",(e.trim(t)+" ").replace(n,function(e,t){c&&(u=t.match(s))?u[2]?d.push(u[0]):l.push(u[4]+":"+(u[6]?u[6]:i(u[5]))):d.push(i(t)),c++}),o.content+=d.join(","),l.length&&(o.content+=",{___h4sh:{"+l.join(",")+"}}")}switch(a&&"else"!==a&&(o.content+=",[\n\n"),a){case"^":case"#":o.content+="{fn:function(scope,options){var ___v1ew = [];";break;case"else":o.content+='return ___v1ew.join("");}},\n{inverse:function(scope,options){\nvar ___v1ew = [];';break;default:o.content+=")"}return a||(o.startTxt=!0,o.end=!0),o}}]})});for(var l=e.view.Scanner.prototype.helpers,c=0;c<l.length;c++)d.prototype.scanner.helpers.unshift(l[c]);return d.txt=function(t,n,s){for(var i,l,c=t.scope,p=t.options,f=[],m={fn:function(){},inverse:function(){}},h=c.attr("."),_=!0,v=3;v<arguments.length;v++){var g=arguments[v];if(n&&e.isArray(g))m=e.extend.apply(e,[m].concat(g));else if(g&&g.___h4sh){i=g.___h4sh;for(var b in i)r(i[b])&&(i[b]=d.get(i[b].get,t,!1,!0))}else g&&r(g)?f.push(d.get(g.get,t,!1,!0,!0)):f.push(g)}if(r(s)&&(_=s.get===(s=d.get(s.get,t,f.length,!1))),m.fn=u(m.fn,c,p),m.inverse=u(m.inverse,c,p),"^"===n){var w=m.fn;m.fn=m.inverse,m.inverse=w}return(l=_&&"string"==typeof s&&d.getHelper(s,p)||e.isFunction(s)&&!s.isComputed&&{fn:s})?(e.extend(m,{context:h,scope:c,contexts:c,hash:i}),f.push(m),function(){return l.fn.apply(h,f)||""}):function(){var t;t=e.isFunction(s)&&s.isComputed?s():s;var i,r,u,d=f.length?f:[t],l=!0,c=[];if(n)for(i=0;i<d.length;i++)r=void 0!==(u=d[i])&&a(u),o(u)?"#"===n?l=l&&!!(r?u.attr("length"):u.length):"^"===n&&(l=l&&!(r?u.attr("length"):u.length)):l="#"===n?l&&!!u:"^"===n?l&&!u:l;if(l){if("#"===n){if(o(t)){var p=a(t);for(i=0;i<t.length;i++)c.push(m.fn(p?t.attr(""+i):t[i]));return c.join("")}return m.fn(t||{})||""}return"^"===n?m.inverse(t||{})||"":""+(null!=t?t:"")}return""}},d.get=function(t,n,s,i,r){var a=n.scope.attr("."),o=n.options||{};if(s){if(d.getHelper(t,o))return t;if(n.scope&&e.isFunction(a[t]))return a[t]}var u=n.scope.computeData(t,{isArgument:i,args:[a,n.scope]}),l=u.compute;e.compute.temporarilyBind(l);var c=u.initialValue;return d.getHelper(t,o),r||void 0!==c&&u.scope===n.scope||!d.getHelper(t,o)?l.computeInstance.hasDependencies?l:c:t},d.resolve=function(t){return a(t)&&o(t)&&t.attr("length")?t:e.isFunction(t)?t():t},e.view.Options=e.view.Scope.extend({init:function(t,n){t.helpers||t.partials||t.tags||(t={helpers:t}),e.view.Scope.prototype.init.apply(this,arguments)}}),d._helpers={},d.registerHelper=function(e,t){this._helpers[e]={name:e,fn:t}},d.getHelper=function(e,t){var n;return t&&(n=t.attr("helpers."+e)),n?{fn:n}:this._helpers[e]},d.render=function(t,n,s){if(!e.view.cached[t]){var i=e.__clearReading(),r=n.attr(t);r&&(t=r),e.__setReading(i)}return e.view.render(t,n,s)},d.safeString=function(e){return{toString:function(){return e}}},d.renderPartial=function(t,n,s){var i=s.attr("partials."+t);return i?i.render?i.render(n,s):i(n,s):e.Mustache.render(t,n,s)},e.each({if:function(t,n){return(e.isFunction(t)?e.compute.truthy(t)():!!d.resolve(t))?n.fn(n.contexts||this):n.inverse(n.contexts||this)},is:function(){var t,n,s=arguments[arguments.length-1];if(arguments.length-2<=0)return s.inverse();for(var i=0;i<arguments.length-1;i++){if(n=d.resolve(arguments[i]),n=e.isFunction(n)?n():n,i>0&&n!==t)return s.inverse();t=n}return s.fn()},eq:function(){return d._helpers.is.fn.apply(this,arguments)},unless:function(t,n){return d._helpers.if.fn.apply(this,[e.isFunction(t)?e.compute(function(){return!t()}):!t,n])},each:function(t,n){var s,i,r,u=d.resolve(t),l=[];if(e.view.lists&&(u instanceof e.List||t&&t.isComputed&&void 0===u))return e.view.lists(t,function(e,t){return n.fn(n.scope.add({"@index":t}).add(e))});if((t=u)&&o(t)){for(r=0;r<t.length;r++)l.push(n.fn(n.scope.add({"@index":r}).add(t[r])));return l.join("")}if(a(t)){for(s=e.Map.keys(t),r=0;r<s.length;r++)i=s[r],l.push(n.fn(n.scope.add({"@key":i}).add(t[i])));return l.join("")}if(t instanceof Object){for(i in t)l.push(n.fn(n.scope.add({"@key":i}).add(t[i])));return l.join("")}},with:function(e,t){var n=e;if(e=d.resolve(e))return t.fn(n)},log:function(e,t){"undefined"!=typeof console&&console.log&&(t?console.log(e,t.context):console.log(e.context))},"@index":function(t,n){n||(n=t,t=0);var s=n.scope.attr("@index");return""+((e.isFunction(s)?s():s)+t)}},function(e,t){d.registerHelper(t,e)}),e.view.register({suffix:"mustache",contentType:"x-mustache-template",script:function(e,t){return"can.Mustache(function(scope,options) { "+new d({text:t,name:e}).template.out+" })"},renderer:function(e,t){return d({text:t,name:e})}}),e.mustache.registerHelper=e.proxy(e.Mustache.registerHelper,e.Mustache),e.mustache.safeString=e.Mustache.safeString,e}),define("can/observe/observe",["can/util/util","can/map/map","can/list/list","can/compute/compute"],function(e){return e.Observe=e.Map,e.Observe.startBatch=e.batch.start,e.Observe.stopBatch=e.batch.stop,e.Observe.triggerBatch=e.batch.trigger,e}),define("can/component/component",["can/util/util","can/view/callbacks/callbacks","can/view/elements","can/control/control","can/observe/observe","can/view/mustache/mustache","can/view/bindings/bindings"],function(e,t,n){var s=/^(dataViewId|class|id)$/i,i=/\{([^\}]+)\}/g,r=e.Component=e.Construct.extend({setup:function(){if(e.Construct.setup.apply(this,arguments),e.Component){var t=this,n=this.prototype.scope||this.prototype.viewModel;if(this.Control=a.extend(this.prototype.events),n&&("object"!=typeof n||n instanceof e.Map)?n.prototype instanceof e.Map&&(this.Map=n):this.Map=e.Map.extend(n||{}),this.attributeScopeMappings={},e.each(this.Map?this.Map.defaults:{},function(e,n){"@"===e&&(t.attributeScopeMappings[n]=n)}),this.prototype.template)if("function"==typeof this.prototype.template){var s=this.prototype.template;this.renderer=function(){return e.view.frag(s.apply(null,arguments))}}else this.renderer=e.view.mustache(this.prototype.template);e.view.tag(this.prototype.tag,function(e,n){new t(e,n)})}}},{setup:function(i,r){var a,o,u={},d=this,l=void 0!==this.leakScope&&!this.leakScope&&this.template,c={},p=this.scope||this.viewModel,f={},m=[];if(e.each(this.constructor.attributeScopeMappings,function(t,n){u[n]=i.getAttribute(e.hyphenate(t))}),e.each(e.makeArray(i.attributes),function(n,i){var o=e.camelize(n.nodeName.toLowerCase()),l=n.value;if(!(d.constructor.attributeScopeMappings[o]||s.test(o)||t.attr(n.nodeName))){if("{"===l[0]&&"}"===l[l.length-1])l=l.substr(1,l.length-2);else if("legacy"!==r.templateType)return void(u[o]=l);var p=r.scope.computeData(l,{args:[]}),h=p.compute,_=function(t,n){f[o]=(f[o]||0)+1,a.attr(o,n),e.batch.afterPreviousEvents(function(){--f[o]})};h.bind("change",_),u[o]=h(),h.computeInstance.hasDependencies?(m.push(function(){h.unbind("change",_)}),c[o]=p):h.unbind("change",_)}}),this.constructor.Map)a=new this.constructor.Map(u);else if(p instanceof e.Map)a=p;else if(e.isFunction(p)){var h=p.call(this,u,r.scope,i);a=h instanceof e.Map?h:h.prototype instanceof e.Map?new h(u):new(e.Map.extend(h))(u)}var _={};e.each(c,function(e,t){_[t]=function(n,s){f[t]||e.compute(s)},a.bind(t,_[t])}),e.isEmptyObject(this.constructor.attributeScopeMappings)&&"legacy"===r.templateType||e.bind.call(i,"attributes",function(t){var n=e.camelize(t.attributeName);c[n]||s.test(n)||a.attr(n,i.getAttribute(t.attributeName))}),this.scope=this.viewModel=a,e.data(e.$(i),"scope",this.scope),e.data(e.$(i),"viewModel",this.scope);var v=l?this.scope:r.scope.add(this.scope),g={helpers:{}};e.each(this.helpers||{},function(t,n){e.isFunction(t)&&(g.helpers[n]=function(){return t.apply(a,arguments)})}),m.push(function(){e.each(_,function(e,t){a.unbind(t,_[t])})}),this._control=new this.constructor.Control(i,{scope:this.scope,viewModel:this.scope,destroy:function(){for(var e=0,t=m.length;e<t;e++)m[e]()}});var b=e.view.nodeLists.register([],void 0,!0);m.push(function(){e.view.nodeLists.unregister(b)}),this.constructor.renderer?(g.tags||(g.tags={}),g.tags.content=function t(s,i){var a=r.subtemplate||i.subtemplate;if(a){delete g.tags.content;var o=l&&a===r.subtemplate?r:i;if(i.parentNodeList){var u=a(o.scope,o.options,i.parentNodeList);n.replace([s],u)}else e.view.live.replace([s],a(o.scope,o.options));g.tags.content=t}},o=this.constructor.renderer(v,r.options.add(g),b)):o="legacy"===r.templateType?e.view.frag(r.subtemplate?r.subtemplate(v,r.options.add(g)):""):r.subtemplate?r.subtemplate(v,r.options.add(g),b):document.createDocumentFragment(),e.appendChild(i,o),e.view.nodeLists.update(b,i.childNodes)}}),a=e.Control.extend({_lookup:function(e){return[e.scope,e,window]},_action:function(t,n,s){var r,a;if(i.lastIndex=0,r=i.test(t),s||!r){if(r){var o=function(e,n){s._bindings.control[t](s.element),s._bindings.control[t]=n.processor(n.delegate||s.element,n.parts[2],n.parts[1],t,s)};return(a=e.compute(function(){var s,r=t.replace(i,function(t,i){var r;return"scope"===i||"viewModel"===i?(s=n.scope,""):(i=i.replace(/^(scope|^viewModel)\./,""),void 0===(r=e.compute.read(n.scope,i.split("."),{isArgument:!0}).value)&&(r=e.getObject(i)),"string"==typeof r?r:(s=r,""))}),a=r.split(/\s+/g),o=a.pop();return{processor:this.processors[o]||this.processors.click,parts:[r,a.join(" "),o],delegate:s||void 0}},this)).bind("change",o),s._bindings.readyComputes[t]={compute:a,handler:o},a()}return e.Control._action.apply(this,arguments)}}},{setup:function(t,n){return this.scope=n.scope,this.viewModel=n.viewModel,e.Control.prototype.setup.call(this,t,n)},off:function(){this._bindings&&e.each(this._bindings.readyComputes||{},function(e){e.compute.unbind("change",e.handler)}),e.Control.prototype.off.apply(this,arguments),this._bindings.readyComputes={}},destroy:function(){e.Control.prototype.destroy.apply(this,arguments),"function"==typeof this.options.destroy&&this.options.destroy.apply(this,arguments)}}),o=e.$;return o.fn&&(o.fn.scope=o.fn.viewModel=function(){return e.viewModel.apply(e,[this].concat(e.makeArray(arguments)))}),r}),define("can/can",["can/util/util","can/control/route/route","can/model/model","can/view/mustache/mustache","can/component/component"],function(e){return e}),define("can/map/define/define",["can/util/util","can/observe/observe"],function(e){var t=e.define={},n=function(e,t,n){var s,i;if(n){if(s=n[t],i=n["*"],s&&void 0!==s[e])return s[e];if(i&&void 0!==i[e])return i[e]}};e.Map.helpers.define=function(n){var s=n.prototype.define;n.defaultGenerators={};for(var i in s){var r=s[i].type;"string"==typeof r&&"object"==typeof t.types[r]&&(delete s[i].type,e.extend(s[i],t.types[r])),"value"in s[i]&&("function"==typeof s[i].value?n.defaultGenerators[i]=s[i].value:n.defaults[i]=s[i].value),"function"==typeof s[i].Value&&function(e){n.defaultGenerators[i]=function(){return new e}}(s[i].Value)}};var s=e.Map.prototype._setupDefaults;e.Map.prototype._setupDefaults=function(e){var t=s.call(this),n={},i=this.constructor,r=this._get;this._get=function(e){var s=-1!==e.indexOf(".")?e.substr(0,e.indexOf(".")):e;return s in t&&!(s in n)&&(this.attr(s,t[s]),n[s]=!0),r.apply(this,arguments)};for(var a in i.defaultGenerators)e&&a in e||(t[a]=i.defaultGenerators[a].call(this));return this._get=r,t};var i=e.Map.prototype,r=i.__set;i.__set=function(t,s,i,a,o){var u=function(n){return!1!==(o&&o.call(d,n))&&e.trigger(d,"error",[t,n],!0),!1},d=this,l=n("set",t,this.define),c=n("get",t,this.define);if(l){e.batch.start();var p=!1,f=l.call(this,s,function(e){c?d[t](e):r.call(d,t,e,i,a,u),p=!0},u,c?this[t].computeInstance.lastSetValue.get():i);return c?(void 0!==f&&!p&&l.length>=1&&this[t](f),void e.batch.stop()):void 0===f&&!p&&l.length>=1?void e.batch.stop():(p||r.call(d,t,0===l.length&&void 0===f?s:f,i,a,u),e.batch.stop(),this)}return r.call(d,t,s,i,a,u),this},t.types={date:function(e){var t=typeof e;return"string"===t?(e=Date.parse(e),isNaN(e)?null:new Date(e)):"number"===t?new Date(e):e},number:function(e){return null==e?e:+e},boolean:function(e){return!("false"===e||"0"===e||!e)},htmlbool:function(e){return"string"==typeof e||!!e},"*":function(e){return e},string:function(e){return null==e?e:""+e},compute:{set:function(e,t,n,s){return e.isComputed?e:s&&s.isComputed?(s(e),s):e},get:function(e){return e&&e.isComputed?e():e}}};var a=i.__type;i.__type=function(s,i){var r=n("type",i,this.define),o=n("Type",i,this.define),u=s;return"string"==typeof r&&(r=t.types[r]),r||o?(r&&(u=r.call(this,u,i)),!o||u instanceof o||(u=new o(u)),u):(e.isPlainObject(u)&&u.define&&(u=new(u=e.Map.extend(u))),a.call(this,u,i))};var o=i._remove;i._remove=function(t,s){var i,r=n("remove",t,this.define);return r?(e.batch.start(),!1===(i=r.call(this,s))?void e.batch.stop():(i=o.call(this,t,s),e.batch.stop(),i)):o.call(this,t,s)};var u=i._setupComputes;i._setupComputes=function(t){u.apply(this,arguments);for(var n in this.define){var s=this.define[n].get;s&&(this[n]=e.compute.async(t[n],s,this),this._computedBindings[n]={count:0})}};var d=e.Map.helpers._serialize;e.Map.helpers._serialize=function(e,t,n){return l(e,t,n)};var l=function(e,t,s){var i="*"!==t&&n("serialize",t,e.define);return void 0===i?d.apply(this,arguments):!1!==i?"function"==typeof i?i.call(e,s,t):d.apply(this,arguments):void 0},c=i.serialize;return i.serialize=function(e){var t=c.apply(this,arguments);if(e)return t;var n;for(var s in this.define)s in t||this.define&&this.define[s]&&this.define[s].serialize&&void 0!==(n=l(this,s,this.attr(s)))&&(t[s]=n);return t},e.define}),define("passbolt-mad/lib/can/utilString",["can/util/util"],function(e){var t=/\=\=/,n=/([A-Z]+)([A-Z][a-z])/g,s=/([a-z\d])([A-Z])/g,i=/([a-z\d])([A-Z])/g,r=/\{([^\}]+)\}/g,a=/"/g,o=/'/g,u=/-+(.)?/g,d=/[a-z][A-Z]/g,l=function(e,t,n){var s=e[t];return void 0===s&&!0===n&&(s=e[t]={}),s},c=function(e){return/^f|^o/.test(typeof e)},p=function(e){return""+(null===e||void 0===e||isNaN(e)&&""+e=="NaN"?"":e)};return e.extend(e,{esc:function(e){return p(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(a,"&#34;").replace(o,"&#39;")},getObject:function(t,n,s,i){var r,a,o,u,d=t?t.split("."):[],p=d.length,f=0;if(n=e.isArray(n)?n:[n||window],u=n.length,!p)return n[0];for(f;f<u;f++){for(r=n[f],o=void 0,a=0;a<p&&c(r);a++)r=l(o=r,d[a]);if(void 0!==o&&void 0!==r)break}if(!1===s&&void 0!==r&&delete o[d[a-1]],!0===s&&void 0===r)for(r=n[0],a=0;a<p&&c(r);a++)r=l(r,d[a],!0);if(!0===s&&void 0!==i){for(r=n[0],o=void 0,a=0;a<p&&c(r);a++)o=r,r=l(r,d[a],!0);o[d[a-1]]=i}return r},capitalize:function(e,t){return e.charAt(0).toUpperCase()+e.slice(1)},camelize:function(e){return p(e).replace(u,function(e,t){return t?t.toUpperCase():""})},hyphenate:function(e){return p(e).replace(d,function(e,t){return e.charAt(0)+"-"+e.charAt(1).toLowerCase()})},underscore:function(e){return e.replace(t,"/").replace(n,"$1_$2").replace(s,"$1_$2").replace(i,"_").toLowerCase()},sub:function(t,n,s){var i=[];return t=t||"",i.push(t.replace(r,function(t,r){var a=e.getObject(r,n,!0!==s&&void 0);return void 0===a||null===a?(i=null,""):c(a)&&i?(i.push(a),""):""+a})),null===i?i:i.length<=1?i[0]:i},replacer:r,undHash:/_|-/}),e}),define("can/construct/super/super",["can/util/util","can/construct/construct"],function(e,t){var n=e.isFunction,s=/xyz/.test(function(){return this.xyz})?/\b_super\b/:/.*/,i=["get","set"],r=function(e,t,n){return function(){var s,i=this._super;return this._super=e[t],s=n.apply(this,arguments),this._super=i,s}};return e.Construct._defineProperty=function(t,s,a,o){var u=Object.getOwnPropertyDescriptor(s,a);u&&e.each(i,function(e){n(u[e])&&n(o[e])?o[e]=r(u,e,o[e]):n(o[e])||(o[e]=u[e])}),Object.defineProperty(t,a,o)},e.Construct._overwrite=function(e,t,i,a){e[i]=n(a)&&n(t[i])&&s.test(a)?r(t,i,a):a},e}),define("passbolt-mad/util/string/uuid",["module","@loader","require"],function(e,t,n){t.get("@@global-helpers").prepareGlobal({require:n,name:e.id,deps:[]});var s=t.global.define,n=t.global.require;return t.global.define=void 0,t.global.module=void 0,t.global.exports=void 0,t.__exec({source:'_uuidlet=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)},uuid=function(){return _uuidlet()+_uuidlet()+"-"+_uuidlet()+"-"+_uuidlet()+"-"+_uuidlet()+"-"+_uuidlet()+_uuidlet()+_uuidlet()};',address:e.uri}),t.global.require=n,t.global.define=s,t.get("@@global-helpers").retrieveGlobal(e.id,void 0)}),define("passbolt-mad/util/util",["exports","can/can","passbolt-mad/lib/can/utilString","can/construct/super/super","passbolt-mad/util/string/uuid"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(e){e&&e.__esModule}(t);var n="undefined"!=typeof window?window:global,s={};n.mad=s,s.global=s,s.config={rootElement:$("body")},s._controls={},s.getControl=function(e,t){if(void 0==t)for(t in s._controls[e])break;return s._controls[e][t]},s.referenceControl=function(e){var t=e.getId();void 0==s._controls[t]&&(s._controls[t]={}),s._controls[t][e.constructor.fullName]=e},s.unreferenceControl=function(e){delete s._controls[e.getId()][e.constructor.fullName]},s.setGlobal=function(e,t){n[e]=t},e.default=s}),define("passbolt-mad/error/exception",["passbolt-mad/util/util"],function(e){"use strict";var t=function(e){return e&&e.__esModule?e:{default:e}}(e);t.default.error=t.default.error||{},t.default.error.WRONG_PARAMETER="Wrong parameter [%0]",t.default.error.MISSING_OPTION="The option [%0] should be defined",t.default.error.ELEMENT_NOT_FOUND="The element [%0] could not be found",t.default.error.MISSING_CONFIG="The config [%0] has to be defined",(t.default.Exception=function(){}).get=function(e){var t=Array.prototype.slice.call(arguments,1),n=e.replace(/%(\d+)/g,function(e,n){return t[n]||e});return new Error(n)}}),define("passbolt-mad/error/error_handler",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=mad.error.ErrorHandler=can.Construct.extend("mad.error.ErrorHandler",{_log:function(e,t,n,s){e.toUpperCase()},handleException:function(e){throw mad.error.ErrorHandler._log("exception",e.name,e.message,e.stack||null),e},handleError:function(e,t,n,s){mad.error.ErrorHandler._log(e,t,n||"",s||null)}},{});e.default=t}),define("passbolt-mad/helper/component",["exports","passbolt-mad/util/util"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(t);n.default.helper=n.default.helper||{};var s=n.default.helper.Component=can.Construct.extend("mad.helper.Component",{create:function(e,t,s,i){var r=null,a="",o=(i=i||{},{});void 0!==s.defaults.attributes&&(o=s.defaults.attributes);var u=$.extend({},o,i.attributes);if(0==e.length)throw n.default.Exception.get(n.default.error.WRONG_PARAMETER,"refElement");a="<"+(i.tag||s.defaults.tag)+' id="'+(i.id||"")+'"';for(var d in u)a+=" "+d+'="'+u[d]+'"';return a+="/>",r=n.default.helper.Html.create(e,t,a),new s(r,i)}},{});e.default=s}),define("passbolt-mad/helper/control",["exports","passbolt-mad/util/util"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(t);n.default.helper=n.default.helper||{};var s=n.default.helper.Control=can.Control.extend("mad.helper.Control",{getViewPath:function(e,t){var s="",i=e.fullName.split("."),r=i.shift();switch(r){case"mad":s+="mad/view/template/";break;case n.default.Config.read("app.namespace"):s+=n.default.Config.read("app.namespace")+"/view/template/";break;default:s+=n.default.Config.read("app.namespace")+"/view/template/"+r+"/"}var a=can.underscore(i.pop());return i.length&&(s+=i.join("/")+"/"),s+=a+".ejs"}},{});e.default=s}),define("passbolt-mad/helper/html",["passbolt-mad/util/util"],function(e){"use strict";var t=function(e){return e&&e.__esModule?e:{default:e}}(e);t.default.helper=t.default.helper||{},t.default.helper.Html=can.Construct.extend("mad.helper.Html",{position:function(e,t){void 0!==t.coordinates?e.css({position:"absolute",left:t.coordinates.x+"px",top:t.coordinates.y+"px"}):void 0!==t.reference&&e.position({my:t.reference.my,at:t.reference.at,of:t.reference.of})},create:function(e,n,s){var i=$(s);if(!(e instanceof jQuery))throw t.default.Exception.get(t.default.error.WRONG_PARAMETER,"refElement");if(0==e.length)throw t.default.Exception.get(t.default.error.WRONG_PARAMETER,"refElement");switch(n){case"inside_replace":e.empty(),i=i.prependTo(e);break;case"replace_with":e.replaceWith(i);break;case"first":i=i.prependTo(e);break;case"last":i=i.appendTo(e);break;case"before":i=i.insertBefore(e);break;case"after":i=i.insertAfter(e);break;default:throw t.default.Exception.get(t.default.error.WRONG_PARAMETER,"position")}return i}},{})}),define("passbolt-mad/config/config",["exports","passbolt-mad/util/util"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(t);n.default.config=n.default.config||{};var s=n.default.Config=can.Construct.extend("mad.Config",{loadFile:function(e){var t=this;$.ajax({url:e,async:!1,dataType:"json",success:function(e){t.load(e)}})},load:function(e){$.extend(!0,n.default.config,e)},read:function(e){return can.getObject(e,n.default.config)},write:function(e,t){can.getObject(e,n.default.config,!0,t)},flush:function(){for(var e in n.default.config)delete n.default.config[e]}},{});e.default=s}),define("passbolt-mad/util/array/array",["exports","passbolt-mad/util/util"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(t);n.default.array=n.default.array||{},n.default.array.intersect=function(e,t){return e.filter(function(e){return t.indexOf(e)>-1})},e.default=n.default.array}),define("passbolt-mad/util/map/map",["exports","passbolt-mad/util/util"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=mad.Map=can.Construct.extend("mad.Map",{mapObject:function(e,t){return console.warn("Please call the function mapObject directly on the map object."),t.mapObject(e)},mapObjects:function(e,t){return console.warn("Please call the function mapObject directly on the map object."),t.mapObjects(e)}},{map:{},init:function(e){this.map=e},_getObjFieldPointer:function(e,t){for(var n=e,s=t.split("."),i=0;i<s.length;i++){if(void 0===n[s[i]])return null;n=n[s[i]]}return n},getModelTargetFieldsNames:function(){var e=[];for(var t in this.map)"string"==typeof this.map[t]&&e.push(this.map[t]);return e},mapObject:function(e){var n={};for(var s in this.map){var i=s.split("."),r=n,a=0;for(var o in i){var u=i[o];if(a==i.length-1)if("object"==t(this.map[s])){var d=this.map[s].func,l=this.map[s].key;null!=(c=this._getObjFieldPointer(e,l))&&(r[u]=d(c,this,e,n))}else{var c=this._getObjFieldPointer(e,this.map[s]);null!=c&&(r[u]=c)}else void 0===r[u]&&(r[u]=[]),r=r[u];a++}}return n},mapObjects:function(e){var t=this,n=[];return can.each(e,function(s,i){n[i]=t.mapObject(e[i])}),n}});e.default=n}),function(e,t){var n;"function"==typeof define?define("xregexp",t):"object"==typeof exports?(n=t(),("object"==typeof module?module.exports=n:exports).XRegExp=n):e.XRegExp=t()}(this,function(){var e=function(e){"use strict";function t(e,t,n,s,i){var r;if(e[y]={captureNames:t},i)return e;if(e.__proto__)e.__proto__=b.prototype;else for(r in b.prototype)e[r]=b.prototype[r];return e[y].source=n,e[y].flags=s?s.split("").sort().join(""):s,e}function n(e){return C.replace.call(e,/([\s\S])(?=[\s\S]*\1)/g,"")}function s(s,i){if(!b.isRegExp(s))throw new TypeError("Type RegExp expected");var o=s[y]||{},u=r(s),d="",l="",c=null,p=null;return(i=i||{}).removeG&&(l+="g"),i.removeY&&(l+="y"),l&&(u=C.replace.call(u,new RegExp("["+l+"]+","g"),"")),i.addG&&(d+="g"),i.addY&&(d+="y"),d&&(u=n(u+d)),i.isInternalOnly||(o.source!==e&&(c=o.source),null!=o.flags&&(p=d?n(o.flags+d):o.flags)),s=t(new RegExp(s.source,u),a(s)?o.captureNames.slice(0):null,c,p,i.isInternalOnly)}function i(e){return parseInt(e,16)}function r(e){return P?e.flags:C.exec.call(/\/([a-z]*)$/i,RegExp.prototype.toString.call(e))[1]}function a(e){return!(!e[y]||!e[y].captureNames)}function o(e){return parseInt(e,10).toString(16)}function u(e,t){var n,s=e.length;for(n=0;n<s;++n)if(e[n]===t)return n;return-1}function d(e,t){return R.call(e)==="[object "+t+"]"}function l(e,t,n){return C.test.call(n.indexOf("x")>-1?/^(?:\s+|#.*|\(\?#[^)]*\))*(?:[?*+]|{\d+(?:,\d*)?})/:/^(?:\(\?#[^)]*\))*(?:[?*+]|{\d+(?:,\d*)?})/,e.slice(t))}function c(e){for(;e.length<4;)e="0"+e;return e}function p(e,t){var s;if(n(t)!==t)throw new SyntaxError("Invalid duplicate regex flag "+t);for(e=C.replace.call(e,/^\(\?([\w$]+)\)/,function(e,s){if(C.test.call(/[gy]/,s))throw new SyntaxError("Cannot use flag g or y in mode modifier "+e);return t=n(t+s),""}),s=0;s<t.length;++s)if(!N[t.charAt(s)])throw new SyntaxError("Unknown regex flag "+t.charAt(s));return{pattern:e,flags:t}}function f(e){var t={};return d(e,"String")?(b.forEach(e,/[^\s,]+/,function(e){t[e]=!0}),t):e}function m(e){if(!/^[\w$]$/.test(e))throw new Error("Flag must be a single character A-Za-z0-9_$");N[e]=!0}function h(e,t,n,s,i){for(var r,a,o=E.length,u=e.charAt(n),d=null;o--;)if(!((a=E[o]).leadChar&&a.leadChar!==u||a.scope!==s&&"all"!==a.scope||a.flag&&-1===t.indexOf(a.flag))&&(r=b.exec(e,a.regex,n,"sticky"))){d={matchLength:r[0].length,output:a.handler.call(i,r,s,t),reparse:a.reparse};break}return d}function _(e){x.astral=e}function v(e){RegExp.prototype.exec=(e?S:C).exec,RegExp.prototype.test=(e?S:C).test,String.prototype.match=(e?S:C).match,String.prototype.replace=(e?S:C).replace,String.prototype.split=(e?S:C).split,x.natives=e}function g(e){if(null==e)throw new TypeError("Cannot convert null or undefined to object");return e}var b,w,y="xregexp",x={astral:!1,natives:!1},C={exec:RegExp.prototype.exec,test:RegExp.prototype.test,match:String.prototype.match,replace:String.prototype.replace,split:String.prototype.split},S={},j={},k={},E=[],T={default:/\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9]\d*|x[\dA-Fa-f]{2}|u(?:[\dA-Fa-f]{4}|{[\dA-Fa-f]+})|c[A-Za-z]|[\s\S])|\(\?[:=!]|[?*+]\?|{\d+(?:,\d*)?}\??|[\s\S]/,class:/\\(?:[0-3][0-7]{0,2}|[4-7][0-7]?|x[\dA-Fa-f]{2}|u(?:[\dA-Fa-f]{4}|{[\dA-Fa-f]+})|c[A-Za-z]|[\s\S])|[\s\S]/},I=/\$(?:{([\w$]+)}|(\d\d?|[\s\S]))/g,M=C.exec.call(/()??/,"")[1]===e,A=function(){var e=!0;try{new RegExp("","u")}catch(t){e=!1}return e}(),O=function(){var e=!0;try{new RegExp("","y")}catch(t){e=!1}return e}(),P=/a/.flags!==e,N={g:!0,i:!0,m:!0,u:A,y:O},R={}.toString;return b=function(n,i){var r,a,o,u,d,l={hasNamedCapture:!1,captureNames:[]},c="default",f="",m=0;if(b.isRegExp(n)){if(i!==e)throw new TypeError("Cannot supply flags when copying a RegExp");return s(n)}if(n=n===e?"":String(n),i=i===e?"":String(i),b.isInstalled("astral")&&-1===i.indexOf("A")&&(i+="A"),k[n]||(k[n]={}),!k[n][i]){for(u=(r=p(n,i)).pattern,d=r.flags;m<u.length;){do{(r=h(u,d,m,c,l))&&r.reparse&&(u=u.slice(0,m)+r.output+u.slice(m+r.matchLength))}while(r&&r.reparse);r?(f+=r.output,m+=r.matchLength||1):(f+=a=b.exec(u,T[c],m,"sticky")[0],m+=a.length,"["===a&&"default"===c?c="class":"]"===a&&"class"===c&&(c="default"))}k[n][i]={pattern:C.replace.call(f,/\(\?:\)(?=\(\?:\))|^\(\?:\)|\(\?:\)$/g,""),flags:C.replace.call(d,/[^gimuy]+/g,""),captures:l.hasNamedCapture?l.captureNames:null}}return o=k[n][i],t(new RegExp(o.pattern,o.flags),o.captures,n,i)},b.prototype=new RegExp,b.version="3.0.0",b.addToken=function(e,t,n){var i,r=(n=n||{}).optionalFlags;if(n.flag&&m(n.flag),r)for(r=C.split.call(r,""),i=0;i<r.length;++i)m(r[i]);E.push({regex:s(e,{addG:!0,addY:O,isInternalOnly:!0}),handler:t,scope:n.scope||"default",flag:n.flag,reparse:n.reparse,leadChar:n.leadChar}),b.cache.flush("patterns")},b.cache=function(e,t){return j[e]||(j[e]={}),j[e][t]||(j[e][t]=b(e,t))},b.cache.flush=function(e){"patterns"===e?k={}:j={}},b.escape=function(e){return C.replace.call(g(e),/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},b.exec=function(e,t,n,i){var r,a,o="g",u=!1;return(u=O&&!!(i||t.sticky&&!1!==i))&&(o+="y"),t[y]=t[y]||{},a=t[y][o]||(t[y][o]=s(t,{addG:!0,addY:u,removeY:!1===i,isInternalOnly:!0})),a.lastIndex=n=n||0,r=S.exec.call(a,e),i&&r&&r.index!==n&&(r=null),t.global&&(t.lastIndex=r?a.lastIndex:0),r},b.forEach=function(e,t,n){for(var s,i=0,r=-1;s=b.exec(e,t,i);)n(s,++r,e,t),i=s.index+(s[0].length||1)},b.globalize=function(e){return s(e,{addG:!0})},b.install=function(e){e=f(e),!x.astral&&e.astral&&_(!0),!x.natives&&e.natives&&v(!0)},b.isInstalled=function(e){return!!x[e]},b.isRegExp=function(e){return"[object RegExp]"===R.call(e)},b.match=function(e,t,n){var i,r,a=t.global&&"one"!==n||"all"===n,o=(a?"g":"")+(t.sticky?"y":"")||"noGY";return t[y]=t[y]||{},r=t[y][o]||(t[y][o]=s(t,{addG:!!a,addY:!!t.sticky,removeG:"one"===n,isInternalOnly:!0})),i=C.match.call(g(e),r),t.global&&(t.lastIndex="one"===n&&i?i.index+i[0].length:0),a?i||[]:i&&i[0]},b.matchChain=function(e,t){return function e(n,s){var i,r=t[s].regex?t[s]:{regex:t[s]},a=[];for(i=0;i<n.length;++i)b.forEach(n[i],r.regex,function(e){if(r.backref){if(!(e.hasOwnProperty(r.backref)||+r.backref<e.length))throw new ReferenceError("Backreference to undefined group: "+r.backref);a.push(e[r.backref]||"")}else a.push(e[0])});return s!==t.length-1&&a.length?e(a,s+1):a}([e],0)},b.replace=function(e,t,n,i){var r,a=b.isRegExp(t),o=t.global&&"one"!==i||"all"===i,u=(o?"g":"")+(t.sticky?"y":"")||"noGY",d=t;return a?(t[y]=t[y]||{},d=t[y][u]||(t[y][u]=s(t,{addG:!!o,addY:!!t.sticky,removeG:"one"===i,isInternalOnly:!0}))):o&&(d=new RegExp(b.escape(String(t)),"g")),r=S.replace.call(g(e),d,n),a&&t.global&&(t.lastIndex=0),r},b.replaceEach=function(e,t){var n,s;for(n=0;n<t.length;++n)s=t[n],e=b.replace(e,s[0],s[1],s[2]);return e},b.split=function(e,t,n){return S.split.call(g(e),t,n)},b.test=function(e,t,n,s){return!!b.exec(e,t,n,s)},b.uninstall=function(e){e=f(e),x.astral&&e.astral&&_(!1),x.natives&&e.natives&&v(!1)},b.union=function(e,t){var n,s,i,r,a=/(\()(?!\?)|\\([1-9]\d*)|\\[\s\S]|\[(?:[^\\\]]|\\[\s\S])*]/g,o=[],u=0;if(!d(e,"Array")||!e.length)throw new TypeError("Must provide a nonempty array of patterns to merge");for(r=0;r<e.length;++r)i=e[r],b.isRegExp(i)?(n=u,s=i[y]&&i[y].captureNames||[],o.push(C.replace.call(b(i.source).source,a,function(e,t,i){var r=s[u-n];if(t){if(++u,r)return"(?<"+r+">"}else if(i)return"\\"+(+i+n);return e}))):o.push(b.escape(i));return b(o.join("|"),t)},S.exec=function(t){var n,i,r,a=this.lastIndex,o=C.exec.apply(this,arguments);if(o){if(!M&&o.length>1&&u(o,"")>-1&&(i=s(this,{removeG:!0,isInternalOnly:!0}),C.replace.call(String(t).slice(o.index),i,function(){var t,n=arguments.length;for(t=1;t<n-2;++t)arguments[t]===e&&(o[t]=e)})),this[y]&&this[y].captureNames)for(r=1;r<o.length;++r)(n=this[y].captureNames[r-1])&&(o[n]=o[r]);this.global&&!o[0].length&&this.lastIndex>o.index&&(this.lastIndex=o.index)}return this.global||(this.lastIndex=a),o},S.test=function(e){return!!S.exec.call(this,e)},S.match=function(e){var t;if(b.isRegExp(e)){if(e.global)return t=C.match.apply(this,arguments),e.lastIndex=0,t}else e=new RegExp(e);return S.exec.call(e,g(this))},S.replace=function(t,n){var s,i,r,a=b.isRegExp(t);return a?(t[y]&&(i=t[y].captureNames),s=t.lastIndex):t+="",r=d(n,"Function")?C.replace.call(String(this),t,function(){var s,r=arguments;if(i)for(r[0]=new String(r[0]),s=0;s<i.length;++s)i[s]&&(r[0][i[s]]=r[s+1]);return a&&t.global&&(t.lastIndex=r[r.length-2]+r[0].length),n.apply(e,r)}):C.replace.call(null==this?this:String(this),t,function(){var e=arguments;return C.replace.call(String(n),I,function(t,n,s){var r;if(n){if((r=+n)<=e.length-3)return e[r]||"";if((r=i?u(i,n):-1)<0)throw new SyntaxError("Backreference to undefined group "+t);return e[r+1]||""}if("$"===s)return"$";if("&"===s||0==+s)return e[0];if("`"===s)return e[e.length-1].slice(0,e[e.length-2]);if("'"===s)return e[e.length-1].slice(e[e.length-2]+e[0].length);if(s=+s,!isNaN(s)){if(s>e.length-3)throw new SyntaxError("Backreference to undefined group "+t);return e[s]||""}throw new SyntaxError("Invalid token "+t)})}),a&&(t.global?t.lastIndex=0:t.lastIndex=s),r},S.split=function(t,n){if(!b.isRegExp(t))return C.split.apply(this,arguments);var s,i=String(this),r=[],a=t.lastIndex,o=0;return n=(n===e?-1:n)>>>0,b.forEach(i,t,function(e){e.index+e[0].length>o&&(r.push(i.slice(o,e.index)),e.length>1&&e.index<i.length&&Array.prototype.push.apply(r,e.slice(1)),s=e[0].length,o=e.index+s)}),o===i.length?C.test.call(t,"")&&!s||r.push(""):r.push(i.slice(o)),t.lastIndex=a,r.length>n?r.slice(0,n):r},(w=b.addToken)(/\\([ABCE-RTUVXYZaeg-mopqyz]|c(?![A-Za-z])|u(?![\dA-Fa-f]{4}|{[\dA-Fa-f]+})|x(?![\dA-Fa-f]{2}))/,function(e,t){if("B"===e[1]&&"default"===t)return e[0];throw new SyntaxError("Invalid escape "+e[0])},{scope:"all",leadChar:"\\"}),w(/\\u{([\dA-Fa-f]+)}/,function(e,t,n){var s=i(e[1]);if(s>1114111)throw new SyntaxError("Invalid Unicode code point "+e[0]);if(s<=65535)return"\\u"+c(o(s));if(A&&n.indexOf("u")>-1)return e[0];throw new SyntaxError("Cannot use Unicode code point above \\u{FFFF} without flag u")},{scope:"all",leadChar:"\\"}),w(/\[(\^?)]/,function(e){return e[1]?"[\\s\\S]":"\\b\\B"},{leadChar:"["}),w(/\(\?#[^)]*\)/,function(e,t,n){return l(e.input,e.index+e[0].length,n)?"":"(?:)"},{leadChar:"("}),w(/\s+|#.*/,function(e,t,n){return l(e.input,e.index+e[0].length,n)?"":"(?:)"},{flag:"x"}),w(/\./,function(){return"[\\s\\S]"},{flag:"s",leadChar:"."}),w(/\\k<([\w$]+)>/,function(e){var t=isNaN(e[1])?u(this.captureNames,e[1])+1:+e[1],n=e.index+e[0].length;if(!t||t>this.captureNames.length)throw new SyntaxError("Backreference to undefined group "+e[0]);return"\\"+t+(n===e.input.length||isNaN(e.input.charAt(n))?"":"(?:)")},{leadChar:"\\"}),w(/\\(\d+)/,function(e,t){if(!("default"===t&&/^[1-9]/.test(e[1])&&+e[1]<=this.captureNames.length)&&"0"!==e[1])throw new SyntaxError("Cannot use octal escape or backreference to undefined group "+e[0]);return e[0]},{scope:"all",leadChar:"\\"}),w(/\(\?P?<([\w$]+)>/,function(e){if(!isNaN(e[1]))throw new SyntaxError("Cannot use integer as capture name "+e[0]);if("length"===e[1]||"__proto__"===e[1])throw new SyntaxError("Cannot use reserved word as capture name "+e[0]);if(u(this.captureNames,e[1])>-1)throw new SyntaxError("Cannot use same name for multiple groups "+e[0]);return this.captureNames.push(e[1]),this.hasNamedCapture=!0,"("},{leadChar:"("}),w(/\((?!\?)/,function(e,t,n){return n.indexOf("n")>-1?"(?:":(this.captureNames.push(null),"(")},{optionalFlags:"n",leadChar:"("}),b}();return function(e){"use strict";function t(e){var t=/^\^/,n=/\$$/;return t.test(e)&&n.test(e.replace(/\\[\s\S]/g,""))?e.replace(t,"").replace(n,""):e}function n(t){return e.isRegExp(t)?t[s]&&t[s].captureNames?t:e(t.source):e(t)}var s="xregexp",i=/(\()(?!\?)|\\([1-9]\d*)|\\[\s\S]|\[(?:[^\\\]]|\\[\s\S])*]/g,r=e.union([/\({{([\w$]+)}}\)|{{([\w$]+)}}/,i],"g");e.build=function(a,o,u){var d,l,c,p,f=/^\(\?([\w$]+)\)/.exec(a),m={},h=0,_=0,v=[0];f&&(u=u||"",f[1].replace(/./g,function(e){u+=u.indexOf(e)>-1?"":e}));for(p in o)o.hasOwnProperty(p)&&(c=n(o[p]),m[p]={pattern:t(c.source),names:c[s].captureNames||[]});return a=n(a),l=a[s].captureNames||[],a=a.source.replace(r,function(e,t,n,s,r){var a,o,u=t||n;if(u){if(!m.hasOwnProperty(u))throw new ReferenceError("Undefined property "+e);return t?(a=l[_],v[++_]=++h,o="(?<"+(a||u)+">"):o="(?:",d=h,o+m[u].pattern.replace(i,function(e,t,n){if(t){if(a=m[u].names[h-d],++h,a)return"(?<"+a+">"}else if(n)return"\\"+(+n+d);return e})+")"}if(s){if(a=l[_],v[++_]=++h,a)return"(?<"+a+">"}else if(r)return"\\"+v[+r];return e}),e(a,u)}}(e),function(e){"use strict";function t(e,t,n,s){return{name:e,value:t,start:n,end:s}}e.matchRecursive=function(n,s,i,r,a){r=r||"",a=a||{};var o,u,d,l,c,p=r.indexOf("g")>-1,f=r.indexOf("y")>-1,m=r.replace(/y/g,""),h=a.escapeChar,_=a.valueNames,v=[],g=0,b=0,w=0,y=0;if(s=e(s,m),i=e(i,m),h){if(h.length>1)throw new Error("Cannot use more than one escape character");h=e.escape(h),c=new RegExp("(?:"+h+"[\\S\\s]|(?:(?!"+e.union([s,i]).source+")[^"+h+"])+)+",r.replace(/[^imu]+/g,""))}for(;;){if(h&&(w+=(e.exec(n,c,w,"sticky")||[""])[0].length),d=e.exec(n,s,w),l=e.exec(n,i,w),d&&l&&(d.index<=l.index?l=null:d=null),d||l)w=(b=(d||l).index)+(d||l)[0].length;else if(!g)break;if(f&&!g&&b>y)break;if(d)g||(o=b,u=w),++g;else{if(!l||!g)throw new Error("Unbalanced delimiter found in string");if(!--g&&(_?(_[0]&&o>y&&v.push(t(_[0],n.slice(y,o),y,o)),_[1]&&v.push(t(_[1],n.slice(o,u),o,u)),_[2]&&v.push(t(_[2],n.slice(u,b),u,b)),_[3]&&v.push(t(_[3],n.slice(b,w),b,w))):v.push(n.slice(u,b)),y=w,!p))break}b===w&&++w}return p&&!f&&_&&_[0]&&n.length>y&&v.push(t(_[0],n.slice(y),y,n.length)),v}}(e),function(e){"use strict";function t(e){return e.replace(/[- _]+/g,"").toLowerCase()}function n(e){for(;e.length<4;)e="0"+e;return e}function s(e){return parseInt(e,16)}function i(e){return parseInt(e,10).toString(16)}function r(e){var t=/^\\[xu](.+)/.exec(e);return t?s(t[1]):e.charCodeAt("\\"===e.charAt(0)?1:0)}function a(t){var s,a="",o=-1;return e.forEach(t,/(\\x..|\\u....|\\?[\s\S])(?:-(\\x..|\\u....|\\?[\s\S]))?/,function(e){(s=r(e[1]))>o+1&&(a+="\\u"+n(i(o+1)),s>o+2&&(a+="-\\u"+n(i(s-1)))),o=r(e[2]||e[1])}),o<65535&&(a+="\\u"+n(i(o+1)),o<65534&&(a+="-\\uFFFF")),a}function o(e){return l[e]["b!"]||(l[e]["b!"]=a(l[e].bmp))}function u(e,t){var n=l[e],s="";return n.bmp&&!n.isBmpLast&&(s="["+n.bmp+"]"+(n.astral?"|":"")),n.astral&&(s+=n.astral),n.isBmpLast&&n.bmp&&(s+=(n.astral?"|":"")+"["+n.bmp+"]"),t?"(?:(?!"+s+")(?:[\ud800-\udbff][\udc00-\udfff]|[\0-￿]))":"(?:"+s+")"}function d(e,t){var n=t?"a!":"a=";return l[e][n]||(l[e][n]=u(e,t))}var l={};e.addToken(/\\([pP])(?:{(\^?)([^}]*)}|([A-Za-z]))/,function(e,n,s){var i="P"===e[1]||!!e[2],r=s.indexOf("A")>-1,a=t(e[4]||e[3]),u=l[a];if("P"===e[1]&&e[2])throw new SyntaxError("Invalid double negation "+e[0]);if(!l.hasOwnProperty(a))throw new SyntaxError("Unknown Unicode token "+e[0]);if(u.inverseOf){if(a=t(u.inverseOf),!l.hasOwnProperty(a))throw new ReferenceError("Unicode token missing data "+e[0]+" -> "+u.inverseOf);u=l[a],i=!i}if(!u.bmp&&!r)throw new SyntaxError("Astral mode required for Unicode token "+e[0]);if(r){if("class"===n)throw new SyntaxError("Astral mode does not support Unicode tokens within character classes");return d(a,i)}return"class"===n?i?o(a):u.bmp:(i?"[^":"[")+u.bmp+"]"},{scope:"all",optionalFlags:"A",leadChar:"\\"}),e.addUnicodeData=function(n){var s,i;for(i=0;i<n.length;++i){if(!(s=n[i]).name)throw new Error("Unicode token requires name");if(!(s.inverseOf||s.bmp||s.astral))throw new Error("Unicode token has no character data "+s.name);l[t(s.name)]=s,s.alias&&(l[t(s.alias)]=s)}e.cache.flush("patterns")}}(e),function(e){"use strict";if(!e.addUnicodeData)throw new ReferenceError("Unicode Base must be loaded before Unicode Blocks");e.addUnicodeData([{name:"InAegean_Numbers",astral:"\ud800[\udd00-\udd3f]"},{name:"InAhom",astral:"\ud805[\udf00-\udf3f]"},{name:"InAlchemical_Symbols",astral:"\ud83d[\udf00-\udf7f]"},{name:"InAlphabetic_Presentation_Forms",bmp:"ﬀ-ﭏ"},{name:"InAnatolian_Hieroglyphs",astral:"\ud811[\udc00-\ude7f]"},{name:"InAncient_Greek_Musical_Notation",astral:"\ud834[\ude00-\ude4f]"},{name:"InAncient_Greek_Numbers",astral:"\ud800[\udd40-\udd8f]"},{name:"InAncient_Symbols",astral:"\ud800[\udd90-\uddcf]"},{name:"InArabic",bmp:"؀-ۿ"},{name:"InArabic_Extended_A",bmp:"ࢠ-ࣿ"},{name:"InArabic_Mathematical_Alphabetic_Symbols",astral:"\ud83b[\ude00-\udeff]"},{name:"InArabic_Presentation_Forms_A",bmp:"ﭐ-﷿"},{name:"InArabic_Presentation_Forms_B",bmp:"ﹰ-\ufeff"},{name:"InArabic_Supplement",bmp:"ݐ-ݿ"},{name:"InArmenian",bmp:"԰-֏"},{name:"InArrows",bmp:"←-⇿"},{name:"InAvestan",astral:"\ud802[\udf00-\udf3f]"},{name:"InBalinese",bmp:"ᬀ-᭿"},{name:"InBamum",bmp:"ꚠ-꛿"},{name:"InBamum_Supplement",astral:"\ud81a[\udc00-\ude3f]"},{name:"InBasic_Latin",bmp:"\0-"},{name:"InBassa_Vah",astral:"\ud81a[\uded0-\udeff]"},{name:"InBatak",bmp:"ᯀ-᯿"},{name:"InBengali",bmp:"ঀ-৿"},{name:"InBlock_Elements",bmp:"▀-▟"},{name:"InBopomofo",bmp:"㄀-ㄯ"},{name:"InBopomofo_Extended",bmp:"ㆠ-ㆿ"},{name:"InBox_Drawing",bmp:"─-╿"},{name:"InBrahmi",astral:"\ud804[\udc00-\udc7f]"},{name:"InBraille_Patterns",bmp:"⠀-⣿"},{name:"InBuginese",bmp:"ᨀ-᨟"},{name:"InBuhid",bmp:"ᝀ-᝟"},{name:"InByzantine_Musical_Symbols",astral:"\ud834[\udc00-\udcff]"},{name:"InCJK_Compatibility",bmp:"㌀-㏿"},{name:"InCJK_Compatibility_Forms",bmp:"︰-﹏"},{name:"InCJK_Compatibility_Ideographs",bmp:"豈-﫿"},{name:"InCJK_Compatibility_Ideographs_Supplement",astral:"\ud87e[\udc00-\ude1f]"},{name:"InCJK_Radicals_Supplement",bmp:"⺀-⻿"},{name:"InCJK_Strokes",bmp:"㇀-㇯"},{name:"InCJK_Symbols_and_Punctuation",bmp:"　-〿"},{name:"InCJK_Unified_Ideographs",bmp:"一-鿿"},{name:"InCJK_Unified_Ideographs_Extension_A",bmp:"㐀-䶿"},{name:"InCJK_Unified_Ideographs_Extension_B",astral:"[\ud840-\ud868][\udc00-\udfff]|\ud869[\udc00-\udedf]"},{name:"InCJK_Unified_Ideographs_Extension_C",astral:"\ud86d[\udc00-\udf3f]|[\ud86a-\ud86c][\udc00-\udfff]|\ud869[\udf00-\udfff]"},{name:"InCJK_Unified_Ideographs_Extension_D",astral:"\ud86d[\udf40-\udfff]|\ud86e[\udc00-\udc1f]"},{name:"InCJK_Unified_Ideographs_Extension_E",astral:"[\ud86f-\ud872][\udc00-\udfff]|\ud873[\udc00-\udeaf]|\ud86e[\udc20-\udfff]"},{name:"InCarian",astral:"\ud800[\udea0-\udedf]"},{name:"InCaucasian_Albanian",astral:"\ud801[\udd30-\udd6f]"},{name:"InChakma",astral:"\ud804[\udd00-\udd4f]"},{name:"InCham",bmp:"ꨀ-꩟"},{name:"InCherokee",bmp:"Ꭰ-᏿"},{name:"InCherokee_Supplement",bmp:"ꭰ-ꮿ"},{name:"InCombining_Diacritical_Marks",bmp:"̀-ͯ"},{name:"InCombining_Diacritical_Marks_Extended",bmp:"᪰-᫿"},{name:"InCombining_Diacritical_Marks_Supplement",bmp:"᷀-᷿"},{name:"InCombining_Diacritical_Marks_for_Symbols",bmp:"⃐-⃿"},{name:"InCombining_Half_Marks",bmp:"︠-︯"},{name:"InCommon_Indic_Number_Forms",bmp:"꠰-꠿"},{name:"InControl_Pictures",bmp:"␀-␿"},{name:"InCoptic",bmp:"Ⲁ-⳿"},{name:"InCoptic_Epact_Numbers",astral:"\ud800[\udee0-\udeff]"},{name:"InCounting_Rod_Numerals",astral:"\ud834[\udf60-\udf7f]"},{name:"InCuneiform",astral:"\ud808[\udc00-\udfff]"},{name:"InCuneiform_Numbers_and_Punctuation",astral:"\ud809[\udc00-\udc7f]"},{name:"InCurrency_Symbols",bmp:"₠-⃏"},{name:"InCypriot_Syllabary",astral:"\ud802[\udc00-\udc3f]"},{name:"InCyrillic",bmp:"Ѐ-ӿ"},{name:"InCyrillic_Extended_A",bmp:"ⷠ-ⷿ"},{name:"InCyrillic_Extended_B",bmp:"Ꙁ-ꚟ"},{name:"InCyrillic_Supplement",bmp:"Ԁ-ԯ"},{name:"InDeseret",astral:"\ud801[\udc00-\udc4f]"},{name:"InDevanagari",bmp:"ऀ-ॿ"},{name:"InDevanagari_Extended",bmp:"꣠-ꣿ"},{name:"InDingbats",bmp:"✀-➿"},{name:"InDomino_Tiles",astral:"\ud83c[\udc30-\udc9f]"},{name:"InDuployan",astral:"\ud82f[\udc00-\udc9f]"},{name:"InEarly_Dynastic_Cuneiform",astral:"\ud809[\udc80-\udd4f]"},{name:"InEgyptian_Hieroglyphs",astral:"\ud80c[\udc00-\udfff]|\ud80d[\udc00-\udc2f]"},{name:"InElbasan",astral:"\ud801[\udd00-\udd2f]"},{name:"InEmoticons",astral:"\ud83d[\ude00-\ude4f]"},{name:"InEnclosed_Alphanumeric_Supplement",astral:"\ud83c[\udd00-\uddff]"},{name:"InEnclosed_Alphanumerics",bmp:"①-⓿"},{name:"InEnclosed_CJK_Letters_and_Months",bmp:"㈀-㋿"},{name:"InEnclosed_Ideographic_Supplement",astral:"\ud83c[\ude00-\udeff]"},{name:"InEthiopic",bmp:"ሀ-፿"},{name:"InEthiopic_Extended",bmp:"ⶀ-⷟"},{name:"InEthiopic_Extended_A",bmp:"꬀-꬯"},{name:"InEthiopic_Supplement",bmp:"ᎀ-᎟"},{name:"InGeneral_Punctuation",bmp:" -⁯"},{name:"InGeometric_Shapes",bmp:"■-◿"},{name:"InGeometric_Shapes_Extended",astral:"\ud83d[\udf80-\udfff]"},{name:"InGeorgian",bmp:"Ⴀ-ჿ"},{name:"InGeorgian_Supplement",bmp:"ⴀ-⴯"},{name:"InGlagolitic",bmp:"Ⰰ-ⱟ"},{name:"InGothic",astral:"\ud800[\udf30-\udf4f]"},{name:"InGrantha",astral:"\ud804[\udf00-\udf7f]"},{name:"InGreek_Extended",bmp:"ἀ-῿"},{name:"InGreek_and_Coptic",bmp:"Ͱ-Ͽ"},{name:"InGujarati",bmp:"઀-૿"},{name:"InGurmukhi",bmp:"਀-੿"},{name:"InHalfwidth_and_Fullwidth_Forms",bmp:"＀-￯"},{name:"InHangul_Compatibility_Jamo",bmp:"㄰-㆏"},{name:"InHangul_Jamo",bmp:"ᄀ-ᇿ"},{name:"InHangul_Jamo_Extended_A",bmp:"ꥠ-꥿"},{name:"InHangul_Jamo_Extended_B",bmp:"ힰ-퟿"},{name:"InHangul_Syllables",bmp:"가-힯"},{name:"InHanunoo",bmp:"ᜠ-᜿"},{name:"InHatran",astral:"\ud802[\udce0-\udcff]"},{name:"InHebrew",bmp:"֐-׿"},{name:"InHigh_Private_Use_Surrogates",bmp:"\udb80-\udbff"},{name:"InHigh_Surrogates",bmp:"\ud800-\udb7f"},{name:"InHiragana",bmp:"぀-ゟ"},{name:"InIPA_Extensions",bmp:"ɐ-ʯ"},{name:"InIdeographic_Description_Characters",bmp:"⿰-⿿"},{name:"InImperial_Aramaic",astral:"\ud802[\udc40-\udc5f]"},{name:"InInscriptional_Pahlavi",astral:"\ud802[\udf60-\udf7f]"},{name:"InInscriptional_Parthian",astral:"\ud802[\udf40-\udf5f]"},{name:"InJavanese",bmp:"ꦀ-꧟"},{name:"InKaithi",astral:"\ud804[\udc80-\udccf]"},{name:"InKana_Supplement",astral:"\ud82c[\udc00-\udcff]"},{name:"InKanbun",bmp:"㆐-㆟"},{name:"InKangxi_Radicals",bmp:"⼀-⿟"},{name:"InKannada",bmp:"ಀ-೿"},{name:"InKatakana",bmp:"゠-ヿ"},{name:"InKatakana_Phonetic_Extensions",bmp:"ㇰ-ㇿ"},{name:"InKayah_Li",bmp:"꤀-꤯"},{name:"InKharoshthi",astral:"\ud802[\ude00-\ude5f]"},{name:"InKhmer",bmp:"ក-៿"},{name:"InKhmer_Symbols",bmp:"᧠-᧿"},{name:"InKhojki",astral:"\ud804[\ude00-\ude4f]"},{name:"InKhudawadi",astral:"\ud804[\udeb0-\udeff]"},{name:"InLao",bmp:"຀-໿"},{name:"InLatin_Extended_Additional",bmp:"Ḁ-ỿ"},{name:"InLatin_Extended_A",bmp:"Ā-ſ"},{name:"InLatin_Extended_B",bmp:"ƀ-ɏ"},{name:"InLatin_Extended_C",bmp:"Ⱡ-Ɀ"},{name:"InLatin_Extended_D",bmp:"꜠-ꟿ"},{name:"InLatin_Extended_E",bmp:"ꬰ-꭯"},{name:"InLatin_1_Supplement",bmp:"-ÿ"},{name:"InLepcha",bmp:"ᰀ-ᱏ"},{name:"InLetterlike_Symbols",bmp:"℀-⅏"},{name:"InLimbu",bmp:"ᤀ-᥏"},{name:"InLinear_A",astral:"\ud801[\ude00-\udf7f]"},{name:"InLinear_B_Ideograms",astral:"\ud800[\udc80-\udcff]"},{name:"InLinear_B_Syllabary",astral:"\ud800[\udc00-\udc7f]"},{name:"InLisu",bmp:"ꓐ-꓿"},{name:"InLow_Surrogates",bmp:"\udc00-\udfff"},{name:"InLycian",astral:"\ud800[\ude80-\ude9f]"},{name:"InLydian",astral:"\ud802[\udd20-\udd3f]"},{name:"InMahajani",astral:"\ud804[\udd50-\udd7f]"},{name:"InMahjong_Tiles",astral:"\ud83c[\udc00-\udc2f]"},{name:"InMalayalam",bmp:"ഀ-ൿ"},{name:"InMandaic",bmp:"ࡀ-࡟"},{name:"InManichaean",astral:"\ud802[\udec0-\udeff]"},{name:"InMathematical_Alphanumeric_Symbols",astral:"\ud835[\udc00-\udfff]"},{name:"InMathematical_Operators",bmp:"∀-⋿"},{name:"InMeetei_Mayek",bmp:"ꯀ-꯿"},{name:"InMeetei_Mayek_Extensions",bmp:"ꫠ-꫿"},{name:"InMende_Kikakui",astral:"\ud83a[\udc00-\udcdf]"},{name:"InMeroitic_Cursive",astral:"\ud802[\udda0-\uddff]"},{name:"InMeroitic_Hieroglyphs",astral:"\ud802[\udd80-\udd9f]"},{name:"InMiao",astral:"\ud81b[\udf00-\udf9f]"},{name:"InMiscellaneous_Mathematical_Symbols_A",bmp:"⟀-⟯"},{name:"InMiscellaneous_Mathematical_Symbols_B",bmp:"⦀-⧿"},{name:"InMiscellaneous_Symbols",bmp:"☀-⛿"},{name:"InMiscellaneous_Symbols_and_Arrows",bmp:"⬀-⯿"},{name:"InMiscellaneous_Symbols_and_Pictographs",astral:"\ud83d[\udc00-\uddff]|\ud83c[\udf00-\udfff]"},{name:"InMiscellaneous_Technical",bmp:"⌀-⏿"},{name:"InModi",astral:"\ud805[\ude00-\ude5f]"},{name:"InModifier_Tone_Letters",bmp:"꜀-ꜟ"},{name:"InMongolian",bmp:"᠀-᢯"},{name:"InMro",astral:"\ud81a[\ude40-\ude6f]"},{name:"InMultani",astral:"\ud804[\ude80-\udeaf]"},{name:"InMusical_Symbols",astral:"\ud834[\udd00-\uddff]"},{name:"InMyanmar",bmp:"က-႟"},{name:"InMyanmar_Extended_A",bmp:"ꩠ-ꩿ"},{name:"InMyanmar_Extended_B",bmp:"ꧠ-꧿"},{name:"InNKo",bmp:"߀-߿"},{name:"InNabataean",astral:"\ud802[\udc80-\udcaf]"},{name:"InNew_Tai_Lue",bmp:"ᦀ-᧟"},{name:"InNumber_Forms",bmp:"⅐-↏"},{name:"InOgham",bmp:" -᚟"},{name:"InOl_Chiki",bmp:"᱐-᱿"},{name:"InOld_Hungarian",astral:"\ud803[\udc80-\udcff]"},{name:"InOld_Italic",astral:"\ud800[\udf00-\udf2f]"},{name:"InOld_North_Arabian",astral:"\ud802[\ude80-\ude9f]"},{name:"InOld_Permic",astral:"\ud800[\udf50-\udf7f]"},{name:"InOld_Persian",astral:"\ud800[\udfa0-\udfdf]"},{name:"InOld_South_Arabian",astral:"\ud802[\ude60-\ude7f]"},{name:"InOld_Turkic",astral:"\ud803[\udc00-\udc4f]"},{name:"InOptical_Character_Recognition",bmp:"⑀-⑟"},{name:"InOriya",bmp:"଀-୿"},{name:"InOrnamental_Dingbats",astral:"\ud83d[\ude50-\ude7f]"},{name:"InOsmanya",astral:"\ud801[\udc80-\udcaf]"},{name:"InPahawh_Hmong",astral:"\ud81a[\udf00-\udf8f]"},{name:"InPalmyrene",astral:"\ud802[\udc60-\udc7f]"},{name:"InPau_Cin_Hau",astral:"\ud806[\udec0-\udeff]"},{name:"InPhags_pa",bmp:"ꡀ-꡿"},{name:"InPhaistos_Disc",astral:"\ud800[\uddd0-\uddff]"},{name:"InPhoenician",astral:"\ud802[\udd00-\udd1f]"},{name:"InPhonetic_Extensions",bmp:"ᴀ-ᵿ"},{name:"InPhonetic_Extensions_Supplement",bmp:"ᶀ-ᶿ"},{name:"InPlaying_Cards",astral:"\ud83c[\udca0-\udcff]"},{name:"InPrivate_Use_Area",bmp:"-"},{name:"InPsalter_Pahlavi",astral:"\ud802[\udf80-\udfaf]"},{name:"InRejang",bmp:"ꤰ-꥟"},{name:"InRumi_Numeral_Symbols",astral:"\ud803[\ude60-\ude7f]"},{name:"InRunic",bmp:"ᚠ-᛿"},{name:"InSamaritan",bmp:"ࠀ-࠿"},{name:"InSaurashtra",bmp:"ꢀ-꣟"},{name:"InSharada",astral:"\ud804[\udd80-\udddf]"},{name:"InShavian",astral:"\ud801[\udc50-\udc7f]"},{name:"InShorthand_Format_Controls",astral:"\ud82f[\udca0-\udcaf]"},{name:"InSiddham",astral:"\ud805[\udd80-\uddff]"},{name:"InSinhala",bmp:"඀-෿"},{name:"InSinhala_Archaic_Numbers",astral:"\ud804[\udde0-\uddff]"},{name:"InSmall_Form_Variants",bmp:"﹐-﹯"},{name:"InSora_Sompeng",astral:"\ud804[\udcd0-\udcff]"},{name:"InSpacing_Modifier_Letters",bmp:"ʰ-˿"},{name:"InSpecials",bmp:"￰-￿"},{name:"InSundanese",bmp:"ᮀ-ᮿ"},{name:"InSundanese_Supplement",bmp:"᳀-᳏"},{name:"InSuperscripts_and_Subscripts",bmp:"⁰-₟"},{name:"InSupplemental_Arrows_A",bmp:"⟰-⟿"},{name:"InSupplemental_Arrows_B",bmp:"⤀-⥿"},{name:"InSupplemental_Arrows_C",astral:"\ud83e[\udc00-\udcff]"},{name:"InSupplemental_Mathematical_Operators",bmp:"⨀-⫿"},{name:"InSupplemental_Punctuation",bmp:"⸀-⹿"},{name:"InSupplemental_Symbols_and_Pictographs",astral:"\ud83e[\udd00-\uddff]"},{name:"InSupplementary_Private_Use_Area_A",astral:"[\udb80-\udbbf][\udc00-\udfff]"},{name:"InSupplementary_Private_Use_Area_B",astral:"[\udbc0-\udbff][\udc00-\udfff]"},{name:"InSutton_SignWriting",astral:"\ud836[\udc00-\udeaf]"},{name:"InSyloti_Nagri",bmp:"ꠀ-꠯"},{name:"InSyriac",bmp:"܀-ݏ"},{name:"InTagalog",bmp:"ᜀ-ᜟ"},{name:"InTagbanwa",bmp:"ᝠ-᝿"},{name:"InTags",astral:"\udb40[\udc00-\udc7f]"},{name:"InTai_Le",bmp:"ᥐ-᥿"},{name:"InTai_Tham",bmp:"ᨠ-᪯"},{name:"InTai_Viet",bmp:"ꪀ-꫟"},{name:"InTai_Xuan_Jing_Symbols",astral:"\ud834[\udf00-\udf5f]"},{name:"InTakri",astral:"\ud805[\ude80-\udecf]"},{name:"InTamil",bmp:"஀-௿"},{name:"InTelugu",bmp:"ఀ-౿"},{name:"InThaana",bmp:"ހ-޿"},{name:"InThai",bmp:"฀-๿"},{name:"InTibetan",bmp:"ༀ-࿿"},{name:"InTifinagh",bmp:"ⴰ-⵿"},{name:"InTirhuta",astral:"\ud805[\udc80-\udcdf]"},{name:"InTransport_and_Map_Symbols",astral:"\ud83d[\ude80-\udeff]"},{name:"InUgaritic",astral:"\ud800[\udf80-\udf9f]"},{name:"InUnified_Canadian_Aboriginal_Syllabics",bmp:"᐀-ᙿ"},{name:"InUnified_Canadian_Aboriginal_Syllabics_Extended",bmp:"ᢰ-᣿"},{name:"InVai",bmp:"ꔀ-꘿"},{name:"InVariation_Selectors",bmp:"︀-️"},{name:"InVariation_Selectors_Supplement",astral:"\udb40[\udd00-\uddef]"},{name:"InVedic_Extensions",bmp:"᳐-᳿"},{name:"InVertical_Forms",bmp:"︐-︟"},{name:"InWarang_Citi",astral:"\ud806[\udca0-\udcff]"},{name:"InYi_Radicals",bmp:"꒐-꓏"},{name:"InYi_Syllables",bmp:"ꀀ-꒏"},{name:"InYijing_Hexagram_Symbols",bmp:"䷀-䷿"}])}(e),function(e){"use strict";if(!e.addUnicodeData)throw new ReferenceError("Unicode Base must be loaded before Unicode Categories");e.addUnicodeData([{name:"C",alias:"Other",isBmpLast:!0,bmp:"\0--­͸͹΀-΃΋΍΢԰՗՘ՠֈ֋֌֐׈-׏׫-ׯ׵-؅؜؝۝܎܏݋݌޲-޿߻-߿࠮࠯࠿࡜࡝࡟-࢟ࢵ-࣢঄঍঎঑঒঩঱঳-঵঺঻৅৆৉৊৏-৖৘-৛৞৤৥ৼ-਀਄਋-਎਑਒਩਱਴਷਺਻਽੃-੆੉੊੎-੐੒-੘੝੟-੥੶-઀઄઎઒઩઱઴઺઻૆૊૎૏૑-૟૤૥૲-૸ૺ-଀଄଍଎଑଒଩଱଴଺଻୅୆୉୊୎-୕୘-୛୞୤୥୸-஁஄஋-஍஑஖-஘஛஝஠-஢஥-஧஫-஭஺-஽௃-௅௉௎௏௑-௖௘-௥௻-௿ఄ఍఑఩఺-఼౅౉౎-౔౗౛-౟౤౥౰-౷ಀ಄಍಑಩಴಺಻೅೉೎-೔೗-ೝ೟೤೥೰ೳ-ഀഄ഍഑഻഼൅൉൏-ൖ൘-൞൤൥൶-൸඀ඁ඄඗-඙඲඼඾඿෇-෉෋-෎෕෗෠-෥෰෱෵-฀฻-฾๜-຀຃຅ຆຉ຋ຌຎ-ຓຘຠ຤຦ຨຩຬ຺຾຿໅໇໎໏໚໛໠-໿཈཭-཰྘྽࿍࿛-࿿჆჈-჌჎჏቉቎቏቗቙቞቟኉኎኏኱኶኷኿዁዆዇዗጑጖጗፛፜፽-፿᎚-᎟᏶᏷᏾᏿᚝-᚟᛹-᛿ᜍ᜕-ᜟ᜷-᜿᝔-᝟᝭᝱᝴-᝿៞៟៪-៯៺-៿᠎᠏᠚-᠟ᡸ-᡿᢫-᢯᣶-᣿᤟᤬-᤯᤼-᤿᥁-᥃᥮᥯᥵-᥿᦬-᦯᧊-᧏᧛-᧝᨜᨝᩟᩽᩾᪊-᪏᪚-᪟᪮᪯ᪿ-᫿ᭌ-᭏᭽-᭿᯴-᯻᰸-᰺᱊-᱌ᲀ-Ჿ᳈-᳏᳷ᳺ-᳿᷶-᷻἖἗἞἟὆὇὎὏὘὚὜὞὾὿᾵῅῔῕῜῰῱῵῿​-‏‪-‮⁠-⁯⁲⁳₏₝-₟₿-⃏⃱-⃿↌-↏⏻-⏿␧-␿⑋-⑟⭴⭵⮖⮗⮺-⮼⯉⯒-⯫⯰-⯿Ⱟⱟ⳴-⳸⴦⴨-⴬⴮⴯⵨-⵮⵱-⵾⶗-⶟⶧⶯⶷⶿⷇⷏⷗⷟⹃-⹿⺚⻴-⻿⿖-⿯⿼-⿿぀゗゘㄀-㄄ㄮ-㄰㆏ㆻ-ㆿ㇤-㇯㈟㋿䶶-䶿鿖-鿿꒍-꒏꓇-꓏꘬-꘿꛸-꛿ꞮꞯꞸ-ꟶ꠬-꠯꠺-꠿꡸-꡿ꣅ-꣍꣚-꣟ꣾꣿ꥔-꥞꥽-꥿꧎꧚-꧝꧿꨷-꨿꩎꩏꩚꩛꫃-꫚꫷-꬀꬇꬈꬏꬐꬗-꬟꬧꬯ꭦ-꭯꯮꯯꯺-꯿힤-힯퟇-퟊퟼-﩮﩯﫚-﫿﬇-﬒﬘-﬜﬷﬽﬿﭂﭅﯂-﯒﵀-﵏﶐﶑﷈-﷯﷾﷿︚-︟﹓﹧﹬-﹯﹵﻽-＀﾿-￁￈￉￐￑￘￙￝-￟￧￯-￻￾￿",astral:"\ud834[\udcf6-\udcff�\udd28�-\udd7a�-\uddff�-\udeff�-\udf5f�-\udfff]|\ud836[\ude8c-\ude9a�\udeb0-\udfff]|\ud83c[\udc2c-\udc2f�-\udc9f�\udcb0�\udcd0�-\udcff�-\udd0f�\udd6c-\udd6f�-\udde5�-\ude0f�-\ude3f�-\ude4f�-\udeff]|\ud81a[\ude39-\ude3f�\ude6a-\ude6d�-\udecf�\udeef�-\udeff�-\udf4f�\udf62�-\udf7c�-\udfff]|\ud809[\udc6f�-\udc7f�-\udfff]|\ud81b[\udc00-\udeff�-\udf4f�-\udf8e�-\udfff]|\ud86e[\udc1e�]|\ud83d[\udd7a�\uded1-\udedf�-\udeef�-\udeff�-\udf7f�-\udfff]|\ud801[\udc9e�\udcaa-\udcff�-\udd2f�-\udd6e�-\uddff�-\udf3f�-\udf5f�-\udfff]|\ud800[\udc0c�\udc3b�\udc4e�\udc5e-\udc7f�-\udcff�-\udd06�-\udd36�-\udd8f�-\udd9f�-\uddcf�-\ude7f�-\ude9f�-\udedf�-\udeff�-\udf2f�-\udf4f�-\udf7f�\udfc4-\udfc7�-\udfff]|\ud869[\uded7-\udeff]|\ud83b[\udc00-\uddff�\ude20�\ude25�\ude28�\ude38�\ude3c-\ude41�-\ude46�\ude4a�\ude50�\ude55�\ude58�\ude5c�\ude60�\ude65�\ude6b�\ude78�\ude7f�\ude9c-\udea0�\udeaa�-\udeef�-\udfff]|\ud87e[\ude1e-\udfff]|\udb40[\udc00-\udcff�-\udfff]|\ud804[\udc4e-\udc51�-\udc7e�\udcc2-\udccf�-\udcef�-\udcff�\udd44-\udd4f�-\udd7f�\uddcf�\uddf5-\uddff�\ude3e-\ude7f�\ude89�\ude9e�-\udeaf�-\udeef�-\udeff�\udf0d�\udf11�\udf29�\udf34�\udf3b�\udf46�\udf4a�\udf4f�-\udf56�-\udf5c�\udf65�-\udf6f�-\udfff]|\ud83a[\udcc5�\udcd7-\udfff]|\ud80d[\udc2f-\udfff]|\ud86d[\udf35-\udf3f]|[\ud807\ud80a\ud80b\ud80e-\ud810\ud812-\ud819\ud81c-\ud82b\ud82d\ud82e\ud830-\ud833\ud837-\ud839\ud83f\ud874-\ud87d\ud87f-\udb3f\udb41-\udbff][\udc00-\udfff]|\ud806[\udc00-\udc9f�-\udcfe�-\udebf�-\udfff]|\ud803[\udc49-\udc7f�-\udcbf�-\udcf9�-\ude5f�-\udfff]|\ud835[\udc55�\udca0�\udca3�\udca7�\udcad�\udcbc�\udd06�\udd0c�\udd1d�\udd3f�\udd47-\udd49�\udea6�\udfcc�]|\ud805[\udc00-\udc7f�-\udccf�-\udd7f�\uddb7�-\uddff�-\ude4f�-\ude7f�-\udebf�-\udeff�-\udf1c�-\udf2f�-\udfff]|\ud802[\udc06�\udc09�\udc39-\udc3b�\udc3e�\udc9f-\udca6�-\udcdf�\udcf6-\udcfa�-\udd1e�-\udd3e�-\udd7f�-\uddbb�\uddd1�\ude07-\ude0b�\ude18�-\ude37�-\ude3e�-\ude4f�-\ude5f�-\udebf�-\udeea�-\udeff�-\udf38�\udf57�-\udf77�-\udf98�-\udfa8�-\udfff]|\ud808[\udf9a-\udfff]|\ud82f[\udc6b-\udc6f�-\udc7f�-\udc8f�\udc9b�-\udfff]|\ud82c[\udc02-\udfff]|\ud811[\ude47-\udfff]|\ud83e[\udc0c-\udc0f�-\udc4f�-\udc5f�-\udc8f�-\udd0f�-\udd7f�-\uddbf�-\udfff]|\ud873[\udea2-\udfff]"},{name:"Cc",alias:"Control",bmp:"\0--"},{name:"Cf",alias:"Format",bmp:"­؀-؅؜۝܏᠎​-‏‪-‮⁠-⁤⁦-⁯\ufeff￹-￻",astral:"\udb40[\udc01�-\udc7f]|\ud82f[\udca0-\udca3]|\ud834[\udd73-\udd7a]|𑂽"},{name:"Cn",alias:"Unassigned",bmp:"͸͹΀-΃΋΍΢԰՗՘ՠֈ֋֌֐׈-׏׫-ׯ׵-׿؝܎݋݌޲-޿߻-߿࠮࠯࠿࡜࡝࡟-࢟ࢵ-࣢঄঍঎঑঒঩঱঳-঵঺঻৅৆৉৊৏-৖৘-৛৞৤৥ৼ-਀਄਋-਎਑਒਩਱਴਷਺਻਽੃-੆੉੊੎-੐੒-੘੝੟-੥੶-઀઄઎઒઩઱઴઺઻૆૊૎૏૑-૟૤૥૲-૸ૺ-଀଄଍଎଑଒଩଱଴଺଻୅୆୉୊୎-୕୘-୛୞୤୥୸-஁஄஋-஍஑஖-஘஛஝஠-஢஥-஧஫-஭஺-஽௃-௅௉௎௏௑-௖௘-௥௻-௿ఄ఍఑఩఺-఼౅౉౎-౔౗౛-౟౤౥౰-౷ಀ಄಍಑಩಴಺಻೅೉೎-೔೗-ೝ೟೤೥೰ೳ-ഀഄ഍഑഻഼൅൉൏-ൖ൘-൞൤൥൶-൸඀ඁ඄඗-඙඲඼඾඿෇-෉෋-෎෕෗෠-෥෰෱෵-฀฻-฾๜-຀຃຅ຆຉ຋ຌຎ-ຓຘຠ຤຦ຨຩຬ຺຾຿໅໇໎໏໚໛໠-໿཈཭-཰྘྽࿍࿛-࿿჆჈-჌჎჏቉቎቏቗቙቞቟኉኎኏኱኶኷኿዁዆዇዗጑጖጗፛፜፽-፿᎚-᎟᏶᏷᏾᏿᚝-᚟᛹-᛿ᜍ᜕-ᜟ᜷-᜿᝔-᝟᝭᝱᝴-᝿៞៟៪-៯៺-៿᠏᠚-᠟ᡸ-᡿᢫-᢯᣶-᣿᤟᤬-᤯᤼-᤿᥁-᥃᥮᥯᥵-᥿᦬-᦯᧊-᧏᧛-᧝᨜᨝᩟᩽᩾᪊-᪏᪚-᪟᪮᪯ᪿ-᫿ᭌ-᭏᭽-᭿᯴-᯻᰸-᰺᱊-᱌ᲀ-Ჿ᳈-᳏᳷ᳺ-᳿᷶-᷻἖἗἞἟὆὇὎὏὘὚὜὞὾὿᾵῅῔῕῜῰῱῵῿⁥⁲⁳₏₝-₟₿-⃏⃱-⃿↌-↏⏻-⏿␧-␿⑋-⑟⭴⭵⮖⮗⮺-⮼⯉⯒-⯫⯰-⯿Ⱟⱟ⳴-⳸⴦⴨-⴬⴮⴯⵨-⵮⵱-⵾⶗-⶟⶧⶯⶷⶿⷇⷏⷗⷟⹃-⹿⺚⻴-⻿⿖-⿯⿼-⿿぀゗゘㄀-㄄ㄮ-㄰㆏ㆻ-ㆿ㇤-㇯㈟㋿䶶-䶿鿖-鿿꒍-꒏꓇-꓏꘬-꘿꛸-꛿ꞮꞯꞸ-ꟶ꠬-꠯꠺-꠿꡸-꡿ꣅ-꣍꣚-꣟ꣾꣿ꥔-꥞꥽-꥿꧎꧚-꧝꧿꨷-꨿꩎꩏꩚꩛꫃-꫚꫷-꬀꬇꬈꬏꬐꬗-꬟꬧꬯ꭦ-꭯꯮꯯꯺-꯿힤-힯퟇-퟊퟼-퟿﩮﩯﫚-﫿﬇-﬒﬘-﬜﬷﬽﬿﭂﭅﯂-﯒﵀-﵏﶐﶑﷈-﷯﷾﷿︚-︟﹓﹧﹬-﹯﹵﻽﻾＀﾿-￁￈￉￐￑￘￙￝-￟￧￯-￸￾￿",astral:"\udb40[\udc00�-\udc1f�-\udcff�-\udfff]|\ud834[\udcf6-\udcff�\udd28�-\uddff�-\udeff�-\udf5f�-\udfff]|\ud83c[\udc2c-\udc2f�-\udc9f�\udcb0�\udcd0�-\udcff�-\udd0f�\udd6c-\udd6f�-\udde5�-\ude0f�-\ude3f�-\ude4f�-\udeff]|\ud81a[\ude39-\ude3f�\ude6a-\ude6d�-\udecf�\udeef�-\udeff�-\udf4f�\udf62�-\udf7c�-\udfff]|\ud809[\udc6f�-\udc7f�-\udfff]|\ud81b[\udc00-\udeff�-\udf4f�-\udf8e�-\udfff]|\ud86e[\udc1e�]|\ud83d[\udd7a�\uded1-\udedf�-\udeef�-\udeff�-\udf7f�-\udfff]|\ud801[\udc9e�\udcaa-\udcff�-\udd2f�-\udd6e�-\uddff�-\udf3f�-\udf5f�-\udfff]|\ud800[\udc0c�\udc3b�\udc4e�\udc5e-\udc7f�-\udcff�-\udd06�-\udd36�-\udd8f�-\udd9f�-\uddcf�-\ude7f�-\ude9f�-\udedf�-\udeff�-\udf2f�-\udf4f�-\udf7f�\udfc4-\udfc7�-\udfff]|\ud869[\uded7-\udeff]|\ud83b[\udc00-\uddff�\ude20�\ude25�\ude28�\ude38�\ude3c-\ude41�-\ude46�\ude4a�\ude50�\ude55�\ude58�\ude5c�\ude60�\ude65�\ude6b�\ude78�\ude7f�\ude9c-\udea0�\udeaa�-\udeef�-\udfff]|[\udbbf\udbff][\udffe�]|\ud87e[\ude1e-\udfff]|\ud82f[\udc6b-\udc6f�-\udc7f�-\udc8f�\udc9b�-\udfff]|\ud83a[\udcc5�\udcd7-\udfff]|\ud80d[\udc2f-\udfff]|\ud86d[\udf35-\udf3f]|[\ud807\ud80a\ud80b\ud80e-\ud810\ud812-\ud819\ud81c-\ud82b\ud82d\ud82e\ud830-\ud833\ud837-\ud839\ud83f\ud874-\ud87d\ud87f-\udb3f\udb41-\udb7f][\udc00-\udfff]|\ud806[\udc00-\udc9f�-\udcfe�-\udebf�-\udfff]|\ud803[\udc49-\udc7f�-\udcbf�-\udcf9�-\ude5f�-\udfff]|\ud835[\udc55�\udca0�\udca3�\udca7�\udcad�\udcbc�\udd06�\udd0c�\udd1d�\udd3f�\udd47-\udd49�\udea6�\udfcc�]|\ud836[\ude8c-\ude9a�\udeb0-\udfff]|\ud805[\udc00-\udc7f�-\udccf�-\udd7f�\uddb7�-\uddff�-\ude4f�-\ude7f�-\udebf�-\udeff�-\udf1c�-\udf2f�-\udfff]|\ud802[\udc06�\udc09�\udc39-\udc3b�\udc3e�\udc9f-\udca6�-\udcdf�\udcf6-\udcfa�-\udd1e�-\udd3e�-\udd7f�-\uddbb�\uddd1�\ude07-\ude0b�\ude18�-\ude37�-\ude3e�-\ude4f�-\ude5f�-\udebf�-\udeea�-\udeff�-\udf38�\udf57�-\udf77�-\udf98�-\udfa8�-\udfff]|\ud808[\udf9a-\udfff]|\ud804[\udc4e-\udc51�-\udc7e�-\udccf�-\udcef�-\udcff�\udd44-\udd4f�-\udd7f�\uddcf�\uddf5-\uddff�\ude3e-\ude7f�\ude89�\ude9e�-\udeaf�-\udeef�-\udeff�\udf0d�\udf11�\udf29�\udf34�\udf3b�\udf46�\udf4a�\udf4f�-\udf56�-\udf5c�\udf65�-\udf6f�-\udfff]|\ud82c[\udc02-\udfff]|\ud811[\ude47-\udfff]|\ud83e[\udc0c-\udc0f�-\udc4f�-\udc5f�-\udc8f�-\udd0f�-\udd7f�-\uddbf�-\udfff]|\ud873[\udea2-\udfff]"},{name:"Co",alias:"Private_Use",bmp:"-",astral:"[\udb80-\udbbe\udbc0-\udbfe][\udc00-\udfff]|[\udbbf\udbff][\udc00-\udffd]"},{name:"Cs",alias:"Surrogate",bmp:"\ud800-\udfff"},{name:"L",alias:"Letter",bmp:"A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠ-ࢴऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛱ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎↃↄⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〆〱-〵〻〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿕ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛥꜗ-ꜟꜢ-ꞈꞋ-ꞭꞰ-ꞷꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭥꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",astral:"\ud86e[\udc00-\udc1d�-\udfff]|\ud86d[\udc00-\udf34�-\udfff]|\ud869[\udc00-\uded6�-\udfff]|\ud803[\udc00-\udc48�-\udcb2�-\udcf2]|\ud83a[\udc00-\udcc4]|\ud801[\udc00-\udc9d�-\udd27�-\udd63�-\udf36�-\udf55�-\udf67]|\ud800[\udc00-\udc0b�-\udc26�-\udc3a�\udc3d�-\udc4d�-\udc5d�-\udcfa�-\ude9c�-\uded0�-\udf1f�-\udf40�-\udf49�-\udf75�-\udf9d�-\udfc3�-\udfcf]|\ud80d[\udc00-\udc2e]|\ud87e[\udc00-\ude1d]|\ud81b[\udf00-\udf44�\udf93-\udf9f]|[\ud80c\ud840-\ud868\ud86a-\ud86c\ud86f-\ud872][\udc00-\udfff]|\ud805[\udc80-\udcaf�\udcc5�\udd80-\uddae�-\udddb�-\ude2f�\ude80-\udeaa�-\udf19]|\ud81a[\udc00-\ude38�-\ude5e�-\udeed�-\udf2f�-\udf43�-\udf77�-\udf8f]|\ud809[\udc80-\udd43]|\ud802[\udc00-\udc05�\udc0a-\udc35�\udc38�\udc3f-\udc55�-\udc76�-\udc9e�-\udcf2�\udcf5�-\udd15�-\udd39�-\uddb7�\uddbf�\ude10-\ude13�-\ude17�-\ude33�-\ude7c�-\ude9c�-\udec7�-\udee4�-\udf35�-\udf55�-\udf72�-\udf91]|\ud835[\udc00-\udc54�-\udc9c�\udc9f�\udca5�\udca9-\udcac�-\udcb9�\udcbd-\udcc3�-\udd05�-\udd0a�-\udd14�-\udd1c�-\udd39�-\udd3e�-\udd44�\udd4a-\udd50�-\udea5�-\udec0�-\udeda�-\udefa�-\udf14�-\udf34�-\udf4e�-\udf6e�-\udf88�-\udfa8�-\udfc2�-\udfcb]|\ud804[\udc03-\udc37�-\udcaf�-\udce8�-\udd26�-\udd72�\udd83-\uddb2�-\uddc4�\udddc�-\ude11�-\ude2b�-\ude86�\ude8a-\ude8d�-\ude9d�-\udea8�-\udede�-\udf0c�\udf10�-\udf28�-\udf30�\udf33�-\udf39�\udf50�-\udf61]|\ud808[\udc00-\udf99]|\ud83b[\ude00-\ude03�-\ude1f�\ude22�\ude27�-\ude32�-\ude37�\ude3b�\ude47�\ude4b�-\ude4f�\ude52�\ude57�\ude5b�\ude5f�\ude62�\ude67-\ude6a�-\ude72�-\ude77�-\ude7c�\ude80-\ude89�-\ude9b�-\udea3�-\udea9�-\udebb]|\ud806[\udca0-\udcdf�\udec0-\udef8]|\ud811[\udc00-\ude46]|\ud82f[\udc00-\udc6a�-\udc7c�-\udc88�-\udc99]|\ud82c[\udc00�]|\ud873[\udc00-\udea1]"},{name:"Ll",alias:"Lowercase_Letter",bmp:"a-zµß-öø-ÿāăąćĉċčďđēĕėęěĝğġģĥħĩīĭįıĳĵķĸĺļľŀłńņňŉŋōŏőœŕŗřśŝşšţťŧũūŭůűųŵŷźżž-ƀƃƅƈƌƍƒƕƙ-ƛƞơƣƥƨƪƫƭưƴƶƹƺƽ-ƿǆǉǌǎǐǒǔǖǘǚǜǝǟǡǣǥǧǩǫǭǯǰǳǵǹǻǽǿȁȃȅȇȉȋȍȏȑȓȕȗșțȝȟȡȣȥȧȩȫȭȯȱȳ-ȹȼȿɀɂɇɉɋɍɏ-ʓʕ-ʯͱͳͷͻ-ͽΐά-ώϐϑϕ-ϗϙϛϝϟϡϣϥϧϩϫϭϯ-ϳϵϸϻϼа-џѡѣѥѧѩѫѭѯѱѳѵѷѹѻѽѿҁҋҍҏґғҕҗҙқҝҟҡңҥҧҩҫҭүұҳҵҷҹһҽҿӂӄӆӈӊӌӎӏӑӓӕӗәӛӝӟӡӣӥӧөӫӭӯӱӳӵӷӹӻӽӿԁԃԅԇԉԋԍԏԑԓԕԗԙԛԝԟԡԣԥԧԩԫԭԯա-ևᏸ-ᏽᴀ-ᴫᵫ-ᵷᵹ-ᶚḁḃḅḇḉḋḍḏḑḓḕḗḙḛḝḟḡḣḥḧḩḫḭḯḱḳḵḷḹḻḽḿṁṃṅṇṉṋṍṏṑṓṕṗṙṛṝṟṡṣṥṧṩṫṭṯṱṳṵṷṹṻṽṿẁẃẅẇẉẋẍẏẑẓẕ-ẝẟạảấầẩẫậắằẳẵặẹẻẽếềểễệỉịọỏốồổỗộớờởỡợụủứừửữựỳỵỷỹỻỽỿ-ἇἐ-ἕἠ-ἧἰ-ἷὀ-ὅὐ-ὗὠ-ὧὰ-ώᾀ-ᾇᾐ-ᾗᾠ-ᾧᾰ-ᾴᾶᾷιῂ-ῄῆῇῐ-ΐῖῗῠ-ῧῲ-ῴῶῷℊℎℏℓℯℴℹℼℽⅆ-ⅉⅎↄⰰ-ⱞⱡⱥⱦⱨⱪⱬⱱⱳⱴⱶ-ⱻⲁⲃⲅⲇⲉⲋⲍⲏⲑⲓⲕⲗⲙⲛⲝⲟⲡⲣⲥⲧⲩⲫⲭⲯⲱⲳⲵⲷⲹⲻⲽⲿⳁⳃⳅⳇⳉⳋⳍⳏⳑⳓⳕⳗⳙⳛⳝⳟⳡⳣⳤⳬⳮⳳⴀ-ⴥⴧⴭꙁꙃꙅꙇꙉꙋꙍꙏꙑꙓꙕꙗꙙꙛꙝꙟꙡꙣꙥꙧꙩꙫꙭꚁꚃꚅꚇꚉꚋꚍꚏꚑꚓꚕꚗꚙꚛꜣꜥꜧꜩꜫꜭꜯ-ꜱꜳꜵꜷꜹꜻꜽꜿꝁꝃꝅꝇꝉꝋꝍꝏꝑꝓꝕꝗꝙꝛꝝꝟꝡꝣꝥꝧꝩꝫꝭꝯꝱ-ꝸꝺꝼꝿꞁꞃꞅꞇꞌꞎꞑꞓ-ꞕꞗꞙꞛꞝꞟꞡꞣꞥꞧꞩꞵꞷꟺꬰ-ꭚꭠ-ꭥꭰ-ꮿﬀ-ﬆﬓ-ﬗａ-ｚ",astral:"\ud803[\udcc0-\udcf2]|\ud835[\udc1a-\udc33�-\udc54�-\udc67�-\udc9b�-\udcb9�\udcbd-\udcc3�-\udccf�-\udd03�-\udd37�-\udd6b�-\udd9f�-\uddd3�-\ude07�-\ude3b�-\ude6f�-\udea5�-\udeda�-\udee1�-\udf14�-\udf1b�-\udf4e�-\udf55�-\udf88�-\udf8f�-\udfc2�-\udfc9�]|\ud801[\udc28-\udc4f]|\ud806[\udcc0-\udcdf]"},{name:"Lm",alias:"Modifier_Letter",bmp:"ʰ-ˁˆ-ˑˠ-ˤˬˮʹͺՙـۥۦߴߵߺࠚࠤࠨॱๆໆჼៗᡃᪧᱸ-ᱽᴬ-ᵪᵸᶛ-ᶿⁱⁿₐ-ₜⱼⱽⵯⸯ々〱-〵〻ゝゞー-ヾꀕꓸ-ꓽꘌꙿꚜꚝꜗ-ꜟꝰꞈꟸꟹꧏꧦꩰꫝꫳꫴꭜ-ꭟｰﾞﾟ",astral:"\ud81a[\udf40-\udf43]|\ud81b[\udf93-\udf9f]"},{name:"Lo",alias:"Other_Letter",bmp:"ªºƻǀ-ǃʔא-תװ-ײؠ-ؿف-يٮٯٱ-ۓەۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪࠀ-ࠕࡀ-ࡘࢠ-ࢴऄ-हऽॐक़-ॡॲ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๅກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎა-ჺჽ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛱ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៜᠠ-ᡂᡄ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱷᳩ-ᳬᳮ-ᳱᳵᳶℵ-ℸⴰ-ⵧⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ〆〼ぁ-ゖゟァ-ヺヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿕ꀀ-ꀔꀖ-ꒌꓐ-ꓷꔀ-ꘋꘐ-ꘟꘪꘫꙮꚠ-ꛥꞏꟷꟻ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧠ-ꧤꧧ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩯꩱ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛꫜꫠ-ꫪꫲꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎יִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼｦ-ｯｱ-ﾝﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",astral:"\ud86e[\udc00-\udc1d�-\udfff]|\ud86d[\udc00-\udf34�-\udfff]|\ud869[\udc00-\uded6�-\udfff]|\ud83a[\udc00-\udcc4]|\ud803[\udc00-\udc48]|\ud800[\udc00-\udc0b�-\udc26�-\udc3a�\udc3d�-\udc4d�-\udc5d�-\udcfa�-\ude9c�-\uded0�-\udf1f�-\udf40�-\udf49�-\udf75�-\udf9d�-\udfc3�-\udfcf]|\ud80d[\udc00-\udc2e]|\ud87e[\udc00-\ude1d]|\ud81b[\udf00-\udf44�]|[\ud80c\ud840-\ud868\ud86a-\ud86c\ud86f-\ud872][\udc00-\udfff]|\ud805[\udc80-\udcaf�\udcc5�\udd80-\uddae�-\udddb�-\ude2f�\ude80-\udeaa�-\udf19]|\ud806[\udcff�-\udef8]|\ud809[\udc80-\udd43]|\ud802[\udc00-\udc05�\udc0a-\udc35�\udc38�\udc3f-\udc55�-\udc76�-\udc9e�-\udcf2�\udcf5�-\udd15�-\udd39�-\uddb7�\uddbf�\ude10-\ude13�-\ude17�-\ude33�-\ude7c�-\ude9c�-\udec7�-\udee4�-\udf35�-\udf55�-\udf72�-\udf91]|\ud804[\udc03-\udc37�-\udcaf�-\udce8�-\udd26�-\udd72�\udd83-\uddb2�-\uddc4�\udddc�-\ude11�-\ude2b�-\ude86�\ude8a-\ude8d�-\ude9d�-\udea8�-\udede�-\udf0c�\udf10�-\udf28�-\udf30�\udf33�-\udf39�\udf50�-\udf61]|\ud808[\udc00-\udf99]|\ud83b[\ude00-\ude03�-\ude1f�\ude22�\ude27�-\ude32�-\ude37�\ude3b�\ude47�\ude4b�-\ude4f�\ude52�\ude57�\ude5b�\ude5f�\ude62�\ude67-\ude6a�-\ude72�-\ude77�-\ude7c�\ude80-\ude89�-\ude9b�-\udea3�-\udea9�-\udebb]|\ud81a[\udc00-\ude38�-\ude5e�-\udeed�-\udf2f�-\udf77�-\udf8f]|\ud801[\udc50-\udc9d�-\udd27�-\udd63�-\udf36�-\udf55�-\udf67]|\ud811[\udc00-\ude46]|\ud82f[\udc00-\udc6a�-\udc7c�-\udc88�-\udc99]|\ud82c[\udc00�]|\ud873[\udc00-\udea1]"},{name:"Lt",alias:"Titlecase_Letter",bmp:"ǅǈǋǲᾈ-ᾏᾘ-ᾟᾨ-ᾯᾼῌῼ"},{name:"Lu",alias:"Uppercase_Letter",bmp:"A-ZÀ-ÖØ-ÞĀĂĄĆĈĊČĎĐĒĔĖĘĚĜĞĠĢĤĦĨĪĬĮİĲĴĶĹĻĽĿŁŃŅŇŊŌŎŐŒŔŖŘŚŜŞŠŢŤŦŨŪŬŮŰŲŴŶŸŹŻŽƁƂƄƆƇƉ-ƋƎ-ƑƓƔƖ-ƘƜƝƟƠƢƤƦƧƩƬƮƯƱ-ƳƵƷƸƼǄǇǊǍǏǑǓǕǗǙǛǞǠǢǤǦǨǪǬǮǱǴǶ-ǸǺǼǾȀȂȄȆȈȊȌȎȐȒȔȖȘȚȜȞȠȢȤȦȨȪȬȮȰȲȺȻȽȾɁɃ-ɆɈɊɌɎͰͲͶͿΆΈ-ΊΌΎΏΑ-ΡΣ-ΫϏϒ-ϔϘϚϜϞϠϢϤϦϨϪϬϮϴϷϹϺϽ-ЯѠѢѤѦѨѪѬѮѰѲѴѶѸѺѼѾҀҊҌҎҐҒҔҖҘҚҜҞҠҢҤҦҨҪҬҮҰҲҴҶҸҺҼҾӀӁӃӅӇӉӋӍӐӒӔӖӘӚӜӞӠӢӤӦӨӪӬӮӰӲӴӶӸӺӼӾԀԂԄԆԈԊԌԎԐԒԔԖԘԚԜԞԠԢԤԦԨԪԬԮԱ-ՖႠ-ჅჇჍᎠ-ᏵḀḂḄḆḈḊḌḎḐḒḔḖḘḚḜḞḠḢḤḦḨḪḬḮḰḲḴḶḸḺḼḾṀṂṄṆṈṊṌṎṐṒṔṖṘṚṜṞṠṢṤṦṨṪṬṮṰṲṴṶṸṺṼṾẀẂẄẆẈẊẌẎẐẒẔẞẠẢẤẦẨẪẬẮẰẲẴẶẸẺẼẾỀỂỄỆỈỊỌỎỐỒỔỖỘỚỜỞỠỢỤỦỨỪỬỮỰỲỴỶỸỺỼỾἈ-ἏἘ-ἝἨ-ἯἸ-ἿὈ-ὍὙὛὝὟὨ-ὯᾸ-ΆῈ-ΉῘ-ΊῨ-ῬῸ-Ώℂℇℋ-ℍℐ-ℒℕℙ-ℝℤΩℨK-ℭℰ-ℳℾℿⅅↃⰀ-ⰮⱠⱢ-ⱤⱧⱩⱫⱭ-ⱰⱲⱵⱾ-ⲀⲂⲄⲆⲈⲊⲌⲎⲐⲒⲔⲖⲘⲚⲜⲞⲠⲢⲤⲦⲨⲪⲬⲮⲰⲲⲴⲶⲸⲺⲼⲾⳀⳂⳄⳆⳈⳊⳌⳎⳐⳒⳔⳖⳘⳚⳜⳞⳠⳢⳫⳭⳲꙀꙂꙄꙆꙈꙊꙌꙎꙐꙒꙔꙖꙘꙚꙜꙞꙠꙢꙤꙦꙨꙪꙬꚀꚂꚄꚆꚈꚊꚌꚎꚐꚒꚔꚖꚘꚚꜢꜤꜦꜨꜪꜬꜮꜲꜴꜶꜸꜺꜼꜾꝀꝂꝄꝆꝈꝊꝌꝎꝐꝒꝔꝖꝘꝚꝜꝞꝠꝢꝤꝦꝨꝪꝬꝮꝹꝻꝽꝾꞀꞂꞄꞆꞋꞍꞐꞒꞖꞘꞚꞜꞞꞠꞢꞤꞦꞨꞪ-ꞭꞰ-ꞴꞶＡ-Ｚ",astral:"\ud806[\udca0-\udcbf]|\ud803[\udc80-\udcb2]|\ud801[\udc00-\udc27]|\ud835[\udc00-\udc19�-\udc4d�-\udc81�\udc9e�\udca2�\udca6�-\udcac�-\udcb5�-\udce9�\udd05�-\udd0a�-\udd14�-\udd1c�\udd39�-\udd3e�-\udd44�\udd4a-\udd50�-\udd85�-\uddb9�-\udded�-\ude21�-\ude55�-\ude89�-\udec0�-\udefa�-\udf34�-\udf6e�-\udfa8�]"},{name:"M",alias:"Mark",bmp:"̀-ͯ҃-҉֑-ׇֽֿׁׂׅׄؐ-ًؚ-ٰٟۖ-ۜ۟-۪ۤۧۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ःऺ-़ा-ॏ॑-ॗॢॣঁ-ঃ়া-ৄেৈো-্ৗৢৣਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑੰੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୢୣஂா-ூெ-ைொ-்ௗఀ-ఃా-ౄె-ైొ-్ౕౖౢౣಁ-ಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣഁ-ഃാ-ൄെ-ൈൊ-്ൗൢൣංඃ්ා-ුූෘ-ෟෲෳัิ-ฺ็-๎ັິ-ູົຼ່-ໍ༹༘༙༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏႚ-ႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳ឴-៓៝᠋-᠍ᢩᤠ-ᤫᤰ-᤻ᨗ-ᨛᩕ-ᩞ᩠-᩿᩼᪰-᪾ᬀ-ᬄ᬴-᭄᭫-᭳ᮀ-ᮂᮡ-ᮭ᯦-᯳ᰤ-᰷᳐-᳔᳒-᳨᳭ᳲ-᳴᳸᳹᷀-᷵᷼-᷿⃐-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꙯-꙲ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠣ-ꠧꢀꢁꢴ-꣄꣠-꣱ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀ꧥꨩ-ꨶꩃꩌꩍꩻ-ꩽꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫫ-ꫯꫵ꫶ꯣ-ꯪ꯬꯭ﬞ︀-️︠-︯",astral:"\ud805[\udcb0-\udcc3�-\uddb5�-\uddc0�\udddd�-\ude40�-\udeb7�-\udf2b]|\ud834[\udd65-\udd69�-\udd72�-\udd82�-\udd8b�-\uddad�-\ude44]|\ud804[\udc00-\udc02�-\udc46�-\udc82�-\udcba�-\udd02�-\udd34�\udd80-\udd82�-\uddc0�-\uddcc�-\ude37�-\udeea�-\udf03�\udf3e-\udf44�\udf48�-\udf4d�\udf62�\udf66-\udf6c�-\udf74]|\ud81b[\udf51-\udf7e�-\udf92]|\ud81a[\udef0-\udef4�-\udf36]|\ud82f[\udc9d�]|\ud800[\uddfd�\udf76-\udf7a]|\ud836[\ude00-\ude36�-\ude6c�\ude84�-\ude9f�-\udeaf]|\ud802[\ude01-\ude03�\ude06�-\ude0f�-\ude3a�\udee5�]|\ud83a[\udcd0-\udcd6]|\udb40[\udd00-\uddef]"},{name:"Mc",alias:"Spacing_Mark",bmp:"ःऻा-ीॉ-ौॎॏংঃা-ীেৈোৌৗਃਾ-ੀઃા-ીૉોૌଂଃାୀେୈୋୌୗாிுூெ-ைொ-ௌௗఁ-ఃు-ౄಂಃಾೀ-ೄೇೈೊೋೕೖംഃാ-ീെ-ൈൊ-ൌൗංඃා-ෑෘ-ෟෲෳ༾༿ཿါာေးျြၖၗၢ-ၤၧ-ၭႃႄႇ-ႌႏႚ-ႜាើ-ៅះៈᤣ-ᤦᤩ-ᤫᤰᤱᤳ-ᤸᨙᨚᩕᩗᩡᩣᩤᩭ-ᩲᬄᬵᬻᬽ-ᭁᭃ᭄ᮂᮡᮦᮧ᮪ᯧᯪ-ᯬᯮ᯲᯳ᰤ-ᰫᰴᰵ᳡ᳲᳳ〮〯ꠣꠤꠧꢀꢁꢴ-ꣃꥒ꥓ꦃꦴꦵꦺꦻꦽ-꧀ꨯꨰꨳꨴꩍꩻꩽꫫꫮꫯꫵꯣꯤꯦꯧꯩꯪ꯬",astral:"\ud834[\udd65�\udd6d-\udd72]|\ud804[\udc00�\udc82�-\udcb2�\udcb8�\udd82�-\uddb5�\uddc0�-\ude2e�\ude33�\udee0-\udee2�\udf03�\udf3f�-\udf44�\udf48�-\udf4d�\udf62�]|\ud805[\udcb0-\udcb2�\udcbb-\udcbe�\uddaf-\uddb1�-\uddbb�\ude30-\ude32�\ude3c�\udeac�\udeaf�\udf20�\udf26]|\ud81b[\udf51-\udf7e]"},{name:"Me",alias:"Enclosing_Mark",bmp:"҈҉᪾⃝-⃠⃢-⃤꙰-꙲"},{name:"Mn",alias:"Nonspacing_Mark",bmp:"̀-ͯ҃-֑҇-ׇֽֿׁׂׅׄؐ-ًؚ-ٰٟۖ-ۜ۟-۪ۤۧۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢॣঁ়ু-ৄ্ৢৣਁਂ਼ੁੂੇੈੋ-੍ੑੰੱੵઁં઼ુ-ૅેૈ્ૢૣଁ଼ିୁ-ୄ୍ୖୢୣஂீ்ఀా-ీె-ైొ-్ౕౖౢౣಁ಼ಿೆೌ್ೢೣഁു-ൄ്ൢൣ්ි-ුූัิ-ฺ็-๎ັິ-ູົຼ່-ໍཱ༹༘༙༵༷-ཾྀ-྄྆྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္်ွှၘၙၞ-ၠၱ-ၴႂႅႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳ឴឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧᤨᤲ᤹-᤻ᨘᨗᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀᮁᮢ-ᮥᮨᮩ᮫-ᮭ᯦ᯨᯩᯭᯯ-ᯱᰬ-ᰳᰶ᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸᳹᷀-᷵᷼-᷿⃐-⃥⃜⃡-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〭꙯ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠥꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱꨲꨵꨶꩃꩌꩼꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫬꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯",astral:"\ud805[\udcb3-\udcb8�\udcbf�\udcc2�\uddb2-\uddb5�\uddbd�\uddc0�\udddd�-\ude3a�\ude3f�\udeab�\udeb0-\udeb5�\udf1d-\udf1f�-\udf25�-\udf2b]|\ud834[\udd67-\udd69�-\udd82�-\udd8b�-\uddad�-\ude44]|\ud81a[\udef0-\udef4�-\udf36]|\ud81b[\udf8f-\udf92]|\ud82f[\udc9d�]|\ud800[\uddfd�\udf76-\udf7a]|\ud836[\ude00-\ude36�-\ude6c�\ude84�-\ude9f�-\udeaf]|\ud802[\ude01-\ude03�\ude06�-\ude0f�-\ude3a�\udee5�]|\ud804[\udc01�-\udc46�-\udc81�-\udcb6�\udcba�-\udd02�-\udd2b�-\udd34�\udd80�\uddb6-\uddbe�-\uddcc�-\ude31�\ude36�\udedf�-\udeea�\udf01�\udf40�-\udf6c�-\udf74]|\ud83a[\udcd0-\udcd6]|\udb40[\udd00-\uddef]"},{name:"N",alias:"Number",bmp:"0-9²³¹¼-¾٠-٩۰-۹߀-߉०-९০-৯৴-৹੦-੯૦-૯୦-୯୲-୷௦-௲౦-౯౸-౾೦-೯൦-൵෦-෯๐-๙໐-໙༠-༳၀-၉႐-႙፩-፼ᛮ-ᛰ០-៩៰-៹᠐-᠙᥆-᥏᧐-᧚᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙⁰⁴-⁹₀-₉⅐-ↂↅ-↉①-⒛⓪-⓿❶-➓⳽〇〡-〩〸-〺㆒-㆕㈠-㈩㉈-㉏㉑-㉟㊀-㊉㊱-㊿꘠-꘩ꛦ-ꛯ꠰-꠵꣐-꣙꤀-꤉꧐-꧙꧰-꧹꩐-꩙꯰-꯹０-９",astral:"\ud800[\udd07-\udd33�-\udd78�\udd8b�-\udefb�-\udf23�\udf4a�-\udfd5]|\ud801[\udca0-\udca9]|\ud803[\udcfa-\udcff�-\ude7e]|\ud835[\udfce-\udfff]|\ud83a[\udcc7-\udccf]|\ud81a[\ude60-\ude69�-\udf59�-\udf61]|\ud806[\udce0-\udcf2]|\ud804[\udc52-\udc6f�-\udcf9�-\udd3f�-\uddd9�-\uddf4�-\udef9]|\ud834[\udf60-\udf71]|\ud83c[\udd00-\udd0c]|\ud809[\udc00-\udc6e]|\ud802[\udc58-\udc5f�-\udc7f�-\udcaf�-\udcff�-\udd1b�\uddbd�-\uddcf�-\uddff�-\ude47�\ude7e�-\ude9f�-\udeef�-\udf5f�-\udf7f�-\udfaf]|\ud805[\udcd0-\udcd9�-\ude59�-\udec9�-\udf3b]"},{name:"Nd",alias:"Decimal_Number",bmp:"0-9٠-٩۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯෦-෯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꧰-꧹꩐-꩙꯰-꯹０-９",astral:"\ud801[\udca0-\udca9]|\ud835[\udfce-\udfff]|\ud805[\udcd0-\udcd9�-\ude59�-\udec9�-\udf39]|\ud806[\udce0-\udce9]|\ud804[\udc66-\udc6f�-\udcf9�-\udd3f�-\uddd9�-\udef9]|\ud81a[\ude60-\ude69�-\udf59]"},{name:"Nl",alias:"Letter_Number",bmp:"ᛮ-ᛰⅠ-ↂↅ-ↈ〇〡-〩〸-〺ꛦ-ꛯ",astral:"\ud809[\udc00-\udc6e]|\ud800[\udd40-\udd74�\udf4a�-\udfd5]"},{name:"No",alias:"Other_Number",bmp:"²³¹¼-¾৴-৹୲-୷௰-௲౸-౾൰-൵༪-༳፩-፼៰-៹᧚⁰⁴-⁹₀-₉⅐-⅟↉①-⒛⓪-⓿❶-➓⳽㆒-㆕㈠-㈩㉈-㉏㉑-㉟㊀-㊉㊱-㊿꠰-꠵",astral:"\ud804[\udc52-\udc65�-\uddf4]|\ud803[\udcfa-\udcff�-\ude7e]|\ud83c[\udd00-\udd0c]|\ud806[\udcea-\udcf2]|\ud83a[\udcc7-\udccf]|\ud802[\udc58-\udc5f�-\udc7f�-\udcaf�-\udcff�-\udd1b�\uddbd�-\uddcf�-\uddff�-\ude47�\ude7e�-\ude9f�-\udeef�-\udf5f�-\udf7f�-\udfaf]|\ud805[\udf3a�]|\ud81a[\udf5b-\udf61]|\ud834[\udf60-\udf71]|\ud800[\udd07-\udd33�-\udd78�\udd8b�-\udefb�-\udf23]"},{name:"P",alias:"Punctuation",bmp:"!-#%-\\x2A,-/:;\\x3F@\\x5B-\\x5D_\\x7B}¡§«¶·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰૰෴๏๚๛༄-༒༔༺-༽྅࿐-࿔࿙࿚၊-၏჻፠-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳀-᳇᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎⌈-⌋〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰-⹂、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꣼꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꫰꫱꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･",astral:"\ud802[\udc57�\udd3f�-\ude58�\udef0-\udef6�-\udf3f�-\udf9c]|\ud809[\udc70-\udc74]|\ud805[\udcc6�-\uddd7�-\ude43�-\udf3e]|\ud836[\ude87-\ude8b]|𐕯|𛲟|\ud804[\udc47-\udc4d�\udcbc�-\udcc1�-\udd43�\udd75�-\uddc9�\udddb�-\udddf�-\ude3d�]|\ud800[\udd00-\udd02�\udfd0]|\ud81a[\ude6e�\udef5�-\udf3b�]"},{name:"Pc",alias:"Connector_Punctuation",bmp:"_‿⁀⁔︳︴﹍-﹏＿"},{name:"Pd",alias:"Dash_Punctuation",bmp:"\\x2D֊־᐀᠆‐-―⸗⸚⸺⸻⹀〜〰゠︱︲﹘﹣－"},{name:"Pe",alias:"Close_Punctuation",bmp:"\\x29\\x5D}༻༽᚜⁆⁾₎⌉⌋〉❩❫❭❯❱❳❵⟆⟧⟩⟫⟭⟯⦄⦆⦈⦊⦌⦎⦐⦒⦔⦖⦘⧙⧛⧽⸣⸥⸧⸩〉》」』】〕〗〙〛〞〟﴾︘︶︸︺︼︾﹀﹂﹄﹈﹚﹜﹞）］｝｠｣"},{name:"Pf",alias:"Final_Punctuation",bmp:"»’”›⸃⸅⸊⸍⸝⸡"},{name:"Pi",alias:"Initial_Punctuation",bmp:"«‘‛“‟‹⸂⸄⸉⸌⸜⸠"},{name:"Po",alias:"Other_Punctuation",bmp:"!-#%-'\\x2A,\\x2E/:;\\x3F@\\x5C¡§¶·¿;·՚-՟։׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰૰෴๏๚๛༄-༒༔྅࿐-࿔࿙࿚၊-၏჻፠-፨᙭᙮᛫-᛭᜵᜶។-៖៘-៚᠀-᠅᠇-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳀-᳇᳓‖‗†-‧‰-‸※-‾⁁-⁃⁇-⁑⁓⁕-⁞⳹-⳼⳾⳿⵰⸀⸁⸆-⸈⸋⸎-⸖⸘⸙⸛⸞⸟⸪-⸮⸰-⸹⸼-⸿⹁、-〃〽・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꣼꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꫰꫱꯫︐-︖︙︰﹅﹆﹉-﹌﹐-﹒﹔-﹗﹟-﹡﹨﹪﹫！-＃％-＇＊，．／：；？＠＼｡､･",astral:"\ud802[\udc57�\udd3f�-\ude58�\udef0-\udef6�-\udf3f�-\udf9c]|\ud809[\udc70-\udc74]|\ud805[\udcc6�-\uddd7�-\ude43�-\udf3e]|\ud836[\ude87-\ude8b]|𐕯|𛲟|\ud804[\udc47-\udc4d�\udcbc�-\udcc1�-\udd43�\udd75�-\uddc9�\udddb�-\udddf�-\ude3d�]|\ud800[\udd00-\udd02�\udfd0]|\ud81a[\ude6e�\udef5�-\udf3b�]"},{name:"Ps",alias:"Open_Punctuation",bmp:"\\x28\\x5B\\x7B༺༼᚛‚„⁅⁽₍⌈⌊〈❨❪❬❮❰❲❴⟅⟦⟨⟪⟬⟮⦃⦅⦇⦉⦋⦍⦏⦑⦓⦕⦗⧘⧚⧼⸢⸤⸦⸨⹂〈《「『【〔〖〘〚〝﴿︗︵︷︹︻︽︿﹁﹃﹇﹙﹛﹝（［｛｟｢"},{name:"S",alias:"Symbol",bmp:"\\x24\\x2B<->\\x5E`\\x7C~¢-¦¨©¬®-±´¸×÷˂-˅˒-˟˥-˫˭˯-˿͵΄΅϶҂֍-֏؆-؈؋؎؏۞۩۽۾߶৲৳৺৻૱୰௳-௺౿൹฿༁-༃༓༕-༗༚-༟༴༶༸྾-࿅࿇-࿌࿎࿏࿕-࿘႞႟᎐-᎙៛᥀᧞-᧿᭡-᭪᭴-᭼᾽᾿-῁῍-῏῝-῟῭-`´῾⁄⁒⁺-⁼₊-₌₠-₾℀℁℃-℆℈℉℔№-℘℞-℣℥℧℩℮℺℻⅀-⅄⅊-⅍⅏↊↋←-⌇⌌-⌨⌫-⏺␀-␦⑀-⑊⒜-ⓩ─-❧➔-⟄⟇-⟥⟰-⦂⦙-⧗⧜-⧻⧾-⭳⭶-⮕⮘-⮹⮽-⯈⯊-⯑⯬-⯯⳥-⳪⺀-⺙⺛-⻳⼀-⿕⿰-⿻〄〒〓〠〶〷〾〿゛゜㆐㆑㆖-㆟㇀-㇣㈀-㈞㈪-㉇㉐㉠-㉿㊊-㊰㋀-㋾㌀-㏿䷀-䷿꒐-꓆꜀-꜖꜠꜡꞉꞊꠨-꠫꠶-꠹꩷-꩹꭛﬩﮲-﯁﷼﷽﹢﹤-﹦﹩＄＋＜-＞＾｀｜～￠-￦￨-￮￼�",astral:"\ud83e[\udc00-\udc0b�-\udc47�-\udc59�-\udc87�-\udcad�-\udd18�-\udd84�]|\ud83c[\udc00-\udc2b�-\udc93�-\udcae�-\udcbf�-\udccf�-\udcf5�-\udd2e�-\udd6b�-\udd9a�-\ude02�-\ude3a�-\ude48�\ude51�-\udfff]|\ud83d[\udc00-\udd79�-\udda3�-\uded0�-\udeec�-\udef3�-\udf73�-\udfd4]|\ud835[\udec1�\udefb�\udf35�\udf6f�\udfa9�]|\ud800[\udd37-\udd3f�-\udd89�\udd90-\udd9b�\uddd0-\uddfc]|𛲜|𑜿|\ud802[\udc77�\udec8]|\ud81a[\udf3c-\udf3f�]|\ud836[\udc00-\uddff�-\ude3a�-\ude74�-\ude83�\ude86]|\ud834[\udc00-\udcf5�-\udd26�-\udd64�-\udd6c�\udd84�-\udda9�-\udde8�-\ude41�\udf00-\udf56]|\ud83b[\udef0�]"},{name:"Sc",alias:"Currency_Symbol",bmp:"\\x24¢-¥֏؋৲৳৻૱௹฿៛₠-₾꠸﷼﹩＄￠￡￥￦"},{name:"Sk",alias:"Modifier_Symbol",bmp:"\\x5E`¨¯´¸˂-˅˒-˟˥-˫˭˯-˿͵΄΅᾽᾿-῁῍-῏῝-῟῭-`´῾゛゜꜀-꜖꜠꜡꞉꞊꭛﮲-﯁＾｀￣",astral:"\ud83c[\udffb-\udfff]"},{name:"Sm",alias:"Math_Symbol",bmp:"\\x2B<->\\x7C~¬±×÷϶؆-؈⁄⁒⁺-⁼₊-₌℘⅀-⅄⅋←-↔↚↛↠↣↦↮⇎⇏⇒⇔⇴-⋿⌠⌡⍼⎛-⎳⏜-⏡▷◁◸-◿♯⟀-⟄⟇-⟥⟰-⟿⤀-⦂⦙-⧗⧜-⧻⧾-⫿⬰-⭄⭇-⭌﬩﹢﹤-﹦＋＜-＞｜～￢￩-￬",astral:"\ud83b[\udef0�]|\ud835[\udec1�\udefb�\udf35�\udf6f�\udfa9�]"},{name:"So",alias:"Other_Symbol",bmp:"¦©®°҂֍֎؎؏۞۩۽۾߶৺୰௳-௸௺౿൹༁-༃༓༕-༗༚-༟༴༶༸྾-࿅࿇-࿌࿎࿏࿕-࿘႞႟᎐-᎙᥀᧞-᧿᭡-᭪᭴-᭼℀℁℃-℆℈℉℔№℗℞-℣℥℧℩℮℺℻⅊⅌⅍⅏↊↋↕-↙↜-↟↡↢↤↥↧-↭↯-⇍⇐⇑⇓⇕-⇳⌀-⌇⌌-⌟⌢-⌨⌫-⍻⍽-⎚⎴-⏛⏢-⏺␀-␦⑀-⑊⒜-ⓩ─-▶▸-◀◂-◷☀-♮♰-❧➔-➿⠀-⣿⬀-⬯⭅⭆⭍-⭳⭶-⮕⮘-⮹⮽-⯈⯊-⯑⯬-⯯⳥-⳪⺀-⺙⺛-⻳⼀-⿕⿰-⿻〄〒〓〠〶〷〾〿㆐㆑㆖-㆟㇀-㇣㈀-㈞㈪-㉇㉐㉠-㉿㊊-㊰㋀-㋾㌀-㏿䷀-䷿꒐-꓆꠨-꠫꠶꠷꠹꩷-꩹﷽￤￨￭￮￼�",astral:"\ud83e[\udc00-\udc0b�-\udc47�-\udc59�-\udc87�-\udcad�-\udd18�-\udd84�]|\ud83d[\udc00-\udd79�-\udda3�-\uded0�-\udeec�-\udef3�-\udf73�-\udfd4]|\ud83c[\udc00-\udc2b�-\udc93�-\udcae�-\udcbf�-\udccf�-\udcf5�-\udd2e�-\udd6b�-\udd9a�-\ude02�-\ude3a�-\ude48�\ude51�-\udffa]|\ud800[\udd37-\udd3f�-\udd89�\udd90-\udd9b�\uddd0-\uddfc]|𛲜|𑜿|\ud802[\udc77�\udec8]|\ud81a[\udf3c-\udf3f�]|\ud836[\udc00-\uddff�-\ude3a�-\ude74�-\ude83�\ude86]|\ud834[\udc00-\udcf5�-\udd26�-\udd64�-\udd6c�\udd84�-\udda9�-\udde8�-\ude41�\udf00-\udf56]"},{name:"Z",alias:"Separator",bmp:"    - \u2028\u2029  　"},{name:"Zl",alias:"Line_Separator",bmp:"\u2028"},{name:"Zp",alias:"Paragraph_Separator",bmp:"\u2029"},{name:"Zs",alias:"Space_Separator",bmp:"    -   　"}])}(e),function(e){"use strict";if(!e.addUnicodeData)throw new ReferenceError("Unicode Base must be loaded before Unicode Properties");var t=[{name:"ASCII",bmp:"\0-"},{name:"Alphabetic",bmp:"A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͅͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙա-ևְ-ׇֽֿׁׂׅׄא-תװ-ײؐ-ؚؠ-ٗٙ-ٟٮ-ۓە-ۜۡ-ۭۨ-ۯۺ-ۼۿܐ-ܿݍ-ޱߊ-ߪߴߵߺࠀ-ࠗࠚ-ࠬࡀ-ࡘࢠ-ࢴࣣ-ࣰࣩ-ऻऽ-ौॎ-ॐॕ-ॣॱ-ঃঅ-ঌএঐও-নপ-রলশ-হঽ-ৄেৈোৌৎৗড়ঢ়য়-ৣৰৱਁ-ਃਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਾ-ੂੇੈੋੌੑਖ਼-ੜਫ਼ੰ-ੵઁ-ઃઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽ-ૅે-ૉોૌૐૠ-ૣૹଁ-ଃଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽ-ୄେୈୋୌୖୗଡ଼ଢ଼ୟ-ୣୱஂஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹா-ூெ-ைொ-ௌௐௗఀ-ఃఅ-ఌఎ-ఐఒ-నప-హఽ-ౄె-ైొ-ౌౕౖౘ-ౚౠ-ౣಁ-ಃಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽ-ೄೆ-ೈೊ-ೌೕೖೞೠ-ೣೱೲഁ-ഃഅ-ഌഎ-ഐഒ-ഺഽ-ൄെ-ൈൊ-ൌൎൗൟ-ൣൺ-ൿංඃඅ-ඖක-නඳ-රලව-ෆා-ුූෘ-ෟෲෳก-ฺเ-ๆํກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ູົ-ຽເ-ໄໆໍໜ-ໟༀཀ-ཇཉ-ཬཱ-ཱྀྈ-ྗྙ-ྼက-ံးျ-ဿၐ-ၢၥ-ၨၮ-ႆႎႜႝႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚ፟ᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜌᜎ-ᜓᜠ-ᜳᝀ-ᝓᝠ-ᝬᝮ-ᝰᝲᝳក-ឳា-ៈៗៜᠠ-ᡷᢀ-ᢪᢰ-ᣵᤀ-ᤞᤠ-ᤫᤰ-ᤸᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨛᨠ-ᩞᩡ-ᩴᪧᬀ-ᬳᬵ-ᭃᭅ-ᭋᮀ-ᮩᮬ-ᮯᮺ-ᯥᯧ-ᯱᰀ-ᰵᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳳᳵᳶᴀ-ᶿᷧ-ᷴḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⒶ-ⓩⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⷠ-ⷿⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿕ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙴ-ꙻꙿ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞭꞰ-ꞷꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠧꡀ-ꡳꢀ-ꣃꣲ-ꣷꣻꣽꤊ-ꤪꤰ-ꥒꥠ-ꥼꦀ-ꦲꦴ-ꦿꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨶꩀ-ꩍꩠ-ꩶꩺꩾ-ꪾꫀꫂꫛ-ꫝꫠ-ꫯꫲ-ꫵꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭥꭰ-ꯪ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",astral:"\ud86e[\udc00-\udc1d�-\udfff]|\ud804[\udc00-\udc45�-\udcb8�-\udce8�-\udd32�-\udd72�\udd80-\uddbf�-\uddc4�\udddc�-\ude11�-\ude34�\ude80-\ude86�\ude8a-\ude8d�-\ude9d�-\udea8�-\udee8�-\udf03�-\udf0c�\udf10�-\udf28�-\udf30�\udf33�-\udf39�-\udf44�\udf48�\udf4c�\udf57�-\udf63]|\ud86d[\udc00-\udf34�-\udfff]|\ud869[\udc00-\uded6�-\udfff]|\ud803[\udc00-\udc48�-\udcb2�-\udcf2]|\ud83a[\udc00-\udcc4]|\ud81a[\udc00-\ude38�-\ude5e�-\udeed�-\udf36�-\udf43�-\udf77�-\udf8f]|\ud801[\udc00-\udc9d�-\udd27�-\udd63�-\udf36�-\udf55�-\udf67]|\ud83c[\udd30-\udd49�-\udd69�-\udd89]|\ud80d[\udc00-\udc2e]|\ud87e[\udc00-\ude1d]|[\ud80c\ud840-\ud868\ud86a-\ud86c\ud86f-\ud872][\udc00-\udfff]|\ud835[\udc00-\udc54�-\udc9c�\udc9f�\udca5�\udca9-\udcac�-\udcb9�\udcbd-\udcc3�-\udd05�-\udd0a�-\udd14�-\udd1c�-\udd39�-\udd3e�-\udd44�\udd4a-\udd50�-\udea5�-\udec0�-\udeda�-\udefa�-\udf14�-\udf34�-\udf4e�-\udf6e�-\udf88�-\udfa8�-\udfc2�-\udfcb]|\ud82f[\udc00-\udc6a�-\udc7c�-\udc88�-\udc99�]|\ud808[\udc00-\udf99]|\ud83b[\ude00-\ude03�-\ude1f�\ude22�\ude27�-\ude32�-\ude37�\ude3b�\ude47�\ude4b�-\ude4f�\ude52�\ude57�\ude5b�\ude5f�\ude62�\ude67-\ude6a�-\ude72�-\ude77�-\ude7c�\ude80-\ude89�-\ude9b�-\udea3�-\udea9�-\udebb]|\ud805[\udc80-\udcc1�\udcc5�\udd80-\uddb5�-\uddbe�-\udddd�-\ude3e�\ude44�-\udeb5�-\udf19�-\udf2a]|\ud809[\udc00-\udc6e�-\udd43]|\ud806[\udca0-\udcdf�\udec0-\udef8]|\ud800[\udc00-\udc0b�-\udc26�-\udc3a�\udc3d�-\udc4d�-\udc5d�-\udcfa�-\udd74�-\ude9c�-\uded0�-\udf1f�-\udf4a�-\udf7a�-\udf9d�-\udfc3�-\udfcf�-\udfd5]|\ud802[\udc00-\udc05�\udc0a-\udc35�\udc38�\udc3f-\udc55�-\udc76�-\udc9e�-\udcf2�\udcf5�-\udd15�-\udd39�-\uddb7�\uddbf�-\ude03�\ude06�-\ude13�-\ude17�-\ude33�-\ude7c�-\ude9c�-\udec7�-\udee4�-\udf35�-\udf55�-\udf72�-\udf91]|\ud811[\udc00-\ude46]|\ud82c[\udc00�]|\ud81b[\udf00-\udf44�-\udf7e�-\udf9f]|\ud873[\udc00-\udea1]"},{name:"Any",isBmpLast:!0,bmp:"\0-￿",astral:"[\ud800-\udbff][\udc00-\udfff]"},{name:"Default_Ignorable_Code_Point",bmp:"­͏؜ᅟᅠ឴឵᠋-᠎​-‏‪-‮⁠-⁯ㅤ︀-️\ufeffﾠ￰-￸",astral:"[\udb40-\udb43][\udc00-\udfff]|\ud834[\udd73-\udd7a]|\ud82f[\udca0-\udca3]"},{name:"Lowercase",bmp:"a-zªµºß-öø-ÿāăąćĉċčďđēĕėęěĝğġģĥħĩīĭįıĳĵķĸĺļľŀłńņňŉŋōŏőœŕŗřśŝşšţťŧũūŭůűųŵŷźżž-ƀƃƅƈƌƍƒƕƙ-ƛƞơƣƥƨƪƫƭưƴƶƹƺƽ-ƿǆǉǌǎǐǒǔǖǘǚǜǝǟǡǣǥǧǩǫǭǯǰǳǵǹǻǽǿȁȃȅȇȉȋȍȏȑȓȕȗșțȝȟȡȣȥȧȩȫȭȯȱȳ-ȹȼȿɀɂɇɉɋɍɏ-ʓʕ-ʸˀˁˠ-ˤͅͱͳͷͺ-ͽΐά-ώϐϑϕ-ϗϙϛϝϟϡϣϥϧϩϫϭϯ-ϳϵϸϻϼа-џѡѣѥѧѩѫѭѯѱѳѵѷѹѻѽѿҁҋҍҏґғҕҗҙқҝҟҡңҥҧҩҫҭүұҳҵҷҹһҽҿӂӄӆӈӊӌӎӏӑӓӕӗәӛӝӟӡӣӥӧөӫӭӯӱӳӵӷӹӻӽӿԁԃԅԇԉԋԍԏԑԓԕԗԙԛԝԟԡԣԥԧԩԫԭԯա-ևᏸ-ᏽᴀ-ᶿḁḃḅḇḉḋḍḏḑḓḕḗḙḛḝḟḡḣḥḧḩḫḭḯḱḳḵḷḹḻḽḿṁṃṅṇṉṋṍṏṑṓṕṗṙṛṝṟṡṣṥṧṩṫṭṯṱṳṵṷṹṻṽṿẁẃẅẇẉẋẍẏẑẓẕ-ẝẟạảấầẩẫậắằẳẵặẹẻẽếềểễệỉịọỏốồổỗộớờởỡợụủứừửữựỳỵỷỹỻỽỿ-ἇἐ-ἕἠ-ἧἰ-ἷὀ-ὅὐ-ὗὠ-ὧὰ-ώᾀ-ᾇᾐ-ᾗᾠ-ᾧᾰ-ᾴᾶᾷιῂ-ῄῆῇῐ-ΐῖῗῠ-ῧῲ-ῴῶῷⁱⁿₐ-ₜℊℎℏℓℯℴℹℼℽⅆ-ⅉⅎⅰ-ⅿↄⓐ-ⓩⰰ-ⱞⱡⱥⱦⱨⱪⱬⱱⱳⱴⱶ-ⱽⲁⲃⲅⲇⲉⲋⲍⲏⲑⲓⲕⲗⲙⲛⲝⲟⲡⲣⲥⲧⲩⲫⲭⲯⲱⲳⲵⲷⲹⲻⲽⲿⳁⳃⳅⳇⳉⳋⳍⳏⳑⳓⳕⳗⳙⳛⳝⳟⳡⳣⳤⳬⳮⳳⴀ-ⴥⴧⴭꙁꙃꙅꙇꙉꙋꙍꙏꙑꙓꙕꙗꙙꙛꙝꙟꙡꙣꙥꙧꙩꙫꙭꚁꚃꚅꚇꚉꚋꚍꚏꚑꚓꚕꚗꚙꚛ-ꚝꜣꜥꜧꜩꜫꜭꜯ-ꜱꜳꜵꜷꜹꜻꜽꜿꝁꝃꝅꝇꝉꝋꝍꝏꝑꝓꝕꝗꝙꝛꝝꝟꝡꝣꝥꝧꝩꝫꝭꝯ-ꝸꝺꝼꝿꞁꞃꞅꞇꞌꞎꞑꞓ-ꞕꞗꞙꞛꞝꞟꞡꞣꞥꞧꞩꞵꞷꟸ-ꟺꬰ-ꭚꭜ-ꭥꭰ-ꮿﬀ-ﬆﬓ-ﬗａ-ｚ",astral:"\ud803[\udcc0-\udcf2]|\ud835[\udc1a-\udc33�-\udc54�-\udc67�-\udc9b�-\udcb9�\udcbd-\udcc3�-\udccf�-\udd03�-\udd37�-\udd6b�-\udd9f�-\uddd3�-\ude07�-\ude3b�-\ude6f�-\udea5�-\udeda�-\udee1�-\udf14�-\udf1b�-\udf4e�-\udf55�-\udf88�-\udf8f�-\udfc2�-\udfc9�]|\ud801[\udc28-\udc4f]|\ud806[\udcc0-\udcdf]"},{name:"Noncharacter_Code_Point",bmp:"﷐-﷯￾￿",astral:"[\udb3f\udb7f\udbbf\udbff\ud83f\ud87f\ud8bf\udaff\ud97f\ud9bf\ud9ff\uda3f\ud8ff\udabf\uda7f\ud93f][\udffe�]"},{name:"Uppercase",bmp:"A-ZÀ-ÖØ-ÞĀĂĄĆĈĊČĎĐĒĔĖĘĚĜĞĠĢĤĦĨĪĬĮİĲĴĶĹĻĽĿŁŃŅŇŊŌŎŐŒŔŖŘŚŜŞŠŢŤŦŨŪŬŮŰŲŴŶŸŹŻŽƁƂƄƆƇƉ-ƋƎ-ƑƓƔƖ-ƘƜƝƟƠƢƤƦƧƩƬƮƯƱ-ƳƵƷƸƼǄǇǊǍǏǑǓǕǗǙǛǞǠǢǤǦǨǪǬǮǱǴǶ-ǸǺǼǾȀȂȄȆȈȊȌȎȐȒȔȖȘȚȜȞȠȢȤȦȨȪȬȮȰȲȺȻȽȾɁɃ-ɆɈɊɌɎͰͲͶͿΆΈ-ΊΌΎΏΑ-ΡΣ-ΫϏϒ-ϔϘϚϜϞϠϢϤϦϨϪϬϮϴϷϹϺϽ-ЯѠѢѤѦѨѪѬѮѰѲѴѶѸѺѼѾҀҊҌҎҐҒҔҖҘҚҜҞҠҢҤҦҨҪҬҮҰҲҴҶҸҺҼҾӀӁӃӅӇӉӋӍӐӒӔӖӘӚӜӞӠӢӤӦӨӪӬӮӰӲӴӶӸӺӼӾԀԂԄԆԈԊԌԎԐԒԔԖԘԚԜԞԠԢԤԦԨԪԬԮԱ-ՖႠ-ჅჇჍᎠ-ᏵḀḂḄḆḈḊḌḎḐḒḔḖḘḚḜḞḠḢḤḦḨḪḬḮḰḲḴḶḸḺḼḾṀṂṄṆṈṊṌṎṐṒṔṖṘṚṜṞṠṢṤṦṨṪṬṮṰṲṴṶṸṺṼṾẀẂẄẆẈẊẌẎẐẒẔẞẠẢẤẦẨẪẬẮẰẲẴẶẸẺẼẾỀỂỄỆỈỊỌỎỐỒỔỖỘỚỜỞỠỢỤỦỨỪỬỮỰỲỴỶỸỺỼỾἈ-ἏἘ-ἝἨ-ἯἸ-ἿὈ-ὍὙὛὝὟὨ-ὯᾸ-ΆῈ-ΉῘ-ΊῨ-ῬῸ-Ώℂℇℋ-ℍℐ-ℒℕℙ-ℝℤΩℨK-ℭℰ-ℳℾℿⅅⅠ-ⅯↃⒶ-ⓏⰀ-ⰮⱠⱢ-ⱤⱧⱩⱫⱭ-ⱰⱲⱵⱾ-ⲀⲂⲄⲆⲈⲊⲌⲎⲐⲒⲔⲖⲘⲚⲜⲞⲠⲢⲤⲦⲨⲪⲬⲮⲰⲲⲴⲶⲸⲺⲼⲾⳀⳂⳄⳆⳈⳊⳌⳎⳐⳒⳔⳖⳘⳚⳜⳞⳠⳢⳫⳭⳲꙀꙂꙄꙆꙈꙊꙌꙎꙐꙒꙔꙖꙘꙚꙜꙞꙠꙢꙤꙦꙨꙪꙬꚀꚂꚄꚆꚈꚊꚌꚎꚐꚒꚔꚖꚘꚚꜢꜤꜦꜨꜪꜬꜮꜲꜴꜶꜸꜺꜼꜾꝀꝂꝄꝆꝈꝊꝌꝎꝐꝒꝔꝖꝘꝚꝜꝞꝠꝢꝤꝦꝨꝪꝬꝮꝹꝻꝽꝾꞀꞂꞄꞆꞋꞍꞐꞒꞖꞘꞚꞜꞞꞠꞢꞤꞦꞨꞪ-ꞭꞰ-ꞴꞶＡ-Ｚ",astral:"\ud806[\udca0-\udcbf]|\ud803[\udc80-\udcb2]|\ud835[\udc00-\udc19�-\udc4d�-\udc81�\udc9e�\udca2�\udca6�-\udcac�-\udcb5�-\udce9�\udd05�-\udd0a�-\udd14�-\udd1c�\udd39�-\udd3e�-\udd44�\udd4a-\udd50�-\udd85�-\uddb9�-\udded�-\ude21�-\ude55�-\ude89�-\udec0�-\udefa�-\udf34�-\udf6e�-\udfa8�]|\ud801[\udc00-\udc27]|\ud83c[\udd30-\udd49�-\udd69�-\udd89]"},{name:"White_Space",bmp:"\t-\r    - \u2028\u2029  　"}];t.push({name:"Assigned",inverseOf:"Cn"}),e.addUnicodeData(t)}(e),function(e){"use strict";if(!e.addUnicodeData)throw new ReferenceError("Unicode Base must be loaded before Unicode Scripts");e.addUnicodeData([{name:"Ahom",astral:"\ud805[\udf00-\udf19�-\udf2b�-\udf3f]"},{name:"Anatolian_Hieroglyphs",astral:"\ud811[\udc00-\ude46]"},{name:"Arabic",bmp:"؀-؄؆-؋؍-ؚ؞ؠ-ؿف-يٖ-ٯٱ-ۜ۞-ۿݐ-ݿࢠ-ࢴࣣ-ࣿﭐ-﯁ﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-﷽ﹰ-ﹴﹶ-ﻼ",astral:"\ud803[\ude60-\ude7e]|\ud83b[\ude00-\ude03�-\ude1f�\ude22�\ude27�-\ude32�-\ude37�\ude3b�\ude47�\ude4b�-\ude4f�\ude52�\ude57�\ude5b�\ude5f�\ude62�\ude67-\ude6a�-\ude72�-\ude77�-\ude7c�\ude80-\ude89�-\ude9b�-\udea3�-\udea9�-\udebb�\udef1]"},{name:"Armenian",bmp:"Ա-Ֆՙ-՟ա-և֊֍-֏ﬓ-ﬗ"},{name:"Avestan",astral:"\ud802[\udf00-\udf35�-\udf3f]"},{name:"Balinese",bmp:"ᬀ-ᭋ᭐-᭼"},{name:"Bamum",bmp:"ꚠ-꛷",astral:"\ud81a[\udc00-\ude38]"},{name:"Bassa_Vah",astral:"\ud81a[\uded0-\udeed�-\udef5]"},{name:"Batak",bmp:"ᯀ-᯳᯼-᯿"},{name:"Bengali",bmp:"ঀ-ঃঅ-ঌএঐও-নপ-রলশ-হ়-ৄেৈো-ৎৗড়ঢ়য়-ৣ০-৻"},{name:"Bopomofo",bmp:"˪˫ㄅ-ㄭㆠ-ㆺ"},{name:"Brahmi",astral:"\ud804[\udc00-\udc4d�-\udc6f�]"},{name:"Braille",bmp:"⠀-⣿"},{name:"Buginese",bmp:"ᨀ-ᨛ᨞᨟"},{name:"Buhid",bmp:"ᝀ-ᝓ"},{name:"Canadian_Aboriginal",bmp:"᐀-ᙿᢰ-ᣵ"},{name:"Carian",astral:"\ud800[\udea0-\uded0]"},{name:"Caucasian_Albanian",astral:"\ud801[\udd30-\udd63�]"},{name:"Chakma",astral:"\ud804[\udd00-\udd34�-\udd43]"},{name:"Cham",bmp:"ꨀ-ꨶꩀ-ꩍ꩐-꩙꩜-꩟"},{name:"Cherokee",bmp:"Ꭰ-Ᏽᏸ-ᏽꭰ-ꮿ"},{name:"Common",bmp:"\0-@\\x5B-`\\x7B-©«-¹»-¿×÷ʹ-˟˥-˩ˬ-˿ʹ;΅·։؅،؛؜؟ـ۝।॥฿࿕-࿘჻᛫-᛭᜵᜶᠂᠃᠅᳓᳡ᳩ-ᳬᳮ-ᳳᳵᳶ -​‎-⁤⁦-⁰⁴-⁾₀-₎₠-₾℀-℥℧-℩ℬ-ℱℳ-⅍⅏-⅟↉-↋←-⏺␀-␦⑀-⑊①-⟿⤀-⭳⭶-⮕⮘-⮹⮽-⯈⯊-⯑⯬-⯯⸀-⹂⿰-⿻　-〄〆〈-〠〰-〷〼-〿゛゜゠・ー㆐-㆟㇀-㇣㈠-㉟㉿-㋏㍘-㏿䷀-䷿꜀-꜡ꞈ-꞊꠰-꠹꤮ꧏ꭛﴾﴿︐-︙︰-﹒﹔-﹦﹨-﹫\ufeff！-＠［-｀｛-･ｰﾞﾟ￠-￦￨-￮￹-�",astral:"\ud83e[\udc00-\udc0b�-\udc47�-\udc59�-\udc87�-\udcad�-\udd18�-\udd84�]|\ud82f[\udca0-\udca3]|\ud835[\udc00-\udc54�-\udc9c�\udc9f�\udca5�\udca9-\udcac�-\udcb9�\udcbd-\udcc3�-\udd05�-\udd0a�-\udd14�-\udd1c�-\udd39�-\udd3e�-\udd44�\udd4a-\udd50�-\udea5�-\udfcb�-\udfff]|\udb40[\udc01�-\udc7f]|\ud83d[\udc00-\udd79�-\udda3�-\uded0�-\udeec�-\udef3�-\udf73�-\udfd4]|\ud800[\udd00-\udd02�-\udd33�-\udd3f�-\udd9b�-\uddfc�-\udefb]|\ud834[\udc00-\udcf5�-\udd26�-\udd66�-\udd7a�\udd84�-\udda9�-\udde8�-\udf56�-\udf71]|\ud83c[\udc00-\udc2b�-\udc93�-\udcae�-\udcbf�-\udccf�-\udcf5�-\udd0c�-\udd2e�-\udd6b�-\udd9a�-\uddff�\ude02�-\ude3a�-\ude48�\ude51�-\udfff]"},{name:"Coptic",bmp:"Ϣ-ϯⲀ-ⳳ⳹-⳿"},{name:"Cuneiform",astral:"\ud809[\udc00-\udc6e�-\udc74�-\udd43]|\ud808[\udc00-\udf99]"},{name:"Cypriot",astral:"\ud802[\udc00-\udc05�\udc0a-\udc35�\udc38�\udc3f]"},{name:"Cyrillic",bmp:"Ѐ-҄҇-ԯᴫᵸⷠ-ⷿꙀ-ꚟ︮︯"},{name:"Deseret",astral:"\ud801[\udc00-\udc4f]"},{name:"Devanagari",bmp:"ऀ-ॐ॓-ॣ०-ॿ꣠-ꣽ"},{name:"Duployan",astral:"\ud82f[\udc00-\udc6a�-\udc7c�-\udc88�-\udc99�-\udc9f]"},{name:"Egyptian_Hieroglyphs",astral:"\ud80c[\udc00-\udfff]|\ud80d[\udc00-\udc2e]"},{name:"Elbasan",astral:"\ud801[\udd00-\udd27]"},{name:"Ethiopic",bmp:"ሀ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚ፝-፼ᎀ-᎙ⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮ"},{name:"Georgian",bmp:"Ⴀ-ჅჇჍა-ჺჼ-ჿⴀ-ⴥⴧⴭ"},{name:"Glagolitic",bmp:"Ⰰ-Ⱞⰰ-ⱞ"},{name:"Gothic",astral:"\ud800[\udf30-\udf4a]"},{name:"Grantha",astral:"\ud804[\udf00-\udf03�-\udf0c�\udf10�-\udf28�-\udf30�\udf33�-\udf39�-\udf44�\udf48�-\udf4d�\udf57�-\udf63�-\udf6c�-\udf74]"},{name:"Greek",bmp:"Ͱ-ͳ͵-ͷͺ-ͽͿ΄ΆΈ-ΊΌΎ-ΡΣ-ϡϰ-Ͽᴦ-ᴪᵝ-ᵡᵦ-ᵪᶿἀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ῄῆ-ΐῖ-Ί῝-`ῲ-ῴῶ-῾Ωꭥ",astral:"\ud800[\udd40-\udd8c�]|\ud834[\ude00-\ude45]"},{name:"Gujarati",bmp:"ઁ-ઃઅ-ઍએ-ઑઓ-નપ-રલળવ-હ઼-ૅે-ૉો-્ૐૠ-ૣ૦-૱ૹ"},{name:"Gurmukhi",bmp:"ਁ-ਃਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹ਼ਾ-ੂੇੈੋ-੍ੑਖ਼-ੜਫ਼੦-ੵ"},{name:"Han",bmp:"⺀-⺙⺛-⻳⼀-⿕々〇〡-〩〸-〻㐀-䶵一-鿕豈-舘並-龎",astral:"\ud86e[\udc00-\udc1d�-\udfff]|[\ud840-\ud868\ud86a-\ud86c\ud86f-\ud872][\udc00-\udfff]|\ud86d[\udc00-\udf34�-\udfff]|\ud87e[\udc00-\ude1d]|\ud869[\udc00-\uded6�-\udfff]|\ud873[\udc00-\udea1]"},{name:"Hangul",bmp:"ᄀ-ᇿ〮〯ㄱ-ㆎ㈀-㈞㉠-㉾ꥠ-ꥼ가-힣ힰ-ퟆퟋ-ퟻﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ"},{name:"Hanunoo",bmp:"ᜠ-᜴"},{name:"Hatran",astral:"\ud802[\udce0-\udcf2�\udcf5�-\udcff]"},{name:"Hebrew",bmp:"֑-ׇא-תװ-״יִ-זּטּ-לּמּנּסּףּפּצּ-ﭏ"},{name:"Hiragana",bmp:"ぁ-ゖゝ-ゟ",astral:"𛀁|🈀"},{name:"Imperial_Aramaic",astral:"\ud802[\udc40-\udc55�-\udc5f]"},{name:"Inherited",bmp:"̀-ًͯ҅҆-ٰٕ॒॑᪰-᪾᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸᳹᷀-᷵᷼-᷿‌‍⃐-〪⃰-゙゚〭︀-️︠-︭",astral:"\ud834[\udd67-\udd69�-\udd82�-\udd8b�-\uddad]|\ud800[\uddfd�]|\udb40[\udd00-\uddef]"},{name:"Inscriptional_Pahlavi",astral:"\ud802[\udf60-\udf72�-\udf7f]"},{name:"Inscriptional_Parthian",astral:"\ud802[\udf40-\udf55�-\udf5f]"},{name:"Javanese",bmp:"ꦀ-꧍꧐-꧙꧞꧟"},{name:"Kaithi",astral:"\ud804[\udc80-\udcc1]"},{name:"Kannada",bmp:"ಁ-ಃಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹ಼-ೄೆ-ೈೊ-್ೕೖೞೠ-ೣ೦-೯ೱೲ"},{name:"Katakana",bmp:"ァ-ヺヽ-ヿㇰ-ㇿ㋐-㋾㌀-㍗ｦ-ｯｱ-ﾝ",astral:"𛀀"},{name:"Kayah_Li",bmp:"꤀-꤭꤯"},{name:"Kharoshthi",astral:"\ud802[\ude00-\ude03�\ude06�-\ude13�-\ude17�-\ude33�-\ude3a�-\ude47�-\ude58]"},{name:"Khmer",bmp:"ក-៝០-៩៰-៹᧠-᧿"},{name:"Khojki",astral:"\ud804[\ude00-\ude11�-\ude3d]"},{name:"Khudawadi",astral:"\ud804[\udeb0-\udeea�-\udef9]"},{name:"Lao",bmp:"ກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ູົ-ຽເ-ໄໆ່-ໍ໐-໙ໜ-ໟ"},{name:"Latin",bmp:"A-Za-zªºÀ-ÖØ-öø-ʸˠ-ˤᴀ-ᴥᴬ-ᵜᵢ-ᵥᵫ-ᵷᵹ-ᶾḀ-ỿⁱⁿₐ-ₜKÅℲⅎⅠ-ↈⱠ-ⱿꜢ-ꞇꞋ-ꞭꞰ-ꞷꟷ-ꟿꬰ-ꭚꭜ-ꭤﬀ-ﬆＡ-Ｚａ-ｚ"},{name:"Lepcha",bmp:"ᰀ-᰷᰻-᱉ᱍ-ᱏ"},{name:"Limbu",bmp:"ᤀ-ᤞᤠ-ᤫᤰ-᤻᥀᥄-᥏"},{name:"Linear_A",astral:"\ud801[\ude00-\udf36�-\udf55�-\udf67]"},{name:"Linear_B",astral:"\ud800[\udc00-\udc0b�-\udc26�-\udc3a�\udc3d�-\udc4d�-\udc5d�-\udcfa]"},{name:"Lisu",bmp:"ꓐ-꓿"},{name:"Lycian",astral:"\ud800[\ude80-\ude9c]"},{name:"Lydian",astral:"\ud802[\udd20-\udd39�]"},{name:"Mahajani",astral:"\ud804[\udd50-\udd76]"},{name:"Malayalam",bmp:"ഁ-ഃഅ-ഌഎ-ഐഒ-ഺഽ-ൄെ-ൈൊ-ൎൗൟ-ൣ൦-൵൹-ൿ"},{name:"Mandaic",bmp:"ࡀ-࡛࡞"},{name:"Manichaean",astral:"\ud802[\udec0-\udee6�-\udef6]"},{name:"Meetei_Mayek",bmp:"ꫠ-꫶ꯀ-꯭꯰-꯹"},{name:"Mende_Kikakui",astral:"\ud83a[\udc00-\udcc4�-\udcd6]"},{name:"Meroitic_Cursive",astral:"\ud802[\udda0-\uddb7�-\uddcf�-\uddff]"},{name:"Meroitic_Hieroglyphs",astral:"\ud802[\udd80-\udd9f]"},{name:"Miao",astral:"\ud81b[\udf00-\udf44�-\udf7e�-\udf9f]"},{name:"Modi",astral:"\ud805[\ude00-\ude44�-\ude59]"},{name:"Mongolian",bmp:"᠀᠁᠄᠆-᠎᠐-᠙ᠠ-ᡷᢀ-ᢪ"},{name:"Mro",astral:"\ud81a[\ude40-\ude5e�-\ude69�\ude6f]"},{name:"Multani",astral:"\ud804[\ude80-\ude86�\ude8a-\ude8d�-\ude9d�-\udea9]"},{name:"Myanmar",bmp:"က-႟ꧠ-ꧾꩠ-ꩿ"},{name:"Nabataean",astral:"\ud802[\udc80-\udc9e�-\udcaf]"},{name:"New_Tai_Lue",bmp:"ᦀ-ᦫᦰ-ᧉ᧐-᧚᧞᧟"},{name:"Nko",bmp:"߀-ߺ"},{name:"Ogham",bmp:" -᚜"},{name:"Ol_Chiki",bmp:"᱐-᱿"},{name:"Old_Hungarian",astral:"\ud803[\udc80-\udcb2�-\udcf2�-\udcff]"},{name:"Old_Italic",astral:"\ud800[\udf00-\udf23]"},{name:"Old_North_Arabian",astral:"\ud802[\ude80-\ude9f]"},{name:"Old_Permic",astral:"\ud800[\udf50-\udf7a]"},{name:"Old_Persian",astral:"\ud800[\udfa0-\udfc3�-\udfd5]"},{name:"Old_South_Arabian",astral:"\ud802[\ude60-\ude7f]"},{name:"Old_Turkic",astral:"\ud803[\udc00-\udc48]"},{name:"Oriya",bmp:"ଁ-ଃଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହ଼-ୄେୈୋ-୍ୖୗଡ଼ଢ଼ୟ-ୣ୦-୷"},{name:"Osmanya",astral:"\ud801[\udc80-\udc9d�-\udca9]"},{name:"Pahawh_Hmong",astral:"\ud81a[\udf00-\udf45�-\udf59�-\udf61�-\udf77�-\udf8f]"},{name:"Palmyrene",astral:"\ud802[\udc60-\udc7f]"},{name:"Pau_Cin_Hau",astral:"\ud806[\udec0-\udef8]"},{name:"Phags_Pa",bmp:"ꡀ-꡷"},{name:"Phoenician",astral:"\ud802[\udd00-\udd1b�]"},{name:"Psalter_Pahlavi",astral:"\ud802[\udf80-\udf91�-\udf9c�-\udfaf]"},{name:"Rejang",bmp:"ꤰ-꥓꥟"},{name:"Runic",bmp:"ᚠ-ᛪᛮ-ᛸ"},{name:"Samaritan",bmp:"ࠀ-࠭࠰-࠾"},{name:"Saurashtra",bmp:"ꢀ-꣄꣎-꣙"},{name:"Sharada",astral:"\ud804[\udd80-\uddcd�-\udddf]"},{name:"Shavian",astral:"\ud801[\udc50-\udc7f]"},{name:"Siddham",astral:"\ud805[\udd80-\uddb5�-\udddd]"},{name:"SignWriting",astral:"\ud836[\udc00-\ude8b�-\ude9f�-\udeaf]"},{name:"Sinhala",bmp:"ංඃඅ-ඖක-නඳ-රලව-ෆ්ා-ුූෘ-ෟ෦-෯ෲ-෴",astral:"\ud804[\udde1-\uddf4]"},{name:"Sora_Sompeng",astral:"\ud804[\udcd0-\udce8�-\udcf9]"},{name:"Sundanese",bmp:"ᮀ-ᮿ᳀-᳇"},{name:"Syloti_Nagri",bmp:"ꠀ-꠫"},{name:"Syriac",bmp:"܀-܍܏-݊ݍ-ݏ"},{name:"Tagalog",bmp:"ᜀ-ᜌᜎ-᜔"},{name:"Tagbanwa",bmp:"ᝠ-ᝬᝮ-ᝰᝲᝳ"},{name:"Tai_Le",bmp:"ᥐ-ᥭᥰ-ᥴ"},{name:"Tai_Tham",bmp:"ᨠ-ᩞ᩠-᩿᩼-᪉᪐-᪙᪠-᪭"},{name:"Tai_Viet",bmp:"ꪀ-ꫂꫛ-꫟"},{name:"Takri",astral:"\ud805[\ude80-\udeb7�-\udec9]"},{name:"Tamil",bmp:"ஂஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹா-ூெ-ைொ-்ௐௗ௦-௺"},{name:"Telugu",bmp:"ఀ-ఃఅ-ఌఎ-ఐఒ-నప-హఽ-ౄె-ైొ-్ౕౖౘ-ౚౠ-ౣ౦-౯౸-౿"},{name:"Thaana",bmp:"ހ-ޱ"},{name:"Thai",bmp:"ก-ฺเ-๛"},{name:"Tibetan",bmp:"ༀ-ཇཉ-ཬཱ-ྗྙ-ྼ྾-࿌࿎-࿔࿙࿚"},{name:"Tifinagh",bmp:"ⴰ-ⵧⵯ⵰⵿"},{name:"Tirhuta",astral:"\ud805[\udc80-\udcc7�-\udcd9]"},{name:"Ugaritic",astral:"\ud800[\udf80-\udf9d�]"},{name:"Vai",bmp:"ꔀ-ꘫ"},{name:"Warang_Citi",astral:"\ud806[\udca0-\udcf2�]"},{name:"Yi",bmp:"ꀀ-ꒌ꒐-꓆"}])}(e),e}),define("passbolt-mad/util/lang/i18n",["exports","passbolt-mad/util/util"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),("undefined"!=typeof window?window:global).__=function(e){var t=Array.prototype.slice.call(arguments,1);return mad.I18n.translate(e,t)};var t=mad.I18n=can.Construct.extend("mad.I18n",{dico:{},translate:function(e,t){var t=void 0!==t?t:[];return mad.I18n.replaceHooks(this.getEntry(e),t)},loadDico:function(e){for(var t in e)mad.I18n.dico[t]=e[t]},replaceHooks:function(e,t){var n="",s=[];if((s=e.split("%s")).length<2)return e;var i;for(var r in t){if(i=parseInt(r),"string"!=typeof t[i]&&"number"!=typeof t[i]&&"boolean"!=typeof t[i]&&null!==t[i])throw mad.Exception.get("mad.I18n::replaceHooks() expects variables to be scalar");n+=s[r]+t[i]}return n+=void 0!==s[i+1]?s[i+1]:""},getEntry:function(e){return void 0!==mad.I18n.dico[e]&&""!=this.dico[e]?mad.I18n.dico[e]:e}},{});e.default=t}),define("passbolt-mad/util/validation",["exports","xregexp","passbolt-mad/util/lang/i18n"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(t),s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=mad.Validation=can.Construct.extend("mad.Validation",{validate:function(e,t,n,i){if("object"==(void 0===e?"undefined":s(e))){if(i=e,void 0===e.rule)throw mad.Exception.get(mad.error.WRONG_PARAMETER,"rule.rule");"0"==e.rule.indexOf("/")?e="regex":$.isArray(e.rule)?(i.params=e.rule.slice(1),e=e.rule[0]):e=e.rule}if(void 0===mad.Validation[e])throw mad.Exception.get(mad.error.WRONG_PARAMETER,"rule");return mad.Validation[e](t,n,i)},_getAlphaRegExp:function(e){var t="\\p{L}";if(e)switch(e){case"ASCII":t="a-zA-Z";break;default:t="\\p{"+e+"}"}return t},regex:function(e,t,s){var i=!0,r=(s=s||{}).rule,a=s.not||!1;0==r.indexOf("/")&&(r=r.substr(1,r.length-(r.length-r.lastIndexOf("/")+1)));var o=new n.default(r).test(e);return(a&&o||!a&&!o)&&(i=s.message||__("The regex is not validated")),i},notEmpty:function(e,t,n){return!(void 0===e||null==e||$.isArray(e)&&!e.length||""==$.trim(e))||n.message||__("Should not be empty")},notBlank:function(e,t,n){return this.notEmpty(e,t,n)},uuid:function(e,t,s){return s=s||{},!!new n.default("^[abcdef0-9]{8}-[abcdef0-9]{4}-[abcdef0-9]{4}-[abcdef0-9]{4}-[abcdef0-9]{12}$").test(e)||__("Not valid uuid")},alphaNumeric:function(e,t,s){s=s||{};var i=mad.Validation._getAlphaRegExp(s.type);return!!new n.default("^["+i+" '0-9]*$").test(e)||__("Only alpha-numeric characters allowed")},alpha:function(e,t,s){s=s||{};var i=mad.Validation._getAlphaRegExp(s.type);return!!(0,n.default)("^["+i+" ']*$").test(e)||__("Only "+s.type+" characters allowed")},num:function(e){return!!(0,n.default)("^-?[0-9]+.?[0-9]*$").test(e)||__("Only numeric characters allowed")},required:function(e){var t=(0,n.default)("^[s\n\t ]*$");return void 0!==e&&null!==e&&!t.test(e)||__("This information is required")},text:function(e){return!(0,n.default)("<(.|\n)*?>").test(e)||__("No HTML tags allowed")},url:function(e){return!(0,n.default)("^\t\t\t\t([a-z0-9+.-]+):\t\t\t\t\t(?:\t\t\t\t\t\t(?:((?:[a-z0-9-._~!$&'()*+,;=:]|%[0-9A-F]{2})*)@)?\t\t\t\t\t\t((?:[a-z0-9-._~!$&'()*+,;=]|%[0-9A-F]{2})*)\t\t\t\t\t\t(?::(d*))?\t\t\t\t\t\t(/(?:[a-z0-9-._~!$&'()*+,;=:@/]|%[0-9A-F]{2})*)?\t\t\t\t\t|\t\t\t\t\t\t(/?(?:[a-z0-9-._~!$&'()*+,;=:@]|%[0-9A-F]{2})+(?:[a-z0-9-._~!$&'()*+,;=:@/]|%[0-9A-F]{2})*)?\t\t\t\t)\t\t\t\t(?:\t\t\t\t\t((?:[a-z0-9-._~!$&'()*+,;=:/?@]|%[0-9A-F]{2})*)\t\t\t\t)?\t\t\t\t(?:\t\t\t\t\t#((?:[a-z0-9-._~!$&'()*+,;=:/?@]|%[0-9A-F]{2})*)\t\t\t\t)?\t\t\t$").test(e)||__("Not valid url.")},nospace:function(e){return!(0,n.default)("[ ]+").test(e)||__("No space are allowed")},email:function(e){return!!(0,n.default)("^[\\p{L}0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[\\p{L}0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[_\\p{L}0-9][-_\\p{L}0-9]*\\.)*(?:[\\p{L}0-9][-\\p{L}0-9]{0,62})\\.(?:(?:[a-z]{2}\\.)?[a-z]{2,})$").test(e)||__("Only email format is allowed")},date:function(e,t,n){e=e||"";var s=(n=n||{}).format||"dd/mm/yyyy",i=null,r=null,a=null,o=[0,31,29,31,30,31,30,31,31,30,31,30,31],u="",d=!0;switch(s){case"m/d/y":u=/^(\d{1,2})[./-](\d{1,2})[./-](\d{2}|\d{4})$/,r=1,a=2,i=3;break;case"mm/dd/yy":u=/^(\d{1,2})[./-](\d{1,2})[./-](\d{2})$/,r=1,a=2,i=3;break;case"mm/dd/yyyy":u=/^(\d{1,2})[./-](\d{1,2})[./-](\d{4})$/,r=1,a=2,i=3;break;case"dd/mm/yyyy":u=/^(\d{1,2})[./-](\d{1,2})[./-](\d{4})$/,r=2,a=1,i=3;break;case"d/m/yy":u=/^(\d{1,2})[./-](\d{1,2})[./-](\d{2}|\d{4})$/,r=2,a=1,i=3;break;case"y/m/d":u=/^(\d{2}|\d{4})[./-](\d{1,2})[./-](\d{1,2})$/,r=2,a=3,i=1;break;case"yy/mm/dd":u=/^(\d{4}|\d{1,2})[./-](\d{1,2})[./-](\d{1,2})$/,r=2,a=3,i=1;break;case"yyyy/mm/dd":u=/^(\d{4})[./-](\d{1,2})[./-](\d{1,2})$/,r=2,a=3,i=1}var l=e.match(u);if(l){var c=1*l[i],p=1*l[r],f=1*l[a];(f<1||f>o[p]||p<1||p>12)&&(d=__("The date format is incorect, expected : ")+s),2==p&&29==f&&(c%4==0&&(c%100!=0||c%1e3==0)||(d=__("The year %s is not a leap year",c)))}else d=__("The date format is incorect, expected : ")+s;return d},lengthBetween:function(e,t,n){e=e||"";var s=!0,i=(n=n||[]).params[0]||null,r=n.params[1]||null;return(null!=i&&e.length<i||null!=r&&e.length>r)&&(s=n.message?__(n.message,i,r):__("Must be between %s and %s characters long",i,r)),s},foreignRule:function(e,t){var n=!0;if(t.model&&t.model.validateRules&&t.attribute)for(var s in t.model.validateRules[t.attribute]){var i=t.model.validateRules[t.attribute][s],r=mad.Validation.validate(i,e);if(!0!==r){n=r;break}}return n},choice:function(e,t){var n=!0,s=[];return e=void 0===e?null:e,t.choices?s=t.choices:t.callback&&(s=t.callback.apply(this)),-1==s.indexOf(e)&&(n=__("%s is not a valid value",e)),n}},{});e.default=i}),define("can/map/attributes/attributes",["can/util/util","can/map/map","can/list/list"],function(e,t){e.each([e.Map,e.Model],function(t){if(void 0!==t){var n=function(e){return"object"==typeof e&&null!==e&&e};e.extend(t,{attributes:{},convert:{date:function(e){var t=typeof e;return"string"===t?(e=Date.parse(e),isNaN(e)?null:new Date(e)):"number"===t?new Date(e):e},number:function(e){return parseFloat(e)},boolean:function(e){return!("false"===e||"0"===e||!e)},default:function(t,n,s,i){if(e.Map.prototype.isPrototypeOf(i.prototype)&&"function"==typeof i.model&&"function"==typeof i.models)return i[e.isArray(t)?"models":"model"](t);if(e.Map.prototype.isPrototypeOf(i.prototype))return e.isArray(t)&&"function"==typeof i.List?new i.List(t):new i(t);if("function"==typeof i)return i(t,n);var r,a=e.getObject(i),o=window;return i.indexOf(".")>=0&&(r=i.substring(0,i.lastIndexOf(".")),o=e.getObject(r)),"function"==typeof a?a.call(o,t,n):t}},serialize:{default:function(e,t){return n(e)&&e.serialize?e.serialize():e},date:function(e){return e&&e.getTime()}}});var s=t.setup;t.setup=function(t,n,i){var r=this;s.call(r,t,n,i),e.each(["attributes"],function(e){r[e]&&t[e]!==r[e]||(r[e]={})}),e.each(["convert","serialize"],function(n){t[n]!==r[n]&&(r[n]=e.extend({},t[n],r[n]))})}}}),e.Map.prototype.__convert=function(e,t){var n,s,i=this.constructor,r=this.__get(e);return i.attributes&&(n=i.attributes[e],s=i.convert[n]||i.convert.default),null!==t&&n?s.call(i,t,r,function(){},n):t};var n=e.Map.helpers._serialize;e.Map.helpers._serialize=function(e,t,s){var i=e.constructor,r=i.attributes?i.attributes[t]:0,a=i.serialize?i.serialize[r]:0;return s&&"function"==typeof s.serialize?n.apply(this,arguments):a?a(s,r):n.apply(this,arguments)};var s=e.Map.prototype.serialize;return e.Map.prototype.serialize=function(e){var t=s.apply(this,arguments);return e?t[e]:t},e.Map}),define("passbolt-mad/model/list",["exports","can/construct/construct","passbolt-mad/model/model"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),mad.model=mad.model||{};var t=mad.model.List=can.Construct.extend("mad.model.List",{indexOf:function(e,t){var n=-1,s=t instanceof mad.Model?t.id:t;return can.each(e,function(e,t){if(e.id==s)return n=t,!1}),n},remove:function(e,t){var n=mad.model.List.indexOf(e,t);return-1!=n&&(e.splice(n,1),!0)}},{});e.default=t}),define("passbolt-mad/model/serializer/serializer",["exports","can/construct/construct"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),mad.model.serializer=mad.model.serializer||{};var t=mad.model.serializer.Serializer=can.Construct.extend("mad.model.serializer.Serializer",{from:function(e){},to:function(e){}},{});e.default=t}),define("passbolt-mad/model/serializer/cake_serializer",["exports","can/construct/construct","passbolt-mad/model/serializer/serializer"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),mad.model.serializer=mad.model.serializer||{};var t=mad.model.serializer.CakeSerializer=can.Construct.extend("mad.model.serializer.CakeSerializer",{from:function(e,t){var n={};return n=$.extend(!0,{},e,e[t.shortName]),delete n[t.shortName],n},to:function(e,t){var n={};n[t.shortName]={};for(var s in e)t.isModelAttribute(s)?n[s]=e[s]:n[t.shortName][s]=e[s];return n}},{});e.default=t}),define("passbolt-mad/model/model",["exports","passbolt-mad/util/util","can/map/attributes/attributes","passbolt-mad/model/list","passbolt-mad/model/serializer/cake_serializer"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(t);n.default.model=n.default.model||{};var s=n.default.Model=can.Model.extend("mad.Model",{forceStore:!1,madStore:new can.Model.List,validationRules:{},getModelAttributeValue:function(e,t){for(var s=[],i=n.default.Model.getModelAttributes(e),r=t,a=1;a<i.length;a++)i[a-1].isMultiple()?(s=[],r.each(function(e){s.push(e[i[a].getName()])})):(r=can.getObject(i[a].getName(),r),s=r);return s},getModelAttributes:function(e){var t=[],s=e.match(/[\.]?[A-Z][^.]*/),i=e.substr(0,s.index+s[0].length),r=e.substr(i.length+1),a=can.getObject(i);t.push(new n.default.model.Attribute({name:i,multiple:!1,modelReference:a}));var o=r.split(".");for(var u in o){var d=a.attributes[o[u]],l="",c=!1;/models?$/.test(d)?(s=d.match(/(.*)\.models?$/),l=o[u],a=can.getObject(s[1]),c=/models$/.test(d)):(l=o[u],a=void 0),t.push(new n.default.model.Attribute({name:l,multiple:c,modelReference:a}))}return t},isModelAttribute:function(e){return/model[s]?$/.test(this.attributes[e])},isMultipleAttribute:function(e){return/models$/.test(this.attributes[e])},parseModel:function(e,t){return e=e||{},n.default.net.Response.isResponse(e)?(console.debug("mad.model.parseModel : mad.net.Response.isResponse == true"),e=n.default.net.Response.getData(e),e=n.default.model.serializer.CakeSerializer.from(e,this)):e[this.shortName]&&(e=n.default.model.serializer.CakeSerializer.from(e,this)),e},getValidationRules:function(e){return void 0!==e&&null!=e||(e="default"),this.validationRules||{}},isRequired:function(e,t){var n=!1,s=this.getValidationRules(t);return $.isArray(s[e])&&(n=s[e].reduce(function(e,t){return t.rule&&"required"==t.rule&&(e=!0),e},!1)),n},search:function(e,t,s){var i=[],r=t.split("."),a=r[0],o=r[1];for(var u in e){if($.isArray(e[u][a]))for(var d in e[u][a])e[u][a][d][o]==s&&i.push(e[u]);else e[u][a][o]==s&&i.push(e[u]);if(e[u].children){var l=n.default.model.Model.search(e[u].children,t,s);l.length&&(i=$.merge(i,l))}}return i},searchOne:function(e,t,s){var i=null,r=n.default.Model.search(e,t,s);return r.length&&(i=r[0]),i},validateAttribute:function(e,t,s,i){var r=[];void 0===i&&(i="default");var a=this.getValidationRules(i);if(void 0!==a[e]){var o=this.isRequired(e,i),u=n.default.Validation.validate("required",t);if(o&&!0!==u)return r.push(u),r;if(!o&&!0!==u)return r;var d=a[e];for(var l in d){var c=n.default.Validation.validate(d[l],t,s);!0!==c&&r.push(c)}}return r}},{});e.default=s,function(e){var t;Object.defineProperty(e.default,"default",{configurable:!0,set:function(n){e.default.__esModule&&(e.default=n),t=n},get:function(){return t}})}(n)}),define("passbolt-mad/model/state",["exports","passbolt-mad/model/model"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=mad.model.State=mad.Model.extend("mad.model.State",{attributes:{previous:"can.List",current:"can.List"}},{init:function(){this.previous=new can.List([]),this.current=new can.List([])},is:function(e){return null==e&&!this.current.length||-1!=this.current.indexOf(e)},was:function(e){return null==e&&!this.previous.length||-1!=this.previous.indexOf(e)},setState:function(e){void 0===e&&(e=[]),e=$.isArray(e)?e:[e],this.previous.replace(this.current.attr()),this.current.replace(e)},addState:function(e){e=$.isArray(e)?e:[e],this.previous.replace(this.current.attr()),$.each(this.current.attr(),function(t,n){e.push(n)}),this.current.replace(e)},removeState:function(e){e=$.isArray(e)?e:[e];var t=[];this.previous.replace(this.current.attr()),$.each(this.current.attr(),function(n,s){-1==e.indexOf(s)&&t.push(s)}),this.current.replace(t)},toString:function(e){return void 0===e&&(e=","),this.current.join(e)}});e.default=t}),define("passbolt-mad/model/attribute",["exports","passbolt-mad/model/model"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=mad.model.Attribute=mad.Model.extend("mad.model.Attribute",{attributes:{name:"string",type:"string",modelReference:"object",multiple:"boolean"}},{getModelReference:function(){return this.modelReference},getName:function(){return this.name},isMultiple:function(){return this.multiple}});e.default=t}),define("passbolt-mad/control/control",["exports","passbolt-mad/util/util"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(t),s=n.default.Control=can.Control.extend("mad.Control",{init:function(e,t){if(!e||!$(e).length)throw new n.default.Exception('The parameter "el" ('+$(e).selector+") should refer to an existing DOM node.");if(void 0===t.id||null==t.id||""==t.id)void 0!==(s=this.element.attr("id"))&&""!=s?t.id=s:(t.id=uuid(),this.element.attr("id",t.id));else{var s=this.element.attr("id");""!=s&&console.warn("Controller id is defined by options and by template, the template id will be overriden by the option id."),this.element.attr("id",t.id)}this.options=$.extend(!0,{},this.options,t),n.default.referenceControl(this)},destroy:function(){n.default.unreferenceControl(this),this._super()},getAlias:function(e){e=void 0===e?"camel":e;var t="",n=this.constructor.shortName.replace(/Controller$/,"");switch(e){case"under":t=jQuery.String.underscore(n);break;case"camel":default:t=n}return t},getComponent:function(e){return console.warn("This function is deprecated, replace it with mad.getControl(id)"),n.default.app.getComponent(e)},getClass:function(){return this.constructor},getId:function(){return this.options.id},remove:function(){this.element.remove()}});e.default=s}),define("passbolt-mad/view/view",["exports","passbolt-mad/control/control","passbolt-mad/helper/control"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),mad.view=mad.view||{};var t=mad.View=mad.Control.extend("mad.View",{defaults:{template:null,element:null},render:function(e,t){return can.view.render(e,t)}},{getController:function(){return this.options.controller},addClass:function(e){this.element.addClass(e)},hide:function(){this.element.hide()},loading:function(e){e?this.element.prepend('<div class="js_loading" />'):$(".js_loading",this.element).remove()},removeClass:function(e){this.element.removeClass(e)},position:function(e){mad.helper.Html.position(this.element,e)},render:function(){return mad.View.render(this.options.template,this.getController().getViewData())},insertInDom:function(e){this.element.html(e)},show:function(){this.element.show()}});e.default=t}),define("can/view/ejs/ejs",["can/util/util","can/view/view","can/util/string/string","can/compute/compute","can/view/scanner","can/view/render"],function(e){var t=e.extend,n=function(e){if(this.constructor!==n){var s=new n(e);return function(e,t){return s.render(e,t)}}"function"!=typeof e?(t(this,e),this.template=this.scanner.scan(this.text,this.name)):this.template={fn:e}};return e.EJS=n,n.prototype.render=function(e,t){return e=e||{},this.template.fn.call(e,e,new n.Helpers(e,t||{}))},t(n.prototype,{scanner:new e.view.Scanner({text:{outStart:"with(_VIEW) { with (_CONTEXT) {",outEnd:"}}",argNames:"_CONTEXT,_VIEW",context:"this"},tokens:[["templateLeft","<%%"],["templateRight","%>"],["returnLeft","<%=="],["escapeLeft","<%="],["commentLeft","<%#"],["left","<%"],["right","%>"],["returnRight","%>"]],helpers:[{name:/\s*\(([\$\w]+)\)\s*->([^\n]*)/,fn:function(e){var t=e.match(/\s*\(([\$\w]+)\)\s*->([^\n]*)/);return"can.proxy(function(__){var "+t[1]+"=can.$(__);"+t[2]+"}, this);"}}],transform:function(e){return e.replace(/<%([\s\S]+?)%>/gm,function(e,t){var n,s,i=[];t.replace(/[{}]/gm,function(e,t){i.push([e,t])});do{for(n=!1,s=i.length-2;s>=0;s--)if("{"===i[s][0]&&"}"===i[s+1][0]){i.splice(s,2),n=!0;break}}while(n);if(i.length>=2){var r,a=["<%"],o=0;for(s=0;r=i[s];s++)a.push(t.substring(o,o=r[1])),"{"===r[0]&&s<i.length-1||"}"===r[0]&&s>0?a.push("{"===r[0]?"{ %><% ":" %><% }"):a.push(r[0]),++o;return a.push(t.substring(o),"%>"),a.join("")}return"<%"+t+"%>"})}})}),n.Helpers=function(e,n){this._data=e,this._extras=n,t(this,n)},n.Helpers.prototype={list:function(t,n){e.each(t,function(e,s){n(e,s,t)})},each:function(t,n){e.isArray(t)?this.list(t,n):e.view.lists(t,n)}},e.view.register({suffix:"ejs",script:function(e,t){return"can.EJS(function(_CONTEXT,_VIEW) { "+new n({text:t,name:e}).template.out+" })"},renderer:function(e,t){return n({text:t,name:e})}}),e.ejs.Helpers=n.Helpers,e}),define("passbolt-mad/lib/can/viewEjsSystem",[],function(){return{}}),define("passbolt-mad/view/template/component/default.ejs!passbolt-mad/lib/can/viewEjsSystem",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("passbolt-mad_view_template_component_default_ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push('<div class="component">\n</div>\n'),___v1ew.join("")}}))}),define("passbolt-mad/component/component",["exports","passbolt-mad/control/control","passbolt-mad/view/view","passbolt-mad/model/state","passbolt-mad/view/template/component/default.ejs!"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};mad.component=mad.component||{},mad.view.component=mad.view.component||{};var n=mad.Component=mad.Control.extend("mad.Component",{defaults:{icon:null,label:"ComponentController",cssClasses:["js_component"],state:"ready",tag:"div",template:null,viewClass:mad.View,viewData:{},silentLoading:!0}},{init:function(e,t){if(this._super(e,t),!this.options.viewClass instanceof mad.View)throw new mad.error.WrongParameter("options.viewClass","mad.View");this.state=new mad.model.State;for(var n in t.cssClasses)this.element.hasClass(this.options.cssClasses[n])||this.element.addClass(this.options.cssClasses[n])},destroy:function(){if(this.state.is("loading")&&mad.bus.trigger("passbolt_component_loading_complete",[this]),this.state.unbind("label"),void 0!==this.element&&null!=this.element){var e=this.state.current.attr();for(var t in e)this.element.removeClass(e[t]);for(var t in this.options.cssClasses)this.element.removeClass(this.options.cssClasses[t])}this.view&&this.view.destroy(),this._super()},_goNextStates:function(){var e=[],t=[],n=this.state.previous.attr(),s=this.state.current.attr(),i=mad.array.intersect(n,s);e=n.filter(function(e){return-1==i.indexOf(e)}),t=s.filter(function(e){return-1==i.indexOf(e)});for(var r in e){this.element.removeClass(e[r]);var a=this["state"+can.capitalize(e[r])];a&&a.call(this,!1)}for(var r in t){this.element.addClass(t[r]);var o=this["state"+can.capitalize(t[r])];o&&o.call(this,!0)}},setState:function(e){return this.state.setState(e),this._goNextStates(),this},setViewData:function(e,n){if("object"==(void 0===e?"undefined":t(e))){var s=e;for(var i in s)this.setViewData(i,s[i])}else this.options.viewData[e]=n;return this},getViewData:function(e){return void 0===e?this.options.viewData:this.options.viewData[e]},refresh:function(){if(null!=this.element){if(this.element.empty(),this.options.template&&null!=this.options.template){this.beforeRender();var e=this.view.render();e=this.afterRender(e),this.view.insertInDom(e)}return this.afterStart(),this.setState(this.options.state),this}console.warn("Try to refresh a component which doesn't have a DOM element.")},start:function(){if(this.setState("loading"),this.beforeStart(),this.initView(),this.options.template){this.beforeRender();var e=this.view.render();e=this.afterRender(e),this.view.insertInDom(e)}return this.afterStart(),this.setState(this.options.state),this},initView:function(){this.view=new this.options.viewClass(this.element,{template:this.options.template,cssClasses:this.options.cssClasses,controller:this}),this.setViewData("controller",this),this.setViewData("icon",this.options.icon),this.setViewData("label",this.options.label),this.setViewData("view",this.view)},beforeStart:function(){},afterStart:function(){},beforeRender:function(){this.setViewData("control",this)},afterRender:function(e){return e},render:function(e){this.start()},closest:function(e){var t="."+e._fullName,n=this.element.closest(t).data();for(var s in n.controls)if(n.controls[s].getClass().fullName==e.fullName)return n.controls[s];return null},stateLoading:function(e){this.view&&this.view.loading(e),e?mad.bus&&mad.bus.trigger("passbolt_component_loading_start",[this]):mad.bus&&mad.bus.trigger("passbolt_component_loading_complete",[this])},stateReady:function(e){},stateDisabled:function(e){},stateHidden:function(e){e?this.view.hide():this.view.show()}});e.default=n}),define("passbolt-mad",["exports","jquery","underscore","can/can","passbolt-mad/util/util","can/map/define/define","passbolt-mad/error/exception","passbolt-mad/error/error_handler","passbolt-mad/helper/component","passbolt-mad/helper/control","passbolt-mad/helper/html","passbolt-mad/config/config","passbolt-mad/util/array/array","passbolt-mad/util/map/map","passbolt-mad/util/validation","passbolt-mad/util/lang/i18n","passbolt-mad/model/model","passbolt-mad/model/list","passbolt-mad/model/state","passbolt-mad/model/attribute","passbolt-mad/control/control","passbolt-mad/view/view","passbolt-mad/component/component"],function(e,t,n,s,i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0}),r(t),r(n),r(s);var a=r(i);e.default=a.default}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("moment",t):e.moment=t()}(this,function(){"use strict";function e(){return jt.apply(null,arguments)}function t(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function n(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function s(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}function i(e){return void 0===e}function r(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function a(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function o(e,t){var n,s=[];for(n=0;n<e.length;++n)s.push(t(e[n],n));return s}function u(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function d(e,t){for(var n in t)u(t,n)&&(e[n]=t[n]);return u(t,"toString")&&(e.toString=t.toString),u(t,"valueOf")&&(e.valueOf=t.valueOf),e}function l(e,t,n,s){return Ve(e,t,n,s,!0).utc()}function c(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function p(e){return null==e._pf&&(e._pf=c()),e._pf}function f(e){if(null==e._isValid){var t=p(e),n=kt.call(t.parsedDateParts,function(e){return null!=e}),s=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(s=s&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return s;e._isValid=s}return e._isValid}function m(e){var t=l(NaN);return null!=e?d(p(t),e):p(t).userInvalidated=!0,t}function h(e,t){var n,s,r;if(i(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),i(t._i)||(e._i=t._i),i(t._f)||(e._f=t._f),i(t._l)||(e._l=t._l),i(t._strict)||(e._strict=t._strict),i(t._tzm)||(e._tzm=t._tzm),i(t._isUTC)||(e._isUTC=t._isUTC),i(t._offset)||(e._offset=t._offset),i(t._pf)||(e._pf=p(t)),i(t._locale)||(e._locale=t._locale),Et.length>0)for(n=0;n<Et.length;n++)i(r=t[s=Et[n]])||(e[s]=r);return e}function _(t){h(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===Tt&&(Tt=!0,e.updateOffset(this),Tt=!1)}function v(e){return e instanceof _||null!=e&&null!=e._isAMomentObject}function g(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function b(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=g(t)),n}function w(e,t,n){var s,i=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),a=0;for(s=0;s<i;s++)(n&&e[s]!==t[s]||!n&&b(e[s])!==b(t[s]))&&a++;return a+r}function y(t){!1===e.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function x(t,n){var s=!0;return d(function(){if(null!=e.deprecationHandler&&e.deprecationHandler(null,t),s){for(var i,r=[],a=0;a<arguments.length;a++){if(i="","object"==typeof arguments[a]){i+="\n["+a+"] ";for(var o in arguments[0])i+=o+": "+arguments[0][o]+", ";i=i.slice(0,-2)}else i=arguments[a];r.push(i)}y(t+"\nArguments: "+Array.prototype.slice.call(r).join("")+"\n"+(new Error).stack),s=!1}return n.apply(this,arguments)},n)}function C(t,n){null!=e.deprecationHandler&&e.deprecationHandler(t,n),It[t]||(y(n),It[t]=!0)}function S(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function j(e,t){var s,i=d({},e);for(s in t)u(t,s)&&(n(e[s])&&n(t[s])?(i[s]={},d(i[s],e[s]),d(i[s],t[s])):null!=t[s]?i[s]=t[s]:delete i[s]);for(s in e)u(e,s)&&!u(t,s)&&n(e[s])&&(i[s]=d({},i[s]));return i}function k(e){null!=e&&this.set(e)}function E(e,t){var n=e.toLowerCase();At[n]=At[n+"s"]=At[t]=e}function T(e){return"string"==typeof e?At[e]||At[e.toLowerCase()]:void 0}function I(e){var t,n,s={};for(n in e)u(e,n)&&(t=T(n))&&(s[t]=e[n]);return s}function M(e,t){Ot[e]=t}function A(e){var t=[];for(var n in e)t.push({unit:n,priority:Ot[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}function O(e,t,n){var s=""+Math.abs(e),i=t-s.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+s}function P(e,t,n,s){var i=s;"string"==typeof s&&(i=function(){return this[s]()}),e&&(Dt[e]=i),t&&(Dt[t[0]]=function(){return O(i.apply(this,arguments),t[1],t[2])}),n&&(Dt[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function N(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function R(e){var t,n,s=e.match(Pt);for(t=0,n=s.length;t<n;t++)Dt[s[t]]?s[t]=Dt[s[t]]:s[t]=N(s[t]);return function(t){var i,r="";for(i=0;i<n;i++)r+=S(s[i])?s[i].call(t,e):s[i];return r}}function D(e,t){return e.isValid()?(t=L(t,e.localeData()),Rt[t]=Rt[t]||R(t),Rt[t](e)):e.localeData().invalidDate()}function L(e,t){var n=5;for(Nt.lastIndex=0;n>=0&&Nt.test(e);)e=e.replace(Nt,function(e){return t.longDateFormat(e)||e}),Nt.lastIndex=0,n-=1;return e}function U(e,t,n){Kt[e]=S(t)?t:function(e,s){return e&&n?n:t}}function F(e,t){return u(Kt,e)?Kt[e](t._strict,t._locale):new RegExp($(e))}function $(e){return V(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,s,i){return t||n||s||i}))}function V(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function z(e,t){var n,s=t;for("string"==typeof e&&(e=[e]),r(t)&&(s=function(e,n){n[t]=b(e)}),n=0;n<e.length;n++)en[e[n]]=s}function G(e,t){z(e,function(e,n,s,i){s._w=s._w||{},t(e,s._w,s,i)})}function q(e,t,n){null!=t&&u(en,e)&&en[e](t,n._a,n,e)}function H(e){return B(e)?366:365}function B(e){return e%4==0&&e%100!=0||e%400==0}function W(t,n){return function(s){return null!=s?(X(this,t,s),e.updateOffset(this,n),this):Y(this,t)}}function Y(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function X(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&B(e.year())?e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Q(n,e.month())):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function J(e,t){return(e%t+t)%t}function Q(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=J(t,12);return e+=(t-n)/12,1===n?B(e)?29:28:31-n%7%2}function Z(e,t,n){var s,i,r,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],s=0;s<12;++s)r=l([2e3,s]),this._shortMonthsParse[s]=this.monthsShort(r,"").toLocaleLowerCase(),this._longMonthsParse[s]=this.months(r,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(i=cn.call(this._shortMonthsParse,a))?i:null:-1!==(i=cn.call(this._longMonthsParse,a))?i:null:"MMM"===t?-1!==(i=cn.call(this._shortMonthsParse,a))?i:-1!==(i=cn.call(this._longMonthsParse,a))?i:null:-1!==(i=cn.call(this._longMonthsParse,a))?i:-1!==(i=cn.call(this._shortMonthsParse,a))?i:null}function K(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=b(t);else if(t=e.localeData().monthsParse(t),!r(t))return e;return n=Math.min(e.date(),Q(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function ee(t){return null!=t?(K(this,t),e.updateOffset(this,!0),this):Y(this,"Month")}function te(){function e(e,t){return t.length-e.length}var t,n,s=[],i=[],r=[];for(t=0;t<12;t++)n=l([2e3,t]),s.push(this.monthsShort(n,"")),i.push(this.months(n,"")),r.push(this.months(n,"")),r.push(this.monthsShort(n,""));for(s.sort(e),i.sort(e),r.sort(e),t=0;t<12;t++)s[t]=V(s[t]),i[t]=V(i[t]);for(t=0;t<24;t++)r[t]=V(r[t]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+s.join("|")+")","i")}function ne(e,t,n,s,i,r,a){var o=new Date(e,t,n,s,i,r,a);return e<100&&e>=0&&isFinite(o.getFullYear())&&o.setFullYear(e),o}function se(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function ie(e,t,n){var s=7+t-n;return-(7+se(e,0,s).getUTCDay()-t)%7+s-1}function re(e,t,n,s,i){var r,a,o=1+7*(t-1)+(7+n-s)%7+ie(e,s,i);return o<=0?a=H(r=e-1)+o:o>H(e)?(r=e+1,a=o-H(e)):(r=e,a=o),{year:r,dayOfYear:a}}function ae(e,t,n){var s,i,r=ie(e.year(),t,n),a=Math.floor((e.dayOfYear()-r-1)/7)+1;return a<1?s=a+oe(i=e.year()-1,t,n):a>oe(e.year(),t,n)?(s=a-oe(e.year(),t,n),i=e.year()+1):(i=e.year(),s=a),{week:s,year:i}}function oe(e,t,n){var s=ie(e,t,n),i=ie(e+1,t,n);return(H(e)-s+i)/7}function ue(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}function de(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function le(e,t,n){var s,i,r,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],s=0;s<7;++s)r=l([2e3,1]).day(s),this._minWeekdaysParse[s]=this.weekdaysMin(r,"").toLocaleLowerCase(),this._shortWeekdaysParse[s]=this.weekdaysShort(r,"").toLocaleLowerCase(),this._weekdaysParse[s]=this.weekdays(r,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(i=cn.call(this._weekdaysParse,a))?i:null:"ddd"===t?-1!==(i=cn.call(this._shortWeekdaysParse,a))?i:null:-1!==(i=cn.call(this._minWeekdaysParse,a))?i:null:"dddd"===t?-1!==(i=cn.call(this._weekdaysParse,a))?i:-1!==(i=cn.call(this._shortWeekdaysParse,a))?i:-1!==(i=cn.call(this._minWeekdaysParse,a))?i:null:"ddd"===t?-1!==(i=cn.call(this._shortWeekdaysParse,a))?i:-1!==(i=cn.call(this._weekdaysParse,a))?i:-1!==(i=cn.call(this._minWeekdaysParse,a))?i:null:-1!==(i=cn.call(this._minWeekdaysParse,a))?i:-1!==(i=cn.call(this._weekdaysParse,a))?i:-1!==(i=cn.call(this._shortWeekdaysParse,a))?i:null}function ce(){function e(e,t){return t.length-e.length}var t,n,s,i,r,a=[],o=[],u=[],d=[];for(t=0;t<7;t++)n=l([2e3,1]).day(t),s=this.weekdaysMin(n,""),i=this.weekdaysShort(n,""),r=this.weekdays(n,""),a.push(s),o.push(i),u.push(r),d.push(s),d.push(i),d.push(r);for(a.sort(e),o.sort(e),u.sort(e),d.sort(e),t=0;t<7;t++)o[t]=V(o[t]),u[t]=V(u[t]),d[t]=V(d[t]);this._weekdaysRegex=new RegExp("^("+d.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function pe(){return this.hours()%12||12}function fe(e,t){P(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function me(e,t){return t._meridiemParse}function he(e){return e?e.toLowerCase().replace("_","-"):e}function _e(e){for(var t,n,s,i,r=0;r<e.length;){for(t=(i=he(e[r]).split("-")).length,n=(n=he(e[r+1]))?n.split("-"):null;t>0;){if(s=ve(i.slice(0,t).join("-")))return s;if(n&&n.length>=t&&w(i,n,!0)>=t-1)break;t--}r++}return null}function ve(e){var t=null;if(!En[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=Sn._abbr,require("./locale/"+e),ge(t)}catch(e){}return En[e]}function ge(e,t){var n;return e&&(n=i(t)?we(e):be(e,t))&&(Sn=n),Sn._abbr}function be(e,t){if(null!==t){var n=kn;if(t.abbr=e,null!=En[e])C("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=En[e]._config;else if(null!=t.parentLocale){if(null==En[t.parentLocale])return Tn[t.parentLocale]||(Tn[t.parentLocale]=[]),Tn[t.parentLocale].push({name:e,config:t}),null;n=En[t.parentLocale]._config}return En[e]=new k(j(n,t)),Tn[e]&&Tn[e].forEach(function(e){be(e.name,e.config)}),ge(e),En[e]}return delete En[e],null}function we(e){var n;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Sn;if(!t(e)){if(n=ve(e))return n;e=[e]}return _e(e)}function ye(e){var t,n=e._a;return n&&-2===p(e).overflow&&(t=n[nn]<0||n[nn]>11?nn:n[sn]<1||n[sn]>Q(n[tn],n[nn])?sn:n[rn]<0||n[rn]>24||24===n[rn]&&(0!==n[an]||0!==n[on]||0!==n[un])?rn:n[an]<0||n[an]>59?an:n[on]<0||n[on]>59?on:n[un]<0||n[un]>999?un:-1,p(e)._overflowDayOfYear&&(t<tn||t>sn)&&(t=sn),p(e)._overflowWeeks&&-1===t&&(t=dn),p(e)._overflowWeekday&&-1===t&&(t=ln),p(e).overflow=t),e}function xe(e,t,n){return null!=e?e:null!=t?t:n}function Ce(t){var n=new Date(e.now());return t._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function Se(e){var t,n,s,i,r=[];if(!e._d){for(s=Ce(e),e._w&&null==e._a[sn]&&null==e._a[nn]&&je(e),null!=e._dayOfYear&&(i=xe(e._a[tn],s[tn]),(e._dayOfYear>H(i)||0===e._dayOfYear)&&(p(e)._overflowDayOfYear=!0),n=se(i,0,e._dayOfYear),e._a[nn]=n.getUTCMonth(),e._a[sn]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=r[t]=s[t];for(;t<7;t++)e._a[t]=r[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[rn]&&0===e._a[an]&&0===e._a[on]&&0===e._a[un]&&(e._nextDay=!0,e._a[rn]=0),e._d=(e._useUTC?se:ne).apply(null,r),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[rn]=24),e._w&&void 0!==e._w.d&&e._w.d!==e._d.getDay()&&(p(e).weekdayMismatch=!0)}}function je(e){var t,n,s,i,r,a,o,u;if(null!=(t=e._w).GG||null!=t.W||null!=t.E)r=1,a=4,n=xe(t.GG,e._a[tn],ae(ze(),1,4).year),s=xe(t.W,1),((i=xe(t.E,1))<1||i>7)&&(u=!0);else{r=e._locale._week.dow,a=e._locale._week.doy;var d=ae(ze(),r,a);n=xe(t.gg,e._a[tn],d.year),s=xe(t.w,d.week),null!=t.d?((i=t.d)<0||i>6)&&(u=!0):null!=t.e?(i=t.e+r,(t.e<0||t.e>6)&&(u=!0)):i=r}s<1||s>oe(n,r,a)?p(e)._overflowWeeks=!0:null!=u?p(e)._overflowWeekday=!0:(o=re(n,s,i,r,a),e._a[tn]=o.year,e._dayOfYear=o.dayOfYear)}function ke(e){var t,n,s,i,r,a,o=e._i,u=In.exec(o)||Mn.exec(o);if(u){for(p(e).iso=!0,t=0,n=On.length;t<n;t++)if(On[t][1].exec(u[1])){i=On[t][0],s=!1!==On[t][2];break}if(null==i)return void(e._isValid=!1);if(u[3]){for(t=0,n=Pn.length;t<n;t++)if(Pn[t][1].exec(u[3])){r=(u[2]||" ")+Pn[t][0];break}if(null==r)return void(e._isValid=!1)}if(!s&&null!=r)return void(e._isValid=!1);if(u[4]){if(!An.exec(u[4]))return void(e._isValid=!1);a="Z"}e._f=i+(r||"")+(a||""),Ne(e)}else e._isValid=!1}function Ee(e,t,n,s,i,r){var a=[Te(e),hn.indexOf(t),parseInt(n,10),parseInt(s,10),parseInt(i,10)];return r&&a.push(parseInt(r,10)),a}function Te(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function Ie(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}function Me(e,t,n){return!e||bn.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(p(n).weekdayMismatch=!0,n._isValid=!1,!1)}function Ae(e,t,n){if(e)return Dn[e];if(t)return 0;var s=parseInt(n,10),i=s%100;return(s-i)/100*60+i}function Oe(e){var t=Rn.exec(Ie(e._i));if(t){var n=Ee(t[4],t[3],t[2],t[5],t[6],t[7]);if(!Me(t[1],n,e))return;e._a=n,e._tzm=Ae(t[8],t[9],t[10]),e._d=se.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),p(e).rfc2822=!0}else e._isValid=!1}function Pe(t){var n=Nn.exec(t._i);null===n?(ke(t),!1===t._isValid&&(delete t._isValid,Oe(t),!1===t._isValid&&(delete t._isValid,e.createFromInputFallback(t)))):t._d=new Date(+n[1])}function Ne(t){if(t._f!==e.ISO_8601)if(t._f!==e.RFC_2822){t._a=[],p(t).empty=!0;var n,s,i,r,a,o=""+t._i,u=o.length,d=0;for(i=L(t._f,t._locale).match(Pt)||[],n=0;n<i.length;n++)r=i[n],(s=(o.match(F(r,t))||[])[0])&&((a=o.substr(0,o.indexOf(s))).length>0&&p(t).unusedInput.push(a),o=o.slice(o.indexOf(s)+s.length),d+=s.length),Dt[r]?(s?p(t).empty=!1:p(t).unusedTokens.push(r),q(r,s,t)):t._strict&&!s&&p(t).unusedTokens.push(r);p(t).charsLeftOver=u-d,o.length>0&&p(t).unusedInput.push(o),t._a[rn]<=12&&!0===p(t).bigHour&&t._a[rn]>0&&(p(t).bigHour=void 0),p(t).parsedDateParts=t._a.slice(0),p(t).meridiem=t._meridiem,t._a[rn]=Re(t._locale,t._a[rn],t._meridiem),Se(t),ye(t)}else Oe(t);else ke(t)}function Re(e,t,n){var s;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((s=e.isPM(n))&&t<12&&(t+=12),s||12!==t||(t=0),t):t}function De(e){var t,n,s,i,r;if(0===e._f.length)return p(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<e._f.length;i++)r=0,t=h({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],Ne(t),f(t)&&(r+=p(t).charsLeftOver,r+=10*p(t).unusedTokens.length,p(t).score=r,(null==s||r<s)&&(s=r,n=t));d(e,n||t)}function Le(e){if(!e._d){var t=I(e._i);e._a=o([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),Se(e)}}function Ue(e){var t=new _(ye(Fe(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Fe(e){var n=e._i,s=e._f;return e._locale=e._locale||we(e._l),null===n||void 0===s&&""===n?m({nullInput:!0}):("string"==typeof n&&(e._i=n=e._locale.preparse(n)),v(n)?new _(ye(n)):(a(n)?e._d=n:t(s)?De(e):s?Ne(e):$e(e),f(e)||(e._d=null),e))}function $e(s){var u=s._i;i(u)?s._d=new Date(e.now()):a(u)?s._d=new Date(u.valueOf()):"string"==typeof u?Pe(s):t(u)?(s._a=o(u.slice(0),function(e){return parseInt(e,10)}),Se(s)):n(u)?Le(s):r(u)?s._d=new Date(u):e.createFromInputFallback(s)}function Ve(e,i,r,a,o){var u={};return!0!==r&&!1!==r||(a=r,r=void 0),(n(e)&&s(e)||t(e)&&0===e.length)&&(e=void 0),u._isAMomentObject=!0,u._useUTC=u._isUTC=o,u._l=r,u._i=e,u._f=i,u._strict=a,Ue(u)}function ze(e,t,n,s){return Ve(e,t,n,s,!1)}function Ge(e,n){var s,i;if(1===n.length&&t(n[0])&&(n=n[0]),!n.length)return ze();for(s=n[0],i=1;i<n.length;++i)n[i].isValid()&&!n[i][e](s)||(s=n[i]);return s}function qe(e){for(var t in e)if(-1===cn.call(Fn,t)||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,s=0;s<Fn.length;++s)if(e[Fn[s]]){if(n)return!1;parseFloat(e[Fn[s]])!==b(e[Fn[s]])&&(n=!0)}return!0}function He(e){var t=I(e),n=t.year||0,s=t.quarter||0,i=t.month||0,r=t.week||0,a=t.day||0,o=t.hour||0,u=t.minute||0,d=t.second||0,l=t.millisecond||0;this._isValid=qe(t),this._milliseconds=+l+1e3*d+6e4*u+1e3*o*60*60,this._days=+a+7*r,this._months=+i+3*s+12*n,this._data={},this._locale=we(),this._bubble()}function Be(e){return e instanceof He}function We(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Ye(e,t){P(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+O(~~(e/60),2)+t+O(~~e%60,2)})}function Xe(e,t){var n=(t||"").match(e);if(null===n)return null;var s=((n[n.length-1]||[])+"").match($n)||["-",0,0],i=60*s[1]+b(s[2]);return 0===i?0:"+"===s[0]?i:-i}function Je(t,n){var s,i;return n._isUTC?(s=n.clone(),i=(v(t)||a(t)?t.valueOf():ze(t).valueOf())-s.valueOf(),s._d.setTime(s._d.valueOf()+i),e.updateOffset(s,!1),s):ze(t).local()}function Qe(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Ze(){return!!this.isValid()&&this._isUTC&&0===this._offset}function Ke(e,t){var n,s,i,a=e,o=null;return Be(e)?a={ms:e._milliseconds,d:e._days,M:e._months}:r(e)?(a={},t?a[t]=e:a.milliseconds=e):(o=Vn.exec(e))?(n="-"===o[1]?-1:1,a={y:0,d:b(o[sn])*n,h:b(o[rn])*n,m:b(o[an])*n,s:b(o[on])*n,ms:b(We(1e3*o[un]))*n}):(o=zn.exec(e))?(n="-"===o[1]?-1:(o[1],1),a={y:et(o[2],n),M:et(o[3],n),w:et(o[4],n),d:et(o[5],n),h:et(o[6],n),m:et(o[7],n),s:et(o[8],n)}):null==a?a={}:"object"==typeof a&&("from"in a||"to"in a)&&(i=nt(ze(a.from),ze(a.to)),(a={}).ms=i.milliseconds,a.M=i.months),s=new He(a),Be(e)&&u(e,"_locale")&&(s._locale=e._locale),s}function et(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function tt(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function nt(e,t){var n;return e.isValid()&&t.isValid()?(t=Je(t,e),e.isBefore(t)?n=tt(e,t):((n=tt(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function st(e,t){return function(n,s){var i,r;return null===s||isNaN(+s)||(C(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=n,n=s,s=r),n="string"==typeof n?+n:n,i=Ke(n,s),it(this,i,e),this}}function it(t,n,s,i){var r=n._milliseconds,a=We(n._days),o=We(n._months);t.isValid()&&(i=null==i||i,o&&K(t,Y(t,"Month")+o*s),a&&X(t,"Date",Y(t,"Date")+a*s),r&&t._d.setTime(t._d.valueOf()+r*s),i&&e.updateOffset(t,a||o))}function rt(e,t){var n,s=12*(t.year()-e.year())+(t.month()-e.month()),i=e.clone().add(s,"months");return n=t-i<0?(t-i)/(i-e.clone().add(s-1,"months")):(t-i)/(e.clone().add(s+1,"months")-i),-(s+n)||0}function at(e){var t;return void 0===e?this._locale._abbr:(null!=(t=we(e))&&(this._locale=t),this)}function ot(){return this._locale}function ut(e,t){P(0,[e,e.length],0,t)}function dt(e,t,n,s,i){var r;return null==e?ae(this,s,i).year:(r=oe(e,s,i),t>r&&(t=r),lt.call(this,e,t,n,s,i))}function lt(e,t,n,s,i){var r=re(e,t,n,s,i),a=se(r.year,0,r.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function ct(e){return e}function pt(e,t,n,s){var i=we(),r=l().set(s,t);return i[n](r,e)}function ft(e,t,n){if(r(e)&&(t=e,e=void 0),e=e||"",null!=t)return pt(e,t,n,"month");var s,i=[];for(s=0;s<12;s++)i[s]=pt(e,s,n,"month");return i}function mt(e,t,n,s){"boolean"==typeof e?(r(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,r(t)&&(n=t,t=void 0),t=t||"");var i=we(),a=e?i._week.dow:0;if(null!=n)return pt(t,(n+a)%7,s,"day");var o,u=[];for(o=0;o<7;o++)u[o]=pt(t,(o+a)%7,s,"day");return u}function ht(e,t,n,s){var i=Ke(t,n);return e._milliseconds+=s*i._milliseconds,e._days+=s*i._days,e._months+=s*i._months,e._bubble()}function _t(e){return e<0?Math.floor(e):Math.ceil(e)}function vt(e){return 4800*e/146097}function gt(e){return 146097*e/4800}function bt(e){return function(){return this.as(e)}}function wt(e){return function(){return this.isValid()?this._data[e]:NaN}}function yt(e,t,n,s,i){return i.relativeTime(t||1,!!n,e,s)}function xt(e,t,n){var s=Ke(e).abs(),i=hs(s.as("s")),r=hs(s.as("m")),a=hs(s.as("h")),o=hs(s.as("d")),u=hs(s.as("M")),d=hs(s.as("y")),l=i<=_s.ss&&["s",i]||i<_s.s&&["ss",i]||r<=1&&["m"]||r<_s.m&&["mm",r]||a<=1&&["h"]||a<_s.h&&["hh",a]||o<=1&&["d"]||o<_s.d&&["dd",o]||u<=1&&["M"]||u<_s.M&&["MM",u]||d<=1&&["y"]||["yy",d];return l[2]=t,l[3]=+e>0,l[4]=n,yt.apply(null,l)}function Ct(e){return(e>0)-(e<0)||+e}function St(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,s=vs(this._milliseconds)/1e3,i=vs(this._days),r=vs(this._months);t=g((e=g(s/60))/60),s%=60,e%=60;var a=n=g(r/12),o=r%=12,u=i,d=t,l=e,c=s?s.toFixed(3).replace(/\.?0+$/,""):"",p=this.asSeconds();if(!p)return"P0D";var f=p<0?"-":"",m=Ct(this._months)!==Ct(p)?"-":"",h=Ct(this._days)!==Ct(p)?"-":"",_=Ct(this._milliseconds)!==Ct(p)?"-":"";return f+"P"+(a?m+a+"Y":"")+(o?m+o+"M":"")+(u?h+u+"D":"")+(d||l||c?"T":"")+(d?_+d+"H":"")+(l?_+l+"M":"")+(c?_+c+"S":"")}var jt,kt;kt=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,s=0;s<n;s++)if(s in t&&e.call(this,t[s],s,t))return!0;return!1};var Et=e.momentProperties=[],Tt=!1,It={};e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;var Mt;Mt=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)u(e,t)&&n.push(t);return n};var At={},Ot={},Pt=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Nt=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Rt={},Dt={},Lt=/\d/,Ut=/\d\d/,Ft=/\d{3}/,$t=/\d{4}/,Vt=/[+-]?\d{6}/,zt=/\d\d?/,Gt=/\d\d\d\d?/,qt=/\d\d\d\d\d\d?/,Ht=/\d{1,3}/,Bt=/\d{1,4}/,Wt=/[+-]?\d{1,6}/,Yt=/\d+/,Xt=/[+-]?\d+/,Jt=/Z|[+-]\d\d:?\d\d/gi,Qt=/Z|[+-]\d\d(?::?\d\d)?/gi,Zt=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Kt={},en={},tn=0,nn=1,sn=2,rn=3,an=4,on=5,un=6,dn=7,ln=8;P("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),P(0,["YY",2],0,function(){return this.year()%100}),P(0,["YYYY",4],0,"year"),P(0,["YYYYY",5],0,"year"),P(0,["YYYYYY",6,!0],0,"year"),E("year","y"),M("year",1),U("Y",Xt),U("YY",zt,Ut),U("YYYY",Bt,$t),U("YYYYY",Wt,Vt),U("YYYYYY",Wt,Vt),z(["YYYYY","YYYYYY"],tn),z("YYYY",function(t,n){n[tn]=2===t.length?e.parseTwoDigitYear(t):b(t)}),z("YY",function(t,n){n[tn]=e.parseTwoDigitYear(t)}),z("Y",function(e,t){t[tn]=parseInt(e,10)}),e.parseTwoDigitYear=function(e){return b(e)+(b(e)>68?1900:2e3)};var cn,pn=W("FullYear",!0);cn=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},P("M",["MM",2],"Mo",function(){return this.month()+1}),P("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),P("MMMM",0,0,function(e){return this.localeData().months(this,e)}),E("month","M"),M("month",8),U("M",zt),U("MM",zt,Ut),U("MMM",function(e,t){return t.monthsShortRegex(e)}),U("MMMM",function(e,t){return t.monthsRegex(e)}),z(["M","MM"],function(e,t){t[nn]=b(e)-1}),z(["MMM","MMMM"],function(e,t,n,s){var i=n._locale.monthsParse(e,s,n._strict);null!=i?t[nn]=i:p(n).invalidMonth=e});var fn=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,mn="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),hn="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),_n=Zt,vn=Zt;P("w",["ww",2],"wo","week"),P("W",["WW",2],"Wo","isoWeek"),E("week","w"),E("isoWeek","W"),M("week",5),M("isoWeek",5),U("w",zt),U("ww",zt,Ut),U("W",zt),U("WW",zt,Ut),G(["w","ww","W","WW"],function(e,t,n,s){t[s.substr(0,1)]=b(e)}),P("d",0,"do","day"),P("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),P("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),P("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),P("e",0,0,"weekday"),P("E",0,0,"isoWeekday"),E("day","d"),E("weekday","e"),E("isoWeekday","E"),M("day",11),M("weekday",11),M("isoWeekday",11),U("d",zt),U("e",zt),U("E",zt),U("dd",function(e,t){return t.weekdaysMinRegex(e)}),U("ddd",function(e,t){return t.weekdaysShortRegex(e)}),U("dddd",function(e,t){return t.weekdaysRegex(e)}),G(["dd","ddd","dddd"],function(e,t,n,s){var i=n._locale.weekdaysParse(e,s,n._strict);null!=i?t.d=i:p(n).invalidWeekday=e}),G(["d","e","E"],function(e,t,n,s){t[s]=b(e)});var gn="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),bn="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),wn="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),yn=Zt,xn=Zt,Cn=Zt;P("H",["HH",2],0,"hour"),P("h",["hh",2],0,pe),P("k",["kk",2],0,function(){return this.hours()||24}),P("hmm",0,0,function(){return""+pe.apply(this)+O(this.minutes(),2)}),P("hmmss",0,0,function(){return""+pe.apply(this)+O(this.minutes(),2)+O(this.seconds(),2)}),P("Hmm",0,0,function(){return""+this.hours()+O(this.minutes(),2)}),P("Hmmss",0,0,function(){return""+this.hours()+O(this.minutes(),2)+O(this.seconds(),2)}),fe("a",!0),fe("A",!1),E("hour","h"),M("hour",13),U("a",me),U("A",me),U("H",zt),U("h",zt),U("k",zt),U("HH",zt,Ut),U("hh",zt,Ut),U("kk",zt,Ut),U("hmm",Gt),U("hmmss",qt),U("Hmm",Gt),U("Hmmss",qt),z(["H","HH"],rn),z(["k","kk"],function(e,t,n){var s=b(e);t[rn]=24===s?0:s}),z(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),z(["h","hh"],function(e,t,n){t[rn]=b(e),p(n).bigHour=!0}),z("hmm",function(e,t,n){var s=e.length-2;t[rn]=b(e.substr(0,s)),t[an]=b(e.substr(s)),p(n).bigHour=!0}),z("hmmss",function(e,t,n){var s=e.length-4,i=e.length-2;t[rn]=b(e.substr(0,s)),t[an]=b(e.substr(s,2)),t[on]=b(e.substr(i)),p(n).bigHour=!0}),z("Hmm",function(e,t,n){var s=e.length-2;t[rn]=b(e.substr(0,s)),t[an]=b(e.substr(s))}),z("Hmmss",function(e,t,n){var s=e.length-4,i=e.length-2;t[rn]=b(e.substr(0,s)),t[an]=b(e.substr(s,2)),t[on]=b(e.substr(i))});var Sn,jn=W("Hours",!0),kn={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:mn,monthsShort:hn,week:{dow:0,doy:6},weekdays:gn,weekdaysMin:wn,weekdaysShort:bn,meridiemParse:/[ap]\.?m?\.?/i},En={},Tn={},In=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Mn=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,An=/Z|[+-]\d\d(?::?\d\d)?/,On=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Pn=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Nn=/^\/?Date\((\-?\d+)/i,Rn=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Dn={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};e.createFromInputFallback=x("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),e.ISO_8601=function(){},e.RFC_2822=function(){};var Ln=x("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=ze.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:m()}),Un=x("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=ze.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:m()}),Fn=["year","quarter","month","week","day","hour","minute","second","millisecond"];Ye("Z",":"),Ye("ZZ",""),U("Z",Qt),U("ZZ",Qt),z(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Xe(Qt,e)});var $n=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var Vn=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,zn=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;Ke.fn=He.prototype,Ke.invalid=function(){return Ke(NaN)};var Gn=st(1,"add"),qn=st(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Hn=x("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});P(0,["gg",2],0,function(){return this.weekYear()%100}),P(0,["GG",2],0,function(){return this.isoWeekYear()%100}),ut("gggg","weekYear"),ut("ggggg","weekYear"),ut("GGGG","isoWeekYear"),ut("GGGGG","isoWeekYear"),E("weekYear","gg"),E("isoWeekYear","GG"),M("weekYear",1),M("isoWeekYear",1),U("G",Xt),U("g",Xt),U("GG",zt,Ut),U("gg",zt,Ut),U("GGGG",Bt,$t),U("gggg",Bt,$t),U("GGGGG",Wt,Vt),U("ggggg",Wt,Vt),G(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,s){t[s.substr(0,2)]=b(e)}),G(["gg","GG"],function(t,n,s,i){n[i]=e.parseTwoDigitYear(t)}),P("Q",0,"Qo","quarter"),E("quarter","Q"),M("quarter",7),U("Q",Lt),z("Q",function(e,t){t[nn]=3*(b(e)-1)}),P("D",["DD",2],"Do","date"),E("date","D"),M("date",9),U("D",zt),U("DD",zt,Ut),U("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),z(["D","DD"],sn),z("Do",function(e,t){t[sn]=b(e.match(zt)[0],10)});var Bn=W("Date",!0);P("DDD",["DDDD",3],"DDDo","dayOfYear"),E("dayOfYear","DDD"),M("dayOfYear",4),U("DDD",Ht),U("DDDD",Ft),z(["DDD","DDDD"],function(e,t,n){n._dayOfYear=b(e)}),P("m",["mm",2],0,"minute"),E("minute","m"),M("minute",14),U("m",zt),U("mm",zt,Ut),z(["m","mm"],an);var Wn=W("Minutes",!1);P("s",["ss",2],0,"second"),E("second","s"),M("second",15),U("s",zt),U("ss",zt,Ut),z(["s","ss"],on);var Yn=W("Seconds",!1);P("S",0,0,function(){return~~(this.millisecond()/100)}),P(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),P(0,["SSS",3],0,"millisecond"),P(0,["SSSS",4],0,function(){return 10*this.millisecond()}),P(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),P(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),P(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),P(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),P(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),E("millisecond","ms"),M("millisecond",16),U("S",Ht,Lt),U("SS",Ht,Ut),U("SSS",Ht,Ft);var Xn;for(Xn="SSSS";Xn.length<=9;Xn+="S")U(Xn,Yt);for(Xn="S";Xn.length<=9;Xn+="S")z(Xn,function(e,t){t[un]=b(1e3*("0."+e))});var Jn=W("Milliseconds",!1);P("z",0,0,"zoneAbbr"),P("zz",0,0,"zoneName");var Qn=_.prototype;Qn.add=Gn,Qn.calendar=function(t,n){var s=t||ze(),i=Je(s,this).startOf("day"),r=e.calendarFormat(this,i)||"sameElse",a=n&&(S(n[r])?n[r].call(this,s):n[r]);return this.format(a||this.localeData().calendar(r,this,ze(s)))},Qn.clone=function(){return new _(this)},Qn.diff=function(e,t,n){var s,i,r;if(!this.isValid())return NaN;if(!(s=Je(e,this)).isValid())return NaN;switch(i=6e4*(s.utcOffset()-this.utcOffset()),t=T(t)){case"year":r=rt(this,s)/12;break;case"month":r=rt(this,s);break;case"quarter":r=rt(this,s)/3;break;case"second":r=(this-s)/1e3;break;case"minute":r=(this-s)/6e4;break;case"hour":r=(this-s)/36e5;break;case"day":r=(this-s-i)/864e5;break;case"week":r=(this-s-i)/6048e5;break;default:r=this-s}return n?r:g(r)},Qn.endOf=function(e){return void 0===(e=T(e))||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))},Qn.format=function(t){t||(t=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var n=D(this,t);return this.localeData().postformat(n)},Qn.from=function(e,t){return this.isValid()&&(v(e)&&e.isValid()||ze(e).isValid())?Ke({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},Qn.fromNow=function(e){return this.from(ze(),e)},Qn.to=function(e,t){return this.isValid()&&(v(e)&&e.isValid()||ze(e).isValid())?Ke({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},Qn.toNow=function(e){return this.to(ze(),e)},Qn.get=function(e){return e=T(e),S(this[e])?this[e]():this},Qn.invalidAt=function(){return p(this).overflow},Qn.isAfter=function(e,t){var n=v(e)?e:ze(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=T(i(t)?"millisecond":t))?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},Qn.isBefore=function(e,t){var n=v(e)?e:ze(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=T(i(t)?"millisecond":t))?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},Qn.isBetween=function(e,t,n,s){return("("===(s=s||"()")[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===s[1]?this.isBefore(t,n):!this.isAfter(t,n))},Qn.isSame=function(e,t){var n,s=v(e)?e:ze(e);return!(!this.isValid()||!s.isValid())&&("millisecond"===(t=T(t||"millisecond"))?this.valueOf()===s.valueOf():(n=s.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))},Qn.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},Qn.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},Qn.isValid=function(){return f(this)},Qn.lang=Hn,Qn.locale=at,Qn.localeData=ot,Qn.max=Un,Qn.min=Ln,Qn.parsingFlags=function(){return d({},p(this))},Qn.set=function(e,t){if("object"==typeof e)for(var n=A(e=I(e)),s=0;s<n.length;s++)this[n[s].unit](e[n[s].unit]);else if(e=T(e),S(this[e]))return this[e](t);return this},Qn.startOf=function(e){switch(e=T(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},Qn.subtract=qn,Qn.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},Qn.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},Qn.toDate=function(){return new Date(this.valueOf())},Qn.toISOString=function(){if(!this.isValid())return null;var e=this.clone().utc();return e.year()<0||e.year()>9999?D(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):S(Date.prototype.toISOString)?this.toDate().toISOString():D(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},Qn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',s=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i=t+'[")]';return this.format(n+s+"-MM-DD[T]HH:mm:ss.SSS"+i)},Qn.toJSON=function(){return this.isValid()?this.toISOString():null},Qn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},Qn.unix=function(){return Math.floor(this.valueOf()/1e3)},Qn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},Qn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},Qn.year=pn,Qn.isLeapYear=function(){return B(this.year())},Qn.weekYear=function(e){return dt.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},Qn.isoWeekYear=function(e){return dt.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},Qn.quarter=Qn.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},Qn.month=ee,Qn.daysInMonth=function(){return Q(this.year(),this.month())},Qn.week=Qn.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},Qn.isoWeek=Qn.isoWeeks=function(e){var t=ae(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},Qn.weeksInYear=function(){var e=this.localeData()._week;return oe(this.year(),e.dow,e.doy)},Qn.isoWeeksInYear=function(){return oe(this.year(),1,4)},Qn.date=Bn,Qn.day=Qn.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=ue(e,this.localeData()),this.add(e-t,"d")):t},Qn.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},Qn.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=de(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},Qn.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},Qn.hour=Qn.hours=jn,Qn.minute=Qn.minutes=Wn,Qn.second=Qn.seconds=Yn,Qn.millisecond=Qn.milliseconds=Jn,Qn.utcOffset=function(t,n,s){var i,r=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(null===(t=Xe(Qt,t)))return this}else Math.abs(t)<16&&!s&&(t*=60);return!this._isUTC&&n&&(i=Qe(this)),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),r!==t&&(!n||this._changeInProgress?it(this,Ke(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?r:Qe(this)},Qn.utc=function(e){return this.utcOffset(0,e)},Qn.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Qe(this),"m")),this},Qn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Xe(Jt,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},Qn.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?ze(e).utcOffset():0,(this.utcOffset()-e)%60==0)},Qn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},Qn.isLocal=function(){return!!this.isValid()&&!this._isUTC},Qn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},Qn.isUtc=Ze,Qn.isUTC=Ze,Qn.zoneAbbr=function(){return this._isUTC?"UTC":""},Qn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},Qn.dates=x("dates accessor is deprecated. Use date instead.",Bn),Qn.months=x("months accessor is deprecated. Use month instead",ee),Qn.years=x("years accessor is deprecated. Use year instead",pn),Qn.zone=x("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}),Qn.isDSTShifted=x("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!i(this._isDSTShifted))return this._isDSTShifted;var e={};if(h(e,this),(e=Fe(e))._a){var t=e._isUTC?l(e._a):ze(e._a);this._isDSTShifted=this.isValid()&&w(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted});var Zn=k.prototype;Zn.calendar=function(e,t,n){var s=this._calendar[e]||this._calendar.sameElse;return S(s)?s.call(t,n):s},Zn.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])},Zn.invalidDate=function(){return this._invalidDate},Zn.ordinal=function(e){return this._ordinal.replace("%d",e)},Zn.preparse=ct,Zn.postformat=ct,Zn.relativeTime=function(e,t,n,s){var i=this._relativeTime[n];return S(i)?i(e,t,n,s):i.replace(/%d/i,e)},Zn.pastFuture=function(e,t){var n=this._relativeTime[e>0?"future":"past"];return S(n)?n(t):n.replace(/%s/i,t)},Zn.set=function(e){var t,n;for(n in e)S(t=e[n])?this[n]=t:this["_"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},Zn.months=function(e,n){return e?t(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||fn).test(n)?"format":"standalone"][e.month()]:t(this._months)?this._months:this._months.standalone},Zn.monthsShort=function(e,n){return e?t(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[fn.test(n)?"format":"standalone"][e.month()]:t(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},Zn.monthsParse=function(e,t,n){var s,i,r;if(this._monthsParseExact)return Z.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),s=0;s<12;s++){if(i=l([2e3,s]),n&&!this._longMonthsParse[s]&&(this._longMonthsParse[s]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[s]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[s]||(r="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[s]=new RegExp(r.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[s].test(e))return s;if(n&&"MMM"===t&&this._shortMonthsParse[s].test(e))return s;if(!n&&this._monthsParse[s].test(e))return s}},Zn.monthsRegex=function(e){return this._monthsParseExact?(u(this,"_monthsRegex")||te.call(this),e?this._monthsStrictRegex:this._monthsRegex):(u(this,"_monthsRegex")||(this._monthsRegex=vn),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},Zn.monthsShortRegex=function(e){return this._monthsParseExact?(u(this,"_monthsRegex")||te.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(u(this,"_monthsShortRegex")||(this._monthsShortRegex=_n),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},Zn.week=function(e){return ae(e,this._week.dow,this._week.doy).week},Zn.firstDayOfYear=function(){return this._week.doy},Zn.firstDayOfWeek=function(){return this._week.dow},Zn.weekdays=function(e,n){return e?t(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(n)?"format":"standalone"][e.day()]:t(this._weekdays)?this._weekdays:this._weekdays.standalone},Zn.weekdaysMin=function(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin},Zn.weekdaysShort=function(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort},Zn.weekdaysParse=function(e,t,n){var s,i,r;if(this._weekdaysParseExact)return le.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),s=0;s<7;s++){if(i=l([2e3,1]).day(s),n&&!this._fullWeekdaysParse[s]&&(this._fullWeekdaysParse[s]=new RegExp("^"+this.weekdays(i,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[s]=new RegExp("^"+this.weekdaysShort(i,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[s]=new RegExp("^"+this.weekdaysMin(i,"").replace(".",".?")+"$","i")),this._weekdaysParse[s]||(r="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[s]=new RegExp(r.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[s].test(e))return s;if(n&&"ddd"===t&&this._shortWeekdaysParse[s].test(e))return s;if(n&&"dd"===t&&this._minWeekdaysParse[s].test(e))return s;if(!n&&this._weekdaysParse[s].test(e))return s}},Zn.weekdaysRegex=function(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||ce.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(u(this,"_weekdaysRegex")||(this._weekdaysRegex=yn),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},Zn.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||ce.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(u(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=xn),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},Zn.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||ce.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(u(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Cn),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},Zn.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},Zn.meridiem=function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},ge("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===b(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),e.lang=x("moment.lang is deprecated. Use moment.locale instead.",ge),e.langData=x("moment.langData is deprecated. Use moment.localeData instead.",we);var Kn=Math.abs,es=bt("ms"),ts=bt("s"),ns=bt("m"),ss=bt("h"),is=bt("d"),rs=bt("w"),as=bt("M"),os=bt("y"),us=wt("milliseconds"),ds=wt("seconds"),ls=wt("minutes"),cs=wt("hours"),ps=wt("days"),fs=wt("months"),ms=wt("years"),hs=Math.round,_s={ss:44,s:45,m:45,h:22,d:26,M:11},vs=Math.abs,gs=He.prototype;return gs.isValid=function(){return this._isValid},gs.abs=function(){var e=this._data;return this._milliseconds=Kn(this._milliseconds),this._days=Kn(this._days),this._months=Kn(this._months),e.milliseconds=Kn(e.milliseconds),e.seconds=Kn(e.seconds),e.minutes=Kn(e.minutes),e.hours=Kn(e.hours),e.months=Kn(e.months),e.years=Kn(e.years),this},gs.add=function(e,t){return ht(this,e,t,1)},gs.subtract=function(e,t){return ht(this,e,t,-1)},gs.as=function(e){if(!this.isValid())return NaN;var t,n,s=this._milliseconds;if("month"===(e=T(e))||"year"===e)return t=this._days+s/864e5,n=this._months+vt(t),"month"===e?n:n/12;switch(t=this._days+Math.round(gt(this._months)),e){case"week":return t/7+s/6048e5;case"day":return t+s/864e5;case"hour":return 24*t+s/36e5;case"minute":return 1440*t+s/6e4;case"second":return 86400*t+s/1e3;case"millisecond":return Math.floor(864e5*t)+s;default:throw new Error("Unknown unit "+e)}},gs.asMilliseconds=es,gs.asSeconds=ts,gs.asMinutes=ns,gs.asHours=ss,gs.asDays=is,gs.asWeeks=rs,gs.asMonths=as,gs.asYears=os,gs.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*b(this._months/12):NaN},gs._bubble=function(){var e,t,n,s,i,r=this._milliseconds,a=this._days,o=this._months,u=this._data;return r>=0&&a>=0&&o>=0||r<=0&&a<=0&&o<=0||(r+=864e5*_t(gt(o)+a),a=0,o=0),u.milliseconds=r%1e3,e=g(r/1e3),u.seconds=e%60,t=g(e/60),u.minutes=t%60,n=g(t/60),u.hours=n%24,a+=g(n/24),i=g(vt(a)),o+=i,a-=_t(gt(i)),s=g(o/12),o%=12,u.days=a,u.months=o,u.years=s,this},gs.clone=function(){return Ke(this)},gs.get=function(e){return e=T(e),this.isValid()?this[e+"s"]():NaN},gs.milliseconds=us,gs.seconds=ds,gs.minutes=ls,gs.hours=cs,gs.days=ps,gs.weeks=function(){return g(this.days()/7)},gs.months=fs,gs.years=ms,gs.humanize=function(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),n=xt(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)},gs.toISOString=St,gs.toString=St,gs.toJSON=St,gs.locale=at,gs.localeData=ot,gs.toIsoString=x("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",St),gs.lang=Hn,P("X",0,0,"unix"),P("x",0,0,"valueOf"),U("x",Xt),U("X",/[+-]?\d+(\.\d{1,3})?/),z("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),z("x",function(e,t,n){n._d=new Date(b(e))}),e.version="2.19.1",jt=ze,e.fn=Qn,e.min=function(){return Ge("isBefore",[].slice.call(arguments,0))},e.max=function(){return Ge("isAfter",[].slice.call(arguments,0))},e.now=function(){return Date.now?Date.now():+new Date},e.utc=l,e.unix=function(e){return ze(1e3*e)},e.months=function(e,t){return ft(e,t,"months")},e.isDate=a,e.locale=ge,e.invalid=m,e.duration=Ke,e.isMoment=v,e.weekdays=function(e,t,n){return mt(e,t,n,"weekdays")},e.parseZone=function(){return ze.apply(null,arguments).parseZone()},e.localeData=we,e.isDuration=Be,e.monthsShort=function(e,t){return ft(e,t,"monthsShort")},e.weekdaysMin=function(e,t,n){return mt(e,t,n,"weekdaysMin")},e.defineLocale=be,e.updateLocale=function(e,t){if(null!=t){var n,s=kn;null!=En[e]&&(s=En[e]._config),(n=new k(t=j(s,t))).parentLocale=En[e],En[e]=n,ge(e)}else null!=En[e]&&(null!=En[e].parentLocale?En[e]=En[e].parentLocale:null!=En[e]&&delete En[e]);return En[e]},e.locales=function(){return Mt(En)},e.weekdaysShort=function(e,t,n){return mt(e,t,n,"weekdaysShort")},e.normalizeUnits=T,e.relativeTimeRounding=function(e){return void 0===e?hs:"function"==typeof e&&(hs=e,!0)},e.relativeTimeThreshold=function(e,t){return void 0!==_s[e]&&(void 0===t?_s[e]:(_s[e]=t,"s"===e&&(_s.ss=t-1),!0))},e.calendarFormat=function(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},e.prototype=Qn,e}),function(e,t){"use strict";"function"==typeof define&&define.amd?define("moment-timezone",["moment"],t):"object"==typeof module&&module.exports?module.exports=t(require("moment")):t(e.moment)}(this,function(e){"use strict";function t(e){return e>96?e-87:e>64?e-29:e-48}function n(e){var n=0,s=e.split("."),i=s[0],r=s[1]||"",a=1,o=0,u=1;for(45===e.charCodeAt(0)&&(n=1,u=-1),n;n<i.length;n++)o=60*o+t(i.charCodeAt(n));for(n=0;n<r.length;n++)a/=60,o+=t(r.charCodeAt(n))*a;return o*u}function s(e){for(var t=0;t<e.length;t++)e[t]=n(e[t])}function i(e,t){for(var n=0;n<t;n++)e[n]=Math.round((e[n-1]||0)+6e4*e[n]);e[t-1]=1/0}function r(e,t){var n,s=[];for(n=0;n<t.length;n++)s[n]=e[t[n]];return s}function a(e){var t=e.split("|"),n=t[2].split(" "),a=t[3].split(""),o=t[4].split(" ");return s(n),s(a),s(o),i(o,a.length),{name:t[0],abbrs:r(t[1].split(" "),a),offsets:r(n,a),untils:o,population:0|t[5]}}function o(e){e&&this._set(a(e))}function u(e){var t=e.toTimeString(),n=t.match(/\([a-z ]+\)/i);"GMT"===(n=n&&n[0]?(n=n[0].match(/[A-Z]/g))?n.join(""):void 0:(n=t.match(/[A-Z]{3,5}/g))?n[0]:void 0)&&(n=void 0),this.at=+e,this.abbr=n,this.offset=e.getTimezoneOffset()}function d(e){this.zone=e,this.offsetScore=0,this.abbrScore=0}function l(e,t){for(var n,s;s=6e4*((t.at-e.at)/12e4|0);)(n=new u(new Date(e.at+s))).offset===e.offset?e=n:t=n;return e}function c(){var e,t,n,s=(new Date).getFullYear()-2,i=new u(new Date(s,0,1)),r=[i];for(n=1;n<48;n++)(t=new u(new Date(s,n,1))).offset!==i.offset&&(e=l(i,t),r.push(e),r.push(new u(new Date(e.at+6e4)))),i=t;for(n=0;n<4;n++)r.push(new u(new Date(s+n,0,1))),r.push(new u(new Date(s+n,6,1)));return r}function p(e,t){return e.offsetScore!==t.offsetScore?e.offsetScore-t.offsetScore:e.abbrScore!==t.abbrScore?e.abbrScore-t.abbrScore:t.zone.population-e.zone.population}function f(e,t){var n,i;for(s(t),n=0;n<t.length;n++)i=t[n],I[i]=I[i]||{},I[i][e]=!0}function m(e){var t,n,s,i=e.length,r={},a=[];for(t=0;t<i;t++){s=I[e[t].offset]||{};for(n in s)s.hasOwnProperty(n)&&(r[n]=!0)}for(t in r)r.hasOwnProperty(t)&&a.push(T[t]);return a}function h(){try{var e=Intl.DateTimeFormat().resolvedOptions().timeZone;if(e){var t=T[_(e)];if(t)return t;x("Moment Timezone found "+e+" from the Intl api, but did not have that data loaded.")}}catch(e){}var n,s,i,r=c(),a=r.length,o=m(r),u=[];for(s=0;s<o.length;s++){for(n=new d(g(o[s]),a),i=0;i<a;i++)n.scoreOffsetAt(r[i]);u.push(n)}return u.sort(p),u.length>0?u[0].zone.name:void 0}function _(e){return(e||"").toLowerCase().replace(/\//g,"_")}function v(e){var t,n,s,i;for("string"==typeof e&&(e=[e]),t=0;t<e.length;t++)i=_(n=(s=e[t].split("|"))[0]),k[i]=e[t],T[i]=n,s[5]&&f(i,s[2].split(" "))}function g(e,t){e=_(e);var n,s=k[e];return s instanceof o?s:"string"==typeof s?(s=new o(s),k[e]=s,s):E[e]&&t!==g&&(n=g(E[e],g))?((s=k[e]=new o)._set(n),s.name=T[e],s):null}function b(e){var t,n,s,i;for("string"==typeof e&&(e=[e]),t=0;t<e.length;t++)s=_((n=e[t].split("|"))[0]),i=_(n[1]),E[s]=i,T[s]=n[0],E[i]=s,T[i]=n[1]}function w(e){return w.didShowError||(w.didShowError=!0,x("moment.tz.zoneExists('"+e+"') has been deprecated in favor of !moment.tz.zone('"+e+"')")),!!g(e)}function y(e){return!(!e._a||void 0!==e._tzm)}function x(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e)}function C(t){var n=Array.prototype.slice.call(arguments,0,-1),s=arguments[arguments.length-1],i=g(s),r=e.utc.apply(null,n);return i&&!e.isMoment(t)&&y(r)&&r.add(i.parse(r),"minutes"),r.tz(s),r}function S(e){return function(){return this._z?this._z.abbr(this):e.call(this)}}var j,k={},E={},T={},I={},M=e.version.split("."),A=+M[0],O=+M[1];(A<2||2===A&&O<6)&&x("Moment Timezone requires Moment.js >= 2.6.0. You are using Moment.js "+e.version+". See momentjs.com"),o.prototype={_set:function(e){this.name=e.name,this.abbrs=e.abbrs,this.untils=e.untils,this.offsets=e.offsets,this.population=e.population},_index:function(e){var t,n=+e,s=this.untils;for(t=0;t<s.length;t++)if(n<s[t])return t},parse:function(e){var t,n,s,i,r=+e,a=this.offsets,o=this.untils,u=o.length-1;for(i=0;i<u;i++)if(t=a[i],n=a[i+1],s=a[i?i-1:i],t<n&&C.moveAmbiguousForward?t=n:t>s&&C.moveInvalidForward&&(t=s),r<o[i]-6e4*t)return a[i];return a[u]},abbr:function(e){return this.abbrs[this._index(e)]},offset:function(e){return this.offsets[this._index(e)]}},d.prototype.scoreOffsetAt=function(e){this.offsetScore+=Math.abs(this.zone.offset(e.at)-e.offset),this.zone.abbr(e.at).replace(/[^A-Z]/g,"")!==e.abbr&&this.abbrScore++},C.version="0.5.13",C.dataVersion="",C._zones=k,C._links=E,C._names=T,C.add=v,C.link=b,C.load=function(e){v(e.zones),b(e.links),C.dataVersion=e.version},C.zone=g,C.zoneExists=w,C.guess=function(e){return j&&!e||(j=h()),j},C.names=function(){var e,t=[];for(e in T)T.hasOwnProperty(e)&&(k[e]||k[E[e]])&&T[e]&&t.push(T[e]);return t.sort()},C.Zone=o,C.unpack=a,C.unpackBase60=n,C.needsOffset=y,C.moveInvalidForward=!0,C.moveAmbiguousForward=!1;var P=e.fn;e.tz=C,e.defaultZone=null,e.updateOffset=function(t,n){var s,i=e.defaultZone;void 0===t._z&&(i&&y(t)&&!t._isUTC&&(t._d=e.utc(t._a)._d,t.utc().add(i.parse(t),"minutes")),t._z=i),t._z&&(s=t._z.offset(t),Math.abs(s)<16&&(s/=60),void 0!==t.utcOffset?t.utcOffset(-s,n):t.zone(s,n))},P.tz=function(t){return t?(this._z=g(t),this._z?e.updateOffset(this):x("Moment Timezone has no data for "+t+". See http://momentjs.com/timezone/docs/#/data-loading/."),this):this._z?this._z.name:void 0},P.zoneName=S(P.zoneName),P.zoneAbbr=S(P.zoneAbbr),P.utc=function(e){return function(){return this._z=null,e.apply(this,arguments)}}(P.utc),e.tz.setDefault=function(t){return(A<2||2===A&&O<9)&&x("Moment Timezone setDefault() requires Moment.js >= 2.9.0. You are using Moment.js "+e.version+"."),e.defaultZone=t?g(t):null,e};var N=e.momentProperties;return"[object Array]"===Object.prototype.toString.call(N)?(N.push("_z"),N.push("_a")):N&&(N._z=null),e}),define("app/util/util",["exports","passbolt-mad"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(e){return e&&e.__esModule?e:{default:e}}(t).default.setGlobal("passbolt",{}),void 0==passbolt.component&&(passbolt.component={}),void 0==passbolt.model&&(passbolt.model={}),void 0==passbolt.view&&(passbolt.view={}),void 0==passbolt.view.component&&(passbolt.view.component={}),void 0==passbolt.form&&(passbolt.form={}),void 0==passbolt.form&&(passbolt.form={}),e.default=passbolt}),define("passbolt-mad/passbolt-mad",["exports","jquery","underscore","can/can","passbolt-mad/util/util","can/map/define/define","passbolt-mad/error/exception","passbolt-mad/error/error_handler","passbolt-mad/helper/component","passbolt-mad/helper/control","passbolt-mad/helper/html","passbolt-mad/config/config","passbolt-mad/util/array/array","passbolt-mad/util/map/map","passbolt-mad/util/validation","passbolt-mad/util/lang/i18n","passbolt-mad/model/model","passbolt-mad/model/list","passbolt-mad/model/state","passbolt-mad/model/attribute","passbolt-mad/control/control","passbolt-mad/view/view","passbolt-mad/component/component"],function(e,t,n,s,i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0}),r(t),r(n),r(s);var a=r(i);e.default=a.default}),define("passbolt-mad/net/response",["exports","passbolt-mad/model/model"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=mad.Model.extend("mad.net.Response",{attributes:{header:"json",body:"json"},STATUS_ERROR:"error",STATUS_NOTICE:"notice",STATUS_SUCCESS:"success",STATUS_WARNING:"warning",RESPONSE_ID_UNDEFINED:"undefined",RESPONSE_CONTROLLER_UNDEFINED:"undefined",RESPONSE_ACTION_UNDEFINED:"undefined",getResponse:function(e,t){var n={},s=null;switch(e){case"unreachable":n={id:mad.net.Response.RESPONSE_ID_UNDEFINED,status:mad.net.Response.STATUS_ERROR,controller:mad.net.Response.RESPONSE_CONTROLLER_UNDEFINED,action:mad.net.Response.RESPONSE_ACTION_UNDEFINED,title:__("Unable to reach the server"),message:__("The url is probably incorrectly formatted")},s=t}return new mad.net.Response({header:n,body:s})},isResponse:function(e){var t=!1;return void 0!==e&&null!=e&&e.header&&(t=!0),t},getData:function(e){return e.body}},{getStatus:function(){return this.attr("header").status},getTitle:function(){return this.attr("header").title},getMessage:function(){return this.attr("header").message},getAction:function(){return this.attr("header").action},getController:function(){return this.attr("header").controller},getData:function(){return this.attr("body")}});e.default=t}),define("passbolt-mad/net/response_handler",["exports","can/construct/construct"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=mad.net.ResponseHandler=can.Construct.extend("mad.net.ResponseHandler",{},{defaults:{defaultErrorHandlerClass:"mad.error.ErrorHandler"},response:null,request:null,callback:null,_getErrorHandlerClass:function(){var e=this.defaults.defaultErrorHandlerClass,t=mad.Config.read("net.ErrorHandlerClassName");return void 0!==t&&(e=t),e},init:function(e,t,n){this.response=e,this.request=t,this.callbacks=n||{}},handle:function(){switch(this._log(),this.response.getStatus("status")){case mad.net.Response.STATUS_ERROR:this._error();break;case mad.net.Response.STATUS_NOTICE:this._notice();break;case mad.net.Response.STATUS_SUCCESS:this._success();break;case mad.net.Response.STATUS_WARNING:this._warning()}},_log:function(){this.response.getStatus().toUpperCase(),this.request.type.toUpperCase(),this.request.url,this.response.getController(),this.response.getAction(),this.response.getTitle()},_success:function(){this.callbacks.success&&this.callbacks.success(this.response,this.request)},_error:function(){can.getObject(this._getErrorHandlerClass()).handleError(this.response.getStatus(),this.response.getTitle(),this.response.getMessage(),this.response.getData()),this.callbacks.error&&this.callbacks.error(this.response,this.request)},_notice:function(){can.getObject(this._getErrorHandlerClass()).handleError(this.response.getStatus(),this.response.getTitle(),this.response.getMessage(),this.response.getData()),this.callbacks.notice&&this.callbacks.notice(this.response,this.request)},_warning:function(){can.getObject(this._getErrorHandlerClass()).handleError(this.response.getStatus(),this.response.getTitle(),this.response.getMessage(),this.response.getData()),this.callbacks.warning&&this.callbacks.warning(this.response,this.request)}});e.default=t}),define("passbolt-mad/net/ajax",["exports","can/construct/construct","passbolt-mad/net/response","passbolt-mad/net/response_handler"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};mad.net=mad.net||{};var n=mad.net.Ajax=can.Construct.extend("mad.net.Ajax",{defaults:{defaultResponseHandlerClass:"mad.net.ResponseHandler"},_getResponseHandlerClass:function(){var e=this.defaults.defaultResponseHandlerClass,t=mad.Config.read("net.ResponseHandlerClassName");return void 0!==t&&(e=t),e},request:function(e){e.originParams=$.extend({},e.params),e.url=can.sub(e.url,e.params,!0),e.dataType=e.dataType||"json",e.data=e.params,e.type=e.type?e.type.toUpperCase():"GET",void 0===e.silentLoading&&(e.silentLoading=!0,"POST"!=e.type&&"DELETE"!=e.type&&"PUT"!=e.type||(e.silentLoading=!1)),void 0!==mad.bus&&mad.bus.trigger("mad_ajax_request_start",e);var n=can.ajax(e).pipe(function(t,n,s){var i=new mad.net.Response(t),r=null;return i.getStatus()==mad.net.Response.STATUS_ERROR?((r=$.Deferred()).rejectWith(this,[s,"error",i]),r):((r=$.Deferred()).resolveWith(this,[t.body,i,e]),r)},function(n,s,i){var r=null,a=null;try{void 0!=t(n.responseText)&&(r=$.parseJSON(n.responseText))}catch(e){}a=mad.net.Response.isResponse(r)?new mad.net.Response(r):mad.net.Response.getResponse("unreachable");var o=$.Deferred();return o.rejectWith(this,[n,a.getStatus(),a,e]),o}),s=this;return n.then(function(e,t,n){void 0!==mad.bus&&mad.bus.trigger("mad_ajax_request_complete",n);var i=s._getResponseHandlerClass();new(i=can.getObject(i))(t,n).handle()}),n.fail(function(t,n,i){void 0!==mad.bus&&mad.bus.trigger("mad_ajax_request_complete",e);var r=s._getResponseHandlerClass();new(r=can.getObject(r))(i,e).handle()}),n}},{});e.default=n}),define("passbolt-mad/control/bus",["exports","passbolt-mad/control/control"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=mad.Bus=mad.Control.extend("mad.Bus",{trigger:function(e,t){var n=void 0!==t?t:[];if(this.element.trigger(e,n),!steal.isRhino){var s=document.createEvent("CustomEvent");s.initCustomEvent(e,!0,!0,n),document.documentElement.dispatchEvent(s)}},triggerRequest:function(e,t){var n=[],s=$.Deferred();return"[object Array]"==Object.prototype.toString.call(t)?n=t:"[object Object]"==Object.prototype.toString.call(t)&&(n=[t]),n.unshift(s),this.trigger(e,n),s.promise()},bind:function(e,t){this.element.bind(e,t)}});window.addEventListener("addon-message",function(e){mad.bus.element.trigger(e.detail.event,e.detail.data)},!1),e.default=t}),define("passbolt-mad/config/config.json",[],function(){return{core:{components:["EventBus","AppController"]},app:{debug:1,url:"http://localhost",controllerElt:"body",namespace:"app",ControllerClassName:""},error:{ErrorHandlerClassName:"mad.error.ErrorHandler"},i18n:{dictionnaryUrl:"dictionnaries/EN-en.json"},net:{ResponseHandlerClassName:"mad.net.ResponseHandler"}}}),define("passbolt-mad/bootstrap",["exports","passbolt-mad/passbolt-mad","passbolt-mad/config/config.json","passbolt-mad/net/ajax","passbolt-mad/control/bus","passbolt-mad/util/lang/i18n"],function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0});var i=s(t),r=s(n);i.default.Config.load(r.default);var a=i.default.Bootstrap=can.Construct.extend("mad.Bootstrap",{defaults:{callbacks:{ready:null}}},{init:function(e){this.options={},e=e||{},$.extend(!0,this.options,i.default.Bootstrap.defaults,e);var t=i.default.Config.read("app.url");if(void 0===t)throw i.default.Exception.get(i.default.error.MISSING_CONFIG,"app.url");i.default.setGlobal("APP_URL",t);var n=can.getObject(i.default.Config.read("error.ErrorHandlerClassName"));if(!n)throw i.default.Exception.get(i.default.error.MISSING_CONFIG,"error.ErrorHandlerClassName");i.default.Config.write("error.ErrorHandlerClass",n);var s=can.getObject(i.default.Config.read("net.ResponseHandlerClassName"));if(!s)throw i.default.Exception.get(i.default.error.MISSING_CONFIG,"net.ResponseHandlerClassName");i.default.Config.write("net.ResponseHandlerClass",s);var r=can.getObject(i.default.Config.read("app.ControllerClassName"));if(!r)throw i.default.Exception.get(i.default.error.MISSING_CONFIG,"app.ControllerClassName");if(i.default.Config.write("app.AppControllerClass",r),!$(i.default.Config.read("app.controllerElt")).length)throw i.default.Exception.get(i.default.error.MISSING_CONFIG,"app.controllerElt");can.getObject(i.default.Config.read("app.namespace"),window,!0);var a=i.default.Config.read("core.components");for(var o in a)("Devel"!=a[o]||null!=i.default.Config.read("app.debug")&&0!=i.default.Config.read("app.debug"))&&this["init"+a[o]]()},initAppController:function(){var e=this;i.default.bus.bind("app_ready",function(){e.options.callbacks.ready&&e.options.callbacks.ready()}),new(can.getObject(i.default.Config.read("app.ControllerClassName")))($(i.default.Config.read("app.controllerElt"))).start()},initEventBus:function(){var e=i.default.helper.Html.create($(i.default.Config.read("app.controllerElt")),"before","<div/>"),t=new i.default.Bus(e);i.default.bus=t},initDevel:function(){var e=i.default.helper.HtmlHelper.create($(i.default.Config.read("app.controllerElt")),"before","<div/>"),t=new i.default.devel.Devel(e);i.default.dev=t}});e.default=a}),define("app/error/error_handler",["exports","passbolt-mad/error/error_handler"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),passbolt.error=passbolt.error||{};var t=passbolt.error.ErrorHandler=mad.error.ErrorHandler.extend("passbolt.error.ErrorHandler",{});e.default=t}),define("app/view/template/component/session_expired.ejs!passbolt-mad/lib/can/viewEjsSystem",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("app_view_template_component_session_expired_ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push('<div class="form-content">\n    <p>\n        '),___v1ew.push(can.view.txt(1,"p",0,this,function(){return __("Your session has expired, you will be automatically redirected to the login page.")})),___v1ew.push('\n    </p>\n</div>\n<div class="submit-wrapper clearfix">\n    <input id="confirm-button" type="submit" value="'),___v1ew.push(can.view.txt(!0,"input","value",this,function(){return __("OK")})),___v1ew.push('" class="button primary"',can.view.pending({scope:this}),">"),___v1ew.push("\n</div>\n"),___v1ew.join("")}}))}),define("app/component/session_expired",["exports","app/view/template/component/session_expired.ejs!","passbolt-mad/component/component"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(t),s=passbolt.component.SessionExpired=mad.Component.extend("passbolt.component.SessionExpired",{defaults:{label:"Session Expired Controller",template:n.default,timeToRedirect:5e3,countDownInterval:null}},{destroy:function(){null!=this.options.countDownInterval&&clearInterval(this.options.countDownInterval)},afterStart:function(){var e=this,t=(new Date).getTime();this.options.countDownInterval=setInterval(function(){(new Date).getTime()-t>e.options.timeToRedirect&&(clearInterval(e.options.countDownInterval),location.href=mad.Config.read("app.url"))},1e3)}," .submit-wrapper input click":function(e,t){clearInterval(this.options.countDownInterval),location.href=mad.Config.read("app.url")}});e.default=s}),define("app/net/response_handler",["passbolt-mad","app/component/session_expired"],function(){"use strict";mad.net.ResponseHandler.extend("passbolt.net.ResponseHandler",{},{_success:function(){!mad.bus||void 0!=this.request.silentNotify&&this.request.silentNotify||mad.bus.trigger("passbolt_notify",{title:this.response.header.title,status:this.response.header.status,data:this.response}),this._super()},_error:function(){if(!mad.bus||void 0!=this.request.silentNotify&&this.request.silentNotify||mad.bus.trigger("passbolt_notify",{title:this.response.header.title,status:this.response.header.status,data:this.response}),this.response.getStatus()==mad.net.Response.STATUS_ERROR&&this.response.getMessage()==__("You need to login to access this location")){if($(".session-expired-dialog").length>0)return;new mad.component.Dialog(null,{label:__("Session expired"),cssClasses:["session-expired-dialog","dialog-wrapper"]}).start().add(passbolt.component.SessionExpired,{})}else this.response.attr("header").title=this.response.getMessage();this._super()}})}),function(e){function t(e,t,n){var s,i,r,c,p,f,m,h,_=0,v=[],g=0,b=!1,w=!1,y=[],x=[],C=!1;if(n=n||{},s=n.encoding||"UTF8",h=n.numRounds||1,r=l(t,s),h!==parseInt(h,10)||1>h)throw Error("numRounds must a integer >= 1");if("SHA-1"===e)p=512,f=N,m=R,c=160;else if(f=function(t,n){return D(t,n,e)},m=function(t,n,s,i){var r,a;if("SHA-224"===e||"SHA-256"===e)r=15+(n+65>>>9<<4),a=16;else{if("SHA-384"!==e&&"SHA-512"!==e)throw Error("Unexpected error in SHA-2 implementation");r=31+(n+129>>>10<<5),a=32}for(;t.length<=r;)t.push(0);for(t[n>>>5]|=128<<24-n%32,t[r]=n+s,s=t.length,n=0;n<s;n+=a)i=D(t.slice(n,n+a),i,e);if("SHA-224"===e)t=[i[0],i[1],i[2],i[3],i[4],i[5],i[6]];else if("SHA-256"===e)t=i;else if("SHA-384"===e)t=[i[0].a,i[0].b,i[1].a,i[1].b,i[2].a,i[2].b,i[3].a,i[3].b,i[4].a,i[4].b,i[5].a,i[5].b];else{if("SHA-512"!==e)throw Error("Unexpected error in SHA-2 implementation");t=[i[0].a,i[0].b,i[1].a,i[1].b,i[2].a,i[2].b,i[3].a,i[3].b,i[4].a,i[4].b,i[5].a,i[5].b,i[6].a,i[6].b,i[7].a,i[7].b]}return t},"SHA-224"===e)p=512,c=224;else if("SHA-256"===e)p=512,c=256;else if("SHA-384"===e)p=1024,c=384;else{if("SHA-512"!==e)throw Error("Chosen SHA variant is not supported");p=1024,c=512}i=P(e),this.setHMACKey=function(t,n,r){var a;if(!0===w)throw Error("HMAC key already set");if(!0===b)throw Error("Cannot set HMAC key after finalizing hash");if(!0===C)throw Error("Cannot set HMAC key after calling update");if(s=(r||{}).encoding||"UTF8",n=l(n,s)(t),t=n.binLen,n=n.value,a=p>>>3,r=a/4-1,a<t/8){for(n=m(n,t,0,P(e));n.length<=r;)n.push(0);n[r]&=4294967040}else if(a>t/8){for(;n.length<=r;)n.push(0);n[r]&=4294967040}for(t=0;t<=r;t+=1)y[t]=909522486^n[t],x[t]=1549556828^n[t];i=f(y,i),_=p,w=!0},this.update=function(e){var t,n,s,a=0,o=p>>>5;for(e=(t=r(e,v,g)).binLen,n=t.value,t=e>>>5,s=0;s<t;s+=o)a+p<=e&&(i=f(n.slice(s,s+o),i),a+=p);_+=a,v=n.slice(a>>>5),g=e%p,C=!0},this.getHash=function(t,n){var s,r,l;if(!0===w)throw Error("Cannot call getHash after setting HMAC key");switch(l=d(n),t){case"HEX":s=function(e){return a(e,l)};break;case"B64":s=function(e){return o(e,l)};break;case"BYTES":s=u;break;default:throw Error("format must be HEX, B64, or BYTES")}if(!1===b)for(i=m(v,g,_,i),r=1;r<h;r+=1)i=m(i,c,0,P(e));return b=!0,s(i)},this.getHMAC=function(t,n){var s,r,l;if(!1===w)throw Error("Cannot call getHMAC without first setting HMAC key");switch(l=d(n),t){case"HEX":s=function(e){return a(e,l)};break;case"B64":s=function(e){return o(e,l)};break;case"BYTES":s=u;break;default:throw Error("outputFormat must be HEX, B64, or BYTES")}return!1===b&&(r=m(v,g,_,i),i=f(x,P(e)),i=m(r,c,p,i)),b=!0,s(i)}}function n(e,t){this.a=e,this.b=t}function s(e,t,n){var s,i,r,a,o,u=e.length;if(t=t||[0],n=n||0,o=n>>>3,0!=u%2)throw Error("String of HEX type must be in byte increments");for(s=0;s<u;s+=2){if(i=parseInt(e.substr(s,2),16),isNaN(i))throw Error("String of HEX type contains invalid characters");for(r=(a=(s>>>1)+o)>>>2;t.length<=r;)t.push(0);t[r]|=i<<8*(3-a%4)}return{value:t,binLen:4*u+n}}function i(e,t,n){var s,i,r,a,o=[],o=t||[0];for(i=(n=n||0)>>>3,s=0;s<e.length;s+=1)t=e.charCodeAt(s),a=s+i,r=a>>>2,o.length<=r&&o.push(0),o[r]|=t<<8*(3-a%4);return{value:o,binLen:8*e.length+n}}function r(e,t,n){var s,i,r,a,o,u,d=[],l=0,d=t||[0];if(n=n||0,t=n>>>3,-1===e.search(/^[a-zA-Z0-9=+\/]+$/))throw Error("Invalid character in base-64 string");if(i=e.indexOf("="),e=e.replace(/\=/g,""),-1!==i&&i<e.length)throw Error("Invalid '=' found in base-64 string");for(i=0;i<e.length;i+=4){for(o=e.substr(i,4),r=a=0;r<o.length;r+=1)s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(o[r]),a|=s<<18-6*r;for(r=0;r<o.length-1;r+=1){for(s=(u=l+t)>>>2;d.length<=s;)d.push(0);d[s]|=(a>>>16-8*r&255)<<8*(3-u%4),l+=1}}return{value:d,binLen:8*l+n}}function a(e,t){var n,s,i="",r=4*e.length;for(n=0;n<r;n+=1)s=e[n>>>2]>>>8*(3-n%4),i+="0123456789abcdef".charAt(s>>>4&15)+"0123456789abcdef".charAt(15&s);return t.outputUpper?i.toUpperCase():i}function o(e,t){var n,s,i,r="",a=4*e.length;for(n=0;n<a;n+=3)for(i=n+1>>>2,s=e.length<=i?0:e[i],i=n+2>>>2,i=e.length<=i?0:e[i],i=(e[n>>>2]>>>8*(3-n%4)&255)<<16|(s>>>8*(3-(n+1)%4)&255)<<8|i>>>8*(3-(n+2)%4)&255,s=0;4>s;s+=1)8*n+6*s<=32*e.length?r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(i>>>6*(3-s)&63):r+=t.b64Pad;return r}function u(e){var t,n,s="",i=4*e.length;for(t=0;t<i;t+=1)n=e[t>>>2]>>>8*(3-t%4)&255,s+=String.fromCharCode(n);return s}function d(e){var t={outputUpper:!1,b64Pad:"="};if(e=e||{},t.outputUpper=e.outputUpper||!1,!0===e.hasOwnProperty("b64Pad")&&(t.b64Pad=e.b64Pad),"boolean"!=typeof t.outputUpper)throw Error("Invalid outputUpper formatting option");if("string"!=typeof t.b64Pad)throw Error("Invalid b64Pad formatting option");return t}function l(e,t){var n;switch(t){case"UTF8":case"UTF16BE":case"UTF16LE":break;default:throw Error("encoding must be UTF8, UTF16BE, or UTF16LE")}switch(e){case"HEX":n=s;break;case"TEXT":n=function(e,n,s){var i,r,a,o,u,d=[],l=[],c=0,d=n||[0];if(n=s||0,a=n>>>3,"UTF8"===t)for(i=0;i<e.length;i+=1)for(s=e.charCodeAt(i),l=[],128>s?l.push(s):2048>s?(l.push(192|s>>>6),l.push(128|63&s)):55296>s||57344<=s?l.push(224|s>>>12,128|s>>>6&63,128|63&s):(i+=1,s=65536+((1023&s)<<10|1023&e.charCodeAt(i)),l.push(240|s>>>18,128|s>>>12&63,128|s>>>6&63,128|63&s)),r=0;r<l.length;r+=1){for(o=(u=c+a)>>>2;d.length<=o;)d.push(0);d[o]|=l[r]<<8*(3-u%4),c+=1}else if("UTF16BE"===t||"UTF16LE"===t)for(i=0;i<e.length;i+=1){for(s=e.charCodeAt(i),"UTF16LE"===t&&(r=255&s,s=r<<8|s>>>8),o=(u=c+a)>>>2;d.length<=o;)d.push(0);d[o]|=s<<8*(2-u%4),c+=2}return{value:d,binLen:8*c+n}};break;case"B64":n=r;break;case"BYTES":n=i;break;default:throw Error("format must be HEX, TEXT, B64, or BYTES")}return n}function c(e,t){return e<<t|e>>>32-t}function p(e,t){return e>>>t|e<<32-t}function f(e,t){var s=null,s=new n(e.a,e.b);return s=32>=t?new n(s.a>>>t|s.b<<32-t&4294967295,s.b>>>t|s.a<<32-t&4294967295):new n(s.b>>>t-32|s.a<<64-t&4294967295,s.a>>>t-32|s.b<<64-t&4294967295)}function m(e,t){return 32>=t?new n(e.a>>>t,e.b>>>t|e.a<<32-t&4294967295):new n(0,e.a>>>t-32)}function h(e,t,n){return e&t^~e&n}function _(e,t,s){return new n(e.a&t.a^~e.a&s.a,e.b&t.b^~e.b&s.b)}function v(e,t,n){return e&t^e&n^t&n}function g(e,t,s){return new n(e.a&t.a^e.a&s.a^t.a&s.a,e.b&t.b^e.b&s.b^t.b&s.b)}function b(e){return p(e,2)^p(e,13)^p(e,22)}function w(e){var t=f(e,28),s=f(e,34);return e=f(e,39),new n(t.a^s.a^e.a,t.b^s.b^e.b)}function y(e){return p(e,6)^p(e,11)^p(e,25)}function x(e){var t=f(e,14),s=f(e,18);return e=f(e,41),new n(t.a^s.a^e.a,t.b^s.b^e.b)}function C(e){return p(e,7)^p(e,18)^e>>>3}function S(e){var t=f(e,1),s=f(e,8);return e=m(e,7),new n(t.a^s.a^e.a,t.b^s.b^e.b)}function j(e){return p(e,17)^p(e,19)^e>>>10}function k(e){var t=f(e,19),s=f(e,61);return e=m(e,6),new n(t.a^s.a^e.a,t.b^s.b^e.b)}function E(e,t){var n=(65535&e)+(65535&t);return((e>>>16)+(t>>>16)+(n>>>16)&65535)<<16|65535&n}function T(e,t,n,s){var i=(65535&e)+(65535&t)+(65535&n)+(65535&s);return((e>>>16)+(t>>>16)+(n>>>16)+(s>>>16)+(i>>>16)&65535)<<16|65535&i}function I(e,t,n,s,i){var r=(65535&e)+(65535&t)+(65535&n)+(65535&s)+(65535&i);return((e>>>16)+(t>>>16)+(n>>>16)+(s>>>16)+(i>>>16)+(r>>>16)&65535)<<16|65535&r}function M(e,t){var s,i,r;return s=(65535&e.b)+(65535&t.b),i=(e.b>>>16)+(t.b>>>16)+(s>>>16),r=(65535&i)<<16|65535&s,s=(65535&e.a)+(65535&t.a)+(i>>>16),i=(e.a>>>16)+(t.a>>>16)+(s>>>16),new n((65535&i)<<16|65535&s,r)}function A(e,t,s,i){var r,a,o;return r=(65535&e.b)+(65535&t.b)+(65535&s.b)+(65535&i.b),a=(e.b>>>16)+(t.b>>>16)+(s.b>>>16)+(i.b>>>16)+(r>>>16),o=(65535&a)<<16|65535&r,r=(65535&e.a)+(65535&t.a)+(65535&s.a)+(65535&i.a)+(a>>>16),a=(e.a>>>16)+(t.a>>>16)+(s.a>>>16)+(i.a>>>16)+(r>>>16),new n((65535&a)<<16|65535&r,o)}function O(e,t,s,i,r){var a,o,u;return a=(65535&e.b)+(65535&t.b)+(65535&s.b)+(65535&i.b)+(65535&r.b),o=(e.b>>>16)+(t.b>>>16)+(s.b>>>16)+(i.b>>>16)+(r.b>>>16)+(a>>>16),u=(65535&o)<<16|65535&a,a=(65535&e.a)+(65535&t.a)+(65535&s.a)+(65535&i.a)+(65535&r.a)+(o>>>16),o=(e.a>>>16)+(t.a>>>16)+(s.a>>>16)+(i.a>>>16)+(r.a>>>16)+(a>>>16),new n((65535&o)<<16|65535&a,u)}function P(e){var t,s;if("SHA-1"===e)e=[1732584193,4023233417,2562383102,271733878,3285377520];else switch(t=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428],s=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],e){case"SHA-224":e=t;break;case"SHA-256":e=s;break;case"SHA-384":e=[new n(3418070365,t[0]),new n(1654270250,t[1]),new n(2438529370,t[2]),new n(355462360,t[3]),new n(1731405415,t[4]),new n(41048885895,t[5]),new n(3675008525,t[6]),new n(1203062813,t[7])];break;case"SHA-512":e=[new n(s[0],4089235720),new n(s[1],2227873595),new n(s[2],4271175723),new n(s[3],1595750129),new n(s[4],2917565137),new n(s[5],725511199),new n(s[6],4215389547),new n(s[7],327033209)];break;default:throw Error("Unknown SHA variant")}return e}function N(e,t){var n,s,i,r,a,o,u,d=[];for(n=t[0],s=t[1],i=t[2],r=t[3],a=t[4],u=0;80>u;u+=1)d[u]=16>u?e[u]:c(d[u-3]^d[u-8]^d[u-14]^d[u-16],1),o=20>u?I(c(n,5),s&i^~s&r,a,1518500249,d[u]):40>u?I(c(n,5),s^i^r,a,1859775393,d[u]):60>u?I(c(n,5),v(s,i,r),a,2400959708,d[u]):I(c(n,5),s^i^r,a,3395469782,d[u]),a=r,r=i,i=c(s,30),s=n,n=o;return t[0]=E(n,t[0]),t[1]=E(s,t[1]),t[2]=E(i,t[2]),t[3]=E(r,t[3]),t[4]=E(a,t[4]),t}function R(e,t,n,s){var i;for(i=15+(t+65>>>9<<4);e.length<=i;)e.push(0);for(e[t>>>5]|=128<<24-t%32,e[i]=t+n,n=e.length,t=0;t<n;t+=16)s=N(e.slice(t,t+16),s);return s}function D(e,t,s){var i,r,a,o,u,d,l,c,p,f,m,P,N,R,D,F,$,V,z,G,q,H,B,W=[];if("SHA-224"===s||"SHA-256"===s)f=64,P=1,H=Number,N=E,R=T,D=I,F=C,$=j,V=b,z=y,q=v,G=h,B=L;else{if("SHA-384"!==s&&"SHA-512"!==s)throw Error("Unexpected error in SHA-2 implementation");f=80,P=2,H=n,N=M,R=A,D=O,F=S,$=k,V=w,z=x,q=g,G=_,B=U}for(s=t[0],i=t[1],r=t[2],a=t[3],o=t[4],u=t[5],d=t[6],l=t[7],m=0;m<f;m+=1)16>m?(p=m*P,c=e.length<=p?0:e[p],p=e.length<=p+1?0:e[p+1],W[m]=new H(c,p)):W[m]=R($(W[m-2]),W[m-7],F(W[m-15]),W[m-16]),c=D(l,z(o),G(o,u,d),B[m],W[m]),p=N(V(s),q(s,i,r)),l=d,d=u,u=o,o=N(a,c),a=r,r=i,i=s,s=N(c,p);return t[0]=N(s,t[0]),t[1]=N(i,t[1]),t[2]=N(r,t[2]),t[3]=N(a,t[3]),t[4]=N(o,t[4]),t[5]=N(u,t[5]),t[6]=N(d,t[6]),t[7]=N(l,t[7]),t}var L,U;U=[new n((L=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298])[0],3609767458),new n(L[1],602891725),new n(L[2],3964484399),new n(L[3],2173295548),new n(L[4],4081628472),new n(L[5],3053834265),new n(L[6],2937671579),new n(L[7],3664609560),new n(L[8],2734883394),new n(L[9],1164996542),new n(L[10],1323610764),new n(L[11],3590304994),new n(L[12],4068182383),new n(L[13],991336113),new n(L[14],633803317),new n(L[15],3479774868),new n(L[16],2666613458),new n(L[17],944711139),new n(L[18],2341262773),new n(L[19],2007800933),new n(L[20],1495990901),new n(L[21],1856431235),new n(L[22],3175218132),new n(L[23],2198950837),new n(L[24],3999719339),new n(L[25],766784016),new n(L[26],2566594879),new n(L[27],3203337956),new n(L[28],1034457026),new n(L[29],2466948901),new n(L[30],3758326383),new n(L[31],168717936),new n(L[32],1188179964),new n(L[33],1546045734),new n(L[34],1522805485),new n(L[35],2643833823),new n(L[36],2343527390),new n(L[37],1014477480),new n(L[38],1206759142),new n(L[39],344077627),new n(L[40],1290863460),new n(L[41],3158454273),new n(L[42],3505952657),new n(L[43],106217008),new n(L[44],3606008344),new n(L[45],1432725776),new n(L[46],1467031594),new n(L[47],851169720),new n(L[48],3100823752),new n(L[49],1363258195),new n(L[50],3750685593),new n(L[51],3785050280),new n(L[52],3318307427),new n(L[53],3812723403),new n(L[54],2003034995),new n(L[55],3602036899),new n(L[56],1575990012),new n(L[57],1125592928),new n(L[58],2716904306),new n(L[59],442776044),new n(L[60],593698344),new n(L[61],3733110249),new n(L[62],2999351573),new n(L[63],3815920427),new n(3391569614,3928383900),new n(3515267271,566280711),new n(3940187606,3454069534),new n(4118630271,4000239992),new n(116418474,1914138554),new n(174292421,2731055270),new n(289380356,3203993006),new n(460393269,320620315),new n(685471733,587496836),new n(852142971,1086792851),new n(1017036298,365543100),new n(1126000580,2618297676),new n(1288033470,3409855158),new n(1501505948,4234509866),new n(1607167915,987167468),new n(1816402316,1246189591)],"function"==typeof define&&define.amd?define("sha1",function(){return t}):"undefined"!=typeof exports?"undefined"!=typeof module&&module.exports?module.exports=exports=t:exports=t:e.jsSHA=t}(this),define("app/util/common",["exports","sha1","xregexp","moment","passbolt-mad/component/component","moment-timezone"],function(e,t,n,s){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(t),a=i(n),o=i(s),u=passbolt.Common=mad.Component.extend("passbolt.Common",{uuid:function(e){var t=new r.default("SHA-1","TEXT");t.update(e);var n=t.getHash("HEX").substring(0,32),s=(0,a.default)("^(?<first>.{8})(?<second>.{4})(?<third>.{1})(?<fourth>.{3})(?<fifth>.{1})(?<sixth>.{3})(?<seventh>.{12}$)"),i=(0,a.default)("${first}-${second}-3${fourth}-a${sixth}-${seventh}");return a.default.replace(n,s,i).replace(/\//g,"")},datetimeToJSDate:function(e){var t=(e=e.split(" "))[0],n=e[1],s=t.split("-"),i=n.split(":");return new Date(s[0],s[1]-1,s[2],i[0],i[1],i[2])},datetimeGetTimeAgo:function(e){return o.default.tz(e,cakephpConfig.app.server_timezone).fromNow()},decodeHtmlEntities:function(e){return $("<textarea/>").html(e).text()}},{});e.default=u}),define("passbolt-mad/component/composite",["exports","passbolt-mad/component/component"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=mad.component.Composite=mad.Component.extend("mad.component.Composite",{defaults:{label:"Composite Component Controller"}},{init:function(e,t){this._components=[],this._super(e,t)},getComponent:function(e){return this._components[e]},addComponent:function(e){return this._components[e.getId()]=e,e}});e.default=t}),define("passbolt-mad/view/component/tree",["exports","passbolt-mad/view/view","passbolt-mad/helper/html"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=mad.view.component.Tree=mad.View.extend("mad.view.component.Tree",{},{getItemElement:function(e){var t=this.getController();return $("#"+t.options.prefixItemId+e.id,this.element)},insertItem:function(e,t,n){n=n||"last";var s=null,i=null,r="",a=this.getController(),o=a.getMap().mapObject(e);""!=a.options.prefixItemId&&void 0!=a.options.prefixItemId&&(o.id=a.options.prefixItemId+o.id),a.setViewData("mappedItem",o);var u=!(!o.children||!o.children.length);a.setViewData("hasChildren",u);var d=[];if(void 0!==o.cssClasses&&(d=d.concat(o.cssClasses)),a.setViewData("cssClasses",d),void 0!==t&&null!==t){if(!(i=this.getItemElement(t)).length)throw new mad.Exception.get("No HTMLElement found for the given item (%0).",[t.id]);switch(n){case"first":case"last":case"inside":var l=i.find("ul:first");i=l.length?l:$("<ul></ul>").appendTo(i);break;case"before":case"after":i=i}}else i=this.element;return r=mad.View.render(a.options.itemTemplate,a.getViewData()),s=mad.helper.Html.create(i,n,r),can.data(s,a.getItemClass().fullName,e),s},removeItem:function(e){this.getItemElement(e).remove()},refreshItem:function(e){var t=this,n=this.getItemElement(e),s=this.getController(),i=s.getMap().mapObject(e);i.id=s.options.prefixItemId+i.id,s.setViewData("mappedItem",i);var r=!(!i.children||!i.children.length);s.setViewData("hasChildren",r);var a=[];void 0!==i.cssClasses&&(a=a.concat(i.cssClasses)),s.setViewData("cssClasses",a);var o=mad.View.render(s.options.itemTemplate,s.getViewData());return n.replaceWith(o),n=this.getItemElement(e),can.data(n,s.getItemClass().fullName,e),r&&can.each(e.children,function(e,n){t.insertItem(e,i.id,"last")}),n},reset:function(){$("li",this.element).remove()},selectItem:function(e){this.unselectAll();var t=this.getItemElement(e);$(".row:first",t).addClass("selected")},unselectItem:function(e){this.getItemElement(e).removeClass("selected")},unselectAll:function(){$(".row.selected",this.element).removeClass("selected")},rightSelectItem:function(e){},hoverItem:function(e,t,n){},"li .main-cell a click":function(e,t){t.stopPropagation(),t.preventDefault();var n=null,s=e.parents("li:first"),i=this.getController().getItemClass();return n=i?s.data(i.fullName):s[0].id,this.element.trigger("item_selected",[n,t]),!1},"li a contextmenu":function(e,t){if(t.stopPropagation(),t.preventDefault(),3==t.which){var n=null,s=e.parents("li:first"),i=this.getController().getItemClass();n=i?s.data(i.fullName):s[0].id,this.element.trigger("item_right_selected",[n,t])}return!1},"li a hover":function(e,t){t.stopPropagation(),t.preventDefault();var n=null,s=e.parents("li:first"),i=this.getController().getItemClass();return n=i?s.data(i.fullName):s[0].id,this.element.trigger("item_hovered",[n,t]),!1}});e.default=t}),define("passbolt-mad/view/template/component/tree/treeItem.ejs!passbolt-mad/lib/can/viewEjsSystem",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("passbolt-mad_view_template_component_tree_treeItem_ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push('<li id="'),___v1ew.push(can.view.txt(!0,"li","id",this,function(){return mappedItem.id})),___v1ew.push('" class="'),___v1ew.push(can.view.txt(!0,"li","class",this,function(){return cssClasses.join(" ")})),___v1ew.push('"',can.view.pending({scope:this}),">"),___v1ew.push('\n\t<div class="row">\n\t\t<div class="main-cell-wrapper">\n\t\t\t<div class="main-cell">\n\t\t\t\t<a><span>'),___v1ew.push(can.view.txt(1,"span",0,this,function(){return mappedItem.label})),___v1ew.push("</span></a>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t\n"),___v1ew.push(can.view.txt(0,"li",0,this,function(){var e=[];return hasChildren&&e.push("\n\t<ul>\n\t</ul>\n"),e.join("")})),___v1ew.push("\n</li>\n"),___v1ew.join("")}}))}),define("passbolt-mad/component/tree",["exports","passbolt-mad/view/template/component/tree/treeItem.ejs!","passbolt-mad/component/component","passbolt-mad/view/component/tree"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(t),s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=mad.component.Tree=mad.Component.extend("mad.component.Tree",{defaults:{label:"Tree Component",cssClasses:["tree"],tag:"ul",viewClass:mad.view.component.Tree,itemTemplate:n.default,itemClass:mad.Model,items:new can.Model.List,map:null,prefixItemId:"",callbacks:{item_selected:null,item_right_selected:null,item_hovered:null}}},{init:function(e,t){t.items=new t.itemClass.List,null==t.map&&(t.map=this._getDefaultMap()),this._super(e,t)},_getDefaultMap:function(){return new mad.Map({id:"id",label:{key:"id",func:function(e,t,n){var s=["label","title","name","id"];for(var i in s)if(void 0!==n[s[i]])return n[s[i]];return null}},children:{key:"children",func:mad.Map.mapObjects}})},insertItem:function(e,t,n){var i=this;if(null==this.getItemClass())throw mad.Exception.get("The associated itemClass can not be null");if(!(e instanceof this.getItemClass()))throw mad.Exception.get(mad.error.WRONG_PARAMETER,"item");if(this.options.items.push(e),this.view.insertItem(e,t,n),void 0!=s(this.options.map.map.children)&&null!=this.options.map.map.children){var r=this.options.map._getObjFieldPointer(e,this.options.map.map.children.key);void 0!=(void 0===r?"undefined":s(r))&&null!=r&&r.length>0&&can.each(r,function(t,n){i.insertItem(t,e,"last")})}},removeItem:function(e){var t=this.options.items.indexOf(e);-1!=t&&(this.options.items.splice(t,1),this.view.removeItem(e))},refreshItem:function(e){if(null==this.getItemClass())throw new mad.Exception("The associated itemClass can not be null");if(!(e instanceof this.getItemClass()))throw new mad.error.WrongParameter("item",this.getItemClass().fullName);this.view.refreshItem(e)},reset:function(){this.options.items.splice(0),this.view.reset()},load:function(e){if(void 0!=(void 0===e?"undefined":s(e))&&null!=e){if(e instanceof can.Model.List){var t=e;e=[],t.each(function(t){e.push(t)})}for(var n in e)this.insertItem(e[n])}},getItemClass:function(){return this.options.itemClass},setItemClass:function(e){this.options.itemClass=e},getMap:function(){return this.options.map},setMap:function(e){this.options.map=e},selectItem:function(e){this.view.selectItem(e)},rightSelectItem:function(e){this.view.rightSelectItem(e)},unselectItem:function(e){this.view.unselectAll()},hoverItem:function(e){this.view.hoverItem(e)},unselectAll:function(){this.view.unselectAll()}," item_selected":function(e,t,n,s){this.selectItem(n),this.options.callbacks.itemSelected&&this.options.callbacks.itemSelected(e,t,n,s)}," item_right_selected":function(e,t,n,s){this.rightSelectItem(n),this.options.callbacks.itemRightSelected&&this.options.callbacks.itemRightSelected(e,t,n,s)}," item_hovered":function(e,t,n,s){this.hoverItem(n),this.options.callbacks.itemHovered&&this.options.callbacks.itemHovered(e,t,n,s)}});e.default=i}),define("passbolt-mad/model/action",["exports","passbolt-mad/model/model","passbolt-mad/model/state"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=mad.model.Action=mad.Model.extend("mad.model.Action",{attributes:{id:"string",label:"string",name:"string",icon:"string",action:"function",cssClasses:"array",initial_state:"string",state:mad.model.State.model,active:"boolean"}},{init:function(){void 0===this.initial_state&&(this.initial_state="ready"),this.state=new mad.model.State,this.state.setState(this.initial_state),void 0!==this.cssClasses&&null!=this.cssClasses||(this.cssClasses=[])},execute:function(e){this.action&&this.action(e)}});e.default=t}),define("passbolt-mad/view/template/component/menu/menu_item.ejs!passbolt-mad/lib/can/viewEjsSystem",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("passbolt-mad_view_template_component_menu_menu_item_ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push('<li id="'),___v1ew.push(can.view.txt(!0,"li","id",this,function(){return mappedItem.id})),___v1ew.push('" '),___v1ew.push(can.view.txt(1,"li",1,this,function(){return can.proxy(function(e){can.$(e).data(itemClass.fullName,item)},this)})),___v1ew.push(' class="'),___v1ew.push(can.view.txt(!0,"li","class",this,function(){return cssClasses.join(" ")})),___v1ew.push('"',can.view.pending({scope:this}),">"),___v1ew.push('\n\t<div class="row">\n\t\t<div class="main-cell-wrapper">\n\t\t\t<div class="main-cell">\n\t\t\t\t<a><span>'),___v1ew.push(can.view.txt(1,"span",0,this,function(){return mappedItem.label})),___v1ew.push("</span></a>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t\n"),___v1ew.push(can.view.txt(0,"li",0,this,function(){var e=[];return hasChildren&&e.push("\n\t<ul>\n\t</ul>\n"),e.join("")})),___v1ew.push("\n</li>\n"),___v1ew.join("")}}))}),define("passbolt-mad/component/menu",["exports","passbolt-mad/view/template/component/menu/menu_item.ejs!","passbolt-mad/component/component","passbolt-mad/component/tree","passbolt-mad/util/map/map","passbolt-mad/model/action"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(t),s=mad.component.Menu=mad.component.Tree.extend("mad.component.Menu",{defaults:{label:"Menu",cssClasses:["menu"],viewClass:mad.view.component.Tree,itemTemplate:n.default,itemClass:mad.model.Action,map:new mad.Map({id:"id",label:"label",cssClasses:{key:"cssClasses",func:function(e,t,n,s){var i=$.merge([],e);return void 0!==n.state&&(i=$.merge(i,n.state.current)),i.join(" ")}},children:{key:"children",func:mad.Map.mapObjects}})}},{setItemState:function(e,t){for(var n in this.options.items)if(this.options.items[n].id==e)return this.options.items[n].state.setState(t),void this.refreshItem(this.options.items[n]);throw mad.Exception.get("The item [%0] is not an item of the menu",[e])}," item_selected":function(e,t,n){this._super(e,t,n),n.state.is("disabled")||n.execute(this)}});e.default=s}),define("passbolt-mad/view/component/tab",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=mad.view.component.Tab=mad.View.extend("mad.view.component.Tab",{},{selectTab:function(e){this.getController().getComponent(e).view.addClass("selected"),$("#js_tab_nav_"+e,this.element).find("a").addClass("selected")},unselectTab:function(e){this.getController().getComponent(e).view.removeClass("selected"),$("#js_tab_nav_"+e,this.element).find("a").removeClass("selected")}});e.default=t}),define("passbolt-mad/view/template/component/tab/tab.ejs!passbolt-mad/lib/can/viewEjsSystem",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("passbolt-mad_view_template_component_tab_tab_ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push(can.view.txt(0,"span",0,this,function(){var e=[];return autoMenu&&e.push('\n<ul class="js_tabs_nav tabs-nav">\n</ul>\n'),e.join("")})),___v1ew.push('\n<div class="js_tabs_content tabs-content">\n</div>\n'),___v1ew.join("")}}))}),define("passbolt-mad/component/tab",["exports","passbolt-mad/view/template/component/tab/tab.ejs!","passbolt-mad/component/composite","passbolt-mad/component/menu","passbolt-mad/view/component/tab"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(t),s=mad.component.Tab=mad.component.Composite.extend("mad.component.Tab",{defaults:{label:"Tab Controller",viewClass:mad.view.component.Tab,template:n.default,autoMenu:!0}},{init:function(e,t){this.enabledId=null,this._super(e,t),this.setViewData("autoMenu",this.options.autoMenu)},afterStart:function(){this.options.autoMenu&&(this.options.menu=new mad.component.Menu($(".js_tabs_nav",this.element)),this.options.menu.start()),this.on()},"{menu.element} item_selected":function(e,t,n){if(this.options.autoMenu){var s=n.id.replace("js_tab_nav_","");this.enableTab(s)}},enableTab:function(e){this.enabledTabId&&(this.getComponent(this.enabledTabId).setState("hidden"),this.view.unselectTab(this.enabledTabId)),this.enabledTabId=e;var t=this.getComponent(this.enabledTabId);t.state.is(null)?t.start():t.state.is("hidden")&&t.setState("ready"),this.view.selectTab(this.enabledTabId)},addComponent:function(e,t){var n=["tab-content"];if(void 0!==t.id?t.id=t.id:t.id=uuid(),this.options.autoMenu){var s=new mad.model.Action({id:"js_tab_nav_"+t.id,label:t.label});this.options.menu.insertItem(s)}$.isArray(t.cssClasses)?$.merge(t.cssClasses,n):t.cssClasses=n;var i=mad.helper.Component.create($(".js_tabs_content",this.element),"last",e,t);return this._super(i)}});e.default=s}),define("app/component/settings_menu",["exports","passbolt-mad/component/menu"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=passbolt.component.SettingsMenu=mad.component.Menu.extend("passbolt.component.SettingsMenu",{defaults:{menuItems:null}},{afterStart:function(){this.load(this.options.menuItems)}});e.default=t}),define("app/view/template/component/settings_workspace_menu.ejs!passbolt-mad/lib/can/viewEjsSystem",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("app_view_template_component_settings_workspace_menu_ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push('<li>\n\t<a id="js_settings_wk_menu_edition_button" class="button section-profile">\n\t\t<i class="fa fa-fw fa-edit"></i>\n\t\t<span>'),___v1ew.push(can.view.txt(1,"span",0,this,function(){return __("edit")})),___v1ew.push('</span>\n\t</a>\n    <a id="js_settings_wk_menu_download_public_key" class="button section-keys">\n        <i class="fa fa-fw fa-download"></i>\n        <span>'),___v1ew.push(can.view.txt(1,"span",0,this,function(){return __("Public")})),___v1ew.push('</span>\n    </a>\n    <a id="js_settings_wk_menu_download_private_key" class="button section-keys">\n        <i class="fa fa-fw fa-download"></i>\n        <span>'),___v1ew.push(can.view.txt(1,"span",0,this,function(){return __("Private")})),___v1ew.push("</span>\n    </a>\n</li>\n"),___v1ew.join("")}}))}),define("app/component/settings_workspace_menu",["exports","app/view/template/component/settings_workspace_menu.ejs!","passbolt-mad/component/component"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(t),s=passbolt.component.SettingsWorkspaceMenu=mad.Component.extend("passbolt.component.SettingsWorkspaceMenu",{defaults:{label:"Settings Workspace Menu",template:n.default}},{afterStart:function(){this.options.sectionItems={profile:{},keys:{}},this.options.sectionItems.profile.edit=new mad.component.Button($("#js_settings_wk_menu_edition_button")).start(),this.options.sectionItems.keys.downloadPublic=new mad.component.Button($("#js_settings_wk_menu_download_public_key")).start(),this.options.sectionItems.keys.downloadPrivate=new mad.component.Button($("#js_settings_wk_menu_download_private_key")).start(),this.on()},"{sectionItems.profile.edit.element} click":function(e,t){mad.bus.trigger("request_profile_edition")},"{sectionItems.keys.downloadPublic.element} click":function(e,t){mad.bus.trigger("passbolt.settings.download_public_key")},"{sectionItems.keys.downloadPrivate.element} click":function(e,t){mad.bus.trigger("passbolt.settings.download_private_key")},"{mad.bus.element} request_settings_section":function(e,t,n){if("undefined"!=this.options.sectionItems[n])for(var s in this.options.sectionItems)for(var i in this.options.sectionItems[s])s==n?this.options.sectionItems[s][i].setState("ready"):this.options.sectionItems[s][i].setState("hidden")}});e.default=s}),define("app/view/template/component/breadcrumb/breadcrumb.ejs!passbolt-mad/lib/can/viewEjsSystem",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("app_view_template_component_breadcrumb_breadcrumb_ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push("<ul>\n</ul>\n"),___v1ew.join("")}}))}),define("app/view/template/component/breadcrumb/breadcrumb_item.ejs!passbolt-mad/lib/can/viewEjsSystem",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("app_view_template_component_breadcrumb_breadcrumb_item_ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return"undefined"==typeof cssClasses&&(cssClasses=""),___v1ew.push('\n<li id="'),___v1ew.push(can.view.txt(!0,"li","id",this,function(){return mappedItem.id})),___v1ew.push('" '),___v1ew.push(can.view.txt(1,"li",1,this,function(){return can.proxy(function(e){can.$(e).data(itemClass.fullName,item)},this)})),___v1ew.push(' class="'),___v1ew.push(can.view.txt(!0,"li","class",this,function(){return cssClasses})),___v1ew.push('"',can.view.pending({scope:this}),">"),___v1ew.push('\n    <div class="main-cell">\n        <a><span>'),___v1ew.push(can.view.txt(1,"span",0,this,function(){return mappedItem.label})),___v1ew.push("</span></a>\n    </div>\n</li>\n"),___v1ew.join("")}}))}),define("app/component/breadcrumb/settings_breadcrumb",["exports","app/view/template/component/breadcrumb/breadcrumb.ejs!","app/view/template/component/breadcrumb/breadcrumb_item.ejs!","passbolt-mad/component/component"],function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0});var i=s(t),r=s(n),a=passbolt.component.SettingsBreadcrumb=mad.Component.extend("passbolt.component.SettingsBreadcrumb",{defaults:{template:i.default,status:"hidden",filter:null}},{afterStart:function(){var e="#"+this.getId()+" ul";this.options.menu=new mad.component.Menu(e,{itemTemplate:r.default}),this.options.menu.start(),this.menuItems=[],this.sectionMenuItems=[],t=new mad.model.Action({id:uuid(),label:__("All users"),action:function(){var e=new passbolt.model.Filter({label:__("All users"),type:passbolt.model.Filter.SHORTCUT});mad.bus.trigger("request_workspace","user"),mad.bus.trigger("filter_users_browser",e)}}),this.menuItems.push(t);var t=new mad.model.Action({id:uuid(),label:passbolt.model.User.getCurrent().Profile.first_name+" "+passbolt.model.User.getCurrent().Profile.last_name,action:function(){mad.bus.trigger("request_settings_section","profile")}});this.menuItems.push(t),this.sectionMenuItems.profile=[new mad.model.Action({id:uuid(),label:__("Profile"),action:function(){}})],this.sectionMenuItems.keys=[new mad.model.Action({id:uuid(),label:__("Keys management"),action:function(){}})]},load:function(){},destroy:function(){$("#"+this.getId()+" ul").empty(),this._super()},refreshMenuItems:function(e){var t=void 0!==this.sectionMenuItems[e]?$.merge($.merge([],this.menuItems),this.sectionMenuItems[e]):this.menuItems;this.options.menu.reset(),this.options.menu.load(t)},"{mad.bus.element} request_settings_section":function(e,t,n){this.refreshMenuItems(n)}});e.default=a}),define("app/view/template/component/profile.ejs!passbolt-mad/lib/can/viewEjsSystem",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("app_view_template_component_profile_ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];___v1ew.push('<div class="grid grid-responsive-12">\n\t<div class="row">\n\t\t<div class="profile col8">\n\t\t\t<h3>'),___v1ew.push(can.view.txt(1,"h3",0,this,function(){return __("Profile")})),___v1ew.push('</h3>\n\t\t\t<div class="section profile-detailed-information">\n\t\t\t\t<div class="avatar">\n\t\t\t\t\t<div class="value">\n\t\t\t\t\t\t<img '),___v1ew.push(can.view.txt(2,"img","src",this,function(){var e=[];return e.push('src="'),e.push(user.Profile.avatarPath("medium")),e.push('"'),e.join("")})),___v1ew.push(' alt="profile picture" ',can.view.pending({scope:this}),"/>"),___v1ew.push('\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="edit">\n\t\t\t\t\t\t<a class="edit-avatar-action" title="'),___v1ew.push(can.view.txt(!0,"a","title",this,function(){return __("Change Avatar")})),___v1ew.push('"',can.view.pending({scope:this}),">"),___v1ew.push('\n\t\t\t\t\t\t\t<i class="fa fa-camera"></i>\n\t\t\t\t\t\t\t<span class="help-text">Click here to upload a new picture.</span>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<table class="table-info profile">\n\t\t\t\t\t<tbody>\n\t\t\t\t\t<tr class="name">\n\t\t\t\t\t\t<td class="label">'),___v1ew.push(can.view.txt(1,"td",0,this,function(){return __("Name")})),___v1ew.push('</td>\n\t\t\t\t\t\t<td class="value">'),___v1ew.push(can.view.txt(1,"td",0,this,function(){return user.Profile.first_name})),___v1ew.push(" "),___v1ew.push(can.view.txt(1,"td",0,this,function(){return user.Profile.last_name})),___v1ew.push('</td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr class="email">\n\t\t\t\t\t\t<td class="label">'),___v1ew.push(can.view.txt(1,"td",0,this,function(){return __("Email")})),___v1ew.push('</td>\n\t\t\t\t\t\t<td class="value">'),___v1ew.push(can.view.txt(1,"td",0,this,function(){return user.username})),___v1ew.push('</td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr class="role">\n\t\t\t\t\t\t<td class="label">'),___v1ew.push(can.view.txt(1,"td",0,this,function(){return __("Role")})),___v1ew.push('</td>\n\t\t\t\t\t\t<td class="value">'),___v1ew.push(can.view.txt(1,"td",0,this,function(){return user.Role.name})),___v1ew.push('</td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr class="modified">\n\t\t\t\t\t\t<td class="label">'),___v1ew.push(can.view.txt(1,"td",0,this,function(){return __("Modified")})),___v1ew.push("</td>\n\t\t\t\t\t\t");var timeAgo=datetimeGetTimeAgo(user.Profile.attr("modified"));___v1ew.push('\n\t\t\t\t\t\t<td class="value">'),___v1ew.push(can.view.txt(1,"td",0,this,function(){return timeAgo})),___v1ew.push('</td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr class="created">\n\t\t\t\t\t\t<td class="label">'),___v1ew.push(can.view.txt(1,"td",0,this,function(){return __("Created")})),___v1ew.push("</td>\n\t\t\t\t\t\t");var timeAgo=datetimeGetTimeAgo(user.Profile.attr("created"));return ___v1ew.push('\n\t\t\t\t\t\t<td class="value">'),___v1ew.push(can.view.txt(1,"td",0,this,function(){return timeAgo})),___v1ew.push('</td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr class="publickey_keyid">\n\t\t\t\t\t\t<td class="label">'),___v1ew.push(can.view.txt(1,"td",0,this,function(){return __("Public key")})),___v1ew.push('</td>\n\t\t\t\t\t\t<td class="value">\n\t\t\t\t\t\t\t'),___v1ew.push(can.view.txt(1,"td",0,this,function(){return user.Gpgkey.key_id})),___v1ew.push("\n\t\t\t\t\t\t\t<p><em>Note: Sorry, it is not possible to change your key at the moment. \x3c!--<a>learn more ›</a>--\x3e</em></p>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t\x3c!--<tr>--\x3e\n\t\t\t\t\t\x3c!--<td>"),___v1ew.push(can.view.txt(1,"td",0,this,function(){return __("Groups")})),___v1ew.push('</span>--\x3e\n\t\t\t\t\t\x3c!--<div class="value">--\x3e\n\t\t\t\t\t\x3c!--<ul id="js_wk_preference_profile_groups"></ul>--\x3e\n\t\t\t\t\t\x3c!--</div>--\x3e\n\t\t\t\t\t\x3c!--</tr>--\x3e\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n'),___v1ew.join("")}}))}),define("app/component/profile",["exports","app/view/template/component/profile.ejs!","passbolt-mad/component/component"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(t),s=passbolt.component.Profile=mad.Component.extend("passbolt.component.Profile",{defaults:{user:null,template:n.default}},{beforeRender:function(){this._super(),this.setViewData("user",this.options.user)},"{user} updated":function(e){this.state.is("disabled")||this.state.is(null)||this.refresh()},".edit-action click":function(e,t){mad.bus.trigger("request_profile_edition",this.options.user)},".edit-avatar-action click":function(e,t){mad.bus.trigger("request_profile_avatar_edition",this.options.user)}});e.default=s}),define("app/model/image_storage",["exports","passbolt-mad/model/model"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=passbolt.model.ImageStorage=mad.Model.extend("passbolt.model.ImageStorage",{},{imagePath:function(e){return void 0===this.url?"":void 0===this.url[e]?"":this.url[e]}});e.default=t}),define("app/model/profile",["exports","passbolt-mad/model/model","app/model/image_storage","passbolt-mad/model/serializer/cake_serializer"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=passbolt.model.Profile=mad.Model.extend("passbolt.model.Profile",{checkServerRules:!0,attributes:{id:"string",first_name:"string",last_name:"string",Avatar:"passbolt.model.ImageStorage.model"},findAll:function(e,t,n){return mad.net.Ajax.request({url:APP_URL+"profiles",type:"GET",params:e,success:t,error:n})}},{avatarPath:function(e){return void 0!==this.Avatar&&void 0!=this.Avatar.url?this.Avatar.imagePath(e):"img/avatar/user.png"},fullName:function(){return this.first_name+" "+this.last_name}});e.default=t}),define("app/model/user",["exports","passbolt-mad/model/model","app/model/profile","app/model/image_storage","passbolt-mad/model/serializer/cake_serializer"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=passbolt.model.User=mad.Model.extend("passbolt.model.User",{current:null,checkServerRules:!0,attributes:{id:"string",username:"string",email:"string",role_id:"string",active:"string",last_logged_in:"string",Profile:"passbolt.model.Profile.model",GroupUser:"passbolt.model.GroupUser.models"},getCurrent:function(){return passbolt.model.User.current},setCurrent:function(e){passbolt.model.User.current=e},create:function(e,t,n){var s=this,i=mad.model.serializer.CakeSerializer.to(e,this);return mad.net.Ajax.request({url:APP_URL+"users",type:"POST",params:i,success:t,error:n}).pipe(function(e,t,n){var i=$.Deferred();return i.resolveWith(this,[mad.model.serializer.CakeSerializer.from(e,s)]),i})},destroy:function(e,t,n){var s={id:e};return mad.net.Ajax.request({url:APP_URL+"users/{id}",type:"DELETE",params:s,success:t,error:n})},findAll:function(e,t,n){return mad.net.Ajax.request({url:APP_URL+"users.json",type:"GET",params:e,success:t,error:n})},findOne:function(e,t,n){var s=!0;return void 0!==e.async&&(s=e.async),mad.net.Ajax.request({url:APP_URL+"users/{id}.json",type:"GET",params:e,success:t,error:n,async:s})},update:function(e,t,n,s){var i=this,r=mad.model.serializer.CakeSerializer.to(t,this);return r.id=e,mad.net.Ajax.request({url:APP_URL+"users/{id}",type:"PUT",params:r,success:n,error:s}).pipe(function(e,t,n){var s=$.Deferred();return s.resolveWith(this,[mad.model.serializer.CakeSerializer.from(e,i)]),s})},updateAvatar:function(e,t,n){var s=this,i=new FormData;return i.append("file-0",e.newAvatar),i.id=e.id,mad.net.Ajax.request({url:APP_URL+"users/avatar/{id}",type:"POST",cache:!1,contentType:!1,processData:!1,params:i,success:t,error:n}).pipe(function(e,t,n){var i=$.Deferred();return i.resolveWith(this,[mad.model.serializer.CakeSerializer.from(e,s)]),i})}},{saveAvatar:function(e){this.attr("newAvatar",e);var t=can.Model._makeRequest(this,"updateAvatar",null,null,"updated");return this.attr("newAvatar",null),t},deleteDryRun:function(e,t,n,s){var i={id:e};return mad.net.Ajax.request({url:APP_URL+"users/{id}/dry-run.json",type:"DELETE",params:i,success:n,error:s,silentNotify:!0})}});e.default=t}),define("app/model/gpgkey",["exports","passbolt-mad/model/model","app/model/user","passbolt-mad/model/serializer/cake_serializer"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=passbolt.model.Gpgkey=mad.Model.extend("passbolt.model.Gpgkey",{attributes:{id:"string",user_id:"string",key:"string",bits:"string",uid:"string",key_id:"string",fingerprint:"string",type:"string",expires:"string",key_created:"string",User:"passbolt.model.User.model"},findAll:function(e,t,n){if(void 0!==e.filter){var s=e.filter;delete e.filter;var i=s.toRequest();$.extend(e,i)}return mad.net.Ajax.request({url:APP_URL+"gpgkeys.json",type:"GET",params:e,success:t,error:n})},findOne:function(e,t,n){return mad.net.Ajax.request({url:APP_URL+"gpgkeys/{id}.json",type:"GET",params:e,success:t,error:n})}},{});e.default=t}),define("app/view/template/component/keys.ejs!passbolt-mad/lib/can/viewEjsSystem",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("app_view_template_component_keys_ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push('<div class="grid grid-responsive-12">\n\t<div class="row">\n\t\t<div class="col6 key-info">\n\t\t\t<h3>Information for public and secret key</h3>\n\t\t\t<table class="table-info" id="privkeyinfo">\n\t\t\t\t<tr>\n\t\t\t\t\t<td>Key Id</td>\n\t\t\t\t\t<td class="keyId">\n\t\t\t\t\t\t<div class="input select tooltip-top"\n\t\t\t\t\t\t\t data-tooltip="sorry you can only have one key set at the moment">\n\t\t\t\t\t\t\t<select name="data[Key][0]" id="KeyId" disabled="disabled" class="">\n\t\t\t\t\t\t\t\t<option value="'),___v1ew.push(can.view.txt(!0,"option","value",this,function(){return gpgkey.key_id})),___v1ew.push('"',can.view.pending({scope:this}),">"),___v1ew.push(can.view.txt(1,"option",0,this,function(){return gpgkey.key_id})),___v1ew.push('</option>\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td>Uid</td>\n\t\t\t\t\t<td class="uid">'),___v1ew.push(can.view.txt(1,"td",0,this,function(){return gpgkey.uid})),___v1ew.push('</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td>Fingerprint</td>\n\t\t\t\t\t<td class="fingerprint">'),___v1ew.push(can.view.txt(1,"td",0,this,function(){return gpgkey.fingerprint})),___v1ew.push('</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td>Created</td>\n\t\t\t\t\t<td class="created">'),___v1ew.push(can.view.txt(1,"td",0,this,function(){return gpgkey.key_created})),___v1ew.push('</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td>Expires</td>\n\t\t\t\t\t<td class="expires">'),___v1ew.push(can.view.txt(1,"td",0,this,function(){return gpgkey.expires})),___v1ew.push('</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td>Key Length</td>\n\t\t\t\t\t<td class="length">'),___v1ew.push(can.view.txt(1,"td",0,this,function(){return gpgkey.bits})),___v1ew.push('</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td>Algorithm</td>\n\t\t\t\t\t<td class="algorithm">'),___v1ew.push(can.view.txt(1,"td",0,this,function(){return gpgkey.type})),___v1ew.push('</td>\n\t\t\t\t</tr>\n\t\t\t</table>\n\t\t</div>\n\t\t<div class="col6 last key-export">\n            <h3>Public key block</h3>\n\t\t\t<div class="input textarea gpgkey" rel="publicKey">\n\t\t\t\t<textarea id="publicKeyUnarmored" class="fluid code" placeholder="" name="data[Gpgkey][key]"',can.view.pending({scope:this}),">"),___v1ew.push(can.view.txt(1,"textarea",0,this,function(){return gpgkey.key})),___v1ew.push("</textarea>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n"),___v1ew.join("")}}))}),define("app/component/keys",["exports","app/view/template/component/keys.ejs!","passbolt-mad/component/component","app/model/gpgkey"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(t),s=passbolt.component.Keys=mad.Component.extend("passbolt.component.Keys",{defaults:{template:n.default}},{afterStart:function(){this._super()},beforeRender:function(){var e=this;this._super();var t=passbolt.model.User.getCurrent().Gpgkey;t.uid=passbolt.Common.decodeHtmlEntities(t.uid),e.setViewData("gpgkey",t)}});e.default=s}),define("passbolt-mad/view/form/element",["exports","passbolt-mad/view/view"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),mad.view.form=mad.view.form||{};var t=mad.view.form.Element=mad.View.extend("mad.view.form.Element",{},{getName:function(){return this.element.attr("name")},setValue:function(e){},reset:function(){}});e.default=t}),define("passbolt-mad/form/element",["exports","passbolt-mad/component/component","passbolt-mad/view/form/element"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),mad.form=mad.form||{};var t=mad.form.Element=mad.Component.extend("mad.form.Element",{defaults:{label:"Form Element Component",cssClasses:["form-element"],tag:null,viewClass:mad.view.form.Element,modelReference:null,validate:!0,validateFunction:null,defaultValue:null,value:null,callbacks:{changed:function(e,t,n){}}}},{init:function(e,t){this.defaultValue=t.value,this.value=t.value,this._super(e,t)},getModelReference:function(){return this.options.modelReference},getValidateFunction:function(){return this.options.validateFunction},requireValidation:function(){return this.options.validate},setModelReference:function(e){this.options.modelReference=e},getValue:function(){return this.value},reset:function(){this.setState("reset"),this.setValue(this.options.value),this.setState("ready")},setValue:function(e){return this.value=e,this.view.setValue(this.value),this},afterStart:function(){this.setValue(this.options.value)},stateReset:function(e){this.setState("ready")},stateReady:function(e){},stateError:function(e){},stateDisabled:function(e){e?this.element.attr("disabled","disabled").addClass("disabled"):this.element.removeAttr("disabled").removeClass("disabled")}," changed":function(e,t,n){this.value=n.value,this.options.callbacks.changed&&this.options.callbacks.changed(this.value)}});e.default=t}),define("passbolt-mad/form/feedback",["passbolt-mad/component/component"],function(){"use strict";mad.form=mad.form||{},mad.form.Feedback=mad.Component.extend("mad.form.Feedback",{defaults:{label:"Form Feedback Component",message:null}},{setMessage:function(e){return this.message=e,this},stateSuccess:function(e){e&&(this.element.html(this.message),this.element.removeClass("error"))},stateError:function(e){e&&(this.element.html(this.message),this.element.addClass("error"))}})}),define("passbolt-mad/view/form/form",["exports","passbolt-mad/view/view"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),mad.view.form=mad.view.form||{};var t=mad.view.Form=mad.View.extend("mad.view.Form",{},{setElementState:function(e,t){var n=e.getId(),s=$('label[for="'+n+'"]'),i=e.element.parent(".js_form_element_wrapper");switch(t){case"success":s&&s.removeClass("error"),i&&i.removeClass("error");break;case"error":s&&s.addClass("error"),i&&i.addClass("error")}}});e.default=t}),define("passbolt-mad/form/form",["exports","passbolt-mad/component/component","passbolt-mad/form/element","passbolt-mad/form/feedback","passbolt-mad/view/form/form"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),mad.form=mad.form||{};var t=mad.Form=mad.Component.extend("mad.Form",{defaults:{label:"Form Component",cssClasses:["form"],tag:"form",viewClass:mad.view.Form,callbacks:{error:null,submit:null},action:null,validateOnChange:"afterFirstValidation"}},{init:function(e,t){this.elements={},this.feedbackElements={},this.data={},this.validations=0,this._super(e,t)},beforeRender:function(){this.setViewData("action",this.options.action)},reset:function(){this.validations=0;for(var e in this.elements){var t=this.elements[e],n=this.feedbackElements[t.getId()];t.setValue(this.options.defaultValue),void 0!=n&&n.setMessage("").setState("success")}},load:function(e){for(var t in this.elements){var n=this.getElement(t),s=n.getModelReference(),i=null;if(null!=s){if(!(e instanceof mad.Model))throw mad.Exception.get(mad.error.WRONG_PARAMETER,"data");i=mad.Model.getModelAttributeValue(s,e)}else i=e[t];void 0!==i&&n.setValue(i)}},getElement:function(e){return this.elements[e]},addElement:function(e,t){if(!(e instanceof mad.form.Element))throw mad.Exception.get(mad.error.WRONG_PARAMETER,"element");var n=e.getModelReference();if(null!=n){var s=!1,i=mad.Model.getModelAttributes(n),r=i[i.length-2].name;for(var a in this.elements){var o=this.elements[a].getModelReference();if(null!=o&&r==i[mad.Model.getModelAttributes(o).length-2].name){s=!0;break}}if(!s){var u=can.getObject(r);void 0!==u&&u.getValidationRules(this.options.action)}}return a=e.getId(),this.elements[a]=e,void 0!==t&&(this.feedbackElements[a]=t),e},removeElement:function(e){if(!(e instanceof mad.form.Element)||null==e)throw mad.Exception.get(mad.error.WRONG_PARAMETER,"element");var t=e.getId();if(void 0==(e=this.getElement(t)))throw mad.Exception.get(mad.error.ELEMENT_NOT_FOUND,t);delete this.elements[t],delete this.feedbackElements[t]},getData:function(){var e={};for(var t in this.elements){var n=this.getElement(t),s=n.getModelReference(),i=n.getValue();if(null==s||void 0==s)e[t]=i;else for(var r=mad.Model.getModelAttributes(s),a=e,o=0;o<r.length;o++){if(null==r[o].getModelReference()||void 0==s){r[o-1].isMultiple()?null!=i&&can.each(i,function(e,t){var n={};n[r[o].getName()]=e,a.push(n)}):a[r[o].getName()]=i;break}void 0==a[r[o].getName()]&&(a[r[o].getName()]=[]),a=a[r[o].getName()]}}return e},showErrors:function(e){for(var t in this.elements){var n=this.elements[t],s=n.getModelReference();if(s){var i=mad.Model.getModelAttributes(s),r=i[i.length-2].name,a=i[i.length-1].name,o=r.substr(r.lastIndexOf(".")+1),u=n.getId();for(var d in e)if(void 0!=e[o]&&void 0!=e[o][a]){var l=e[o][a][0],c=["error"];n.state.is("hidden")&&c.push("hidden"),n.setState(c),this.feedbackElements[u]&&this.feedbackElements[u].setMessage(l).setState("error"),this.view.setElementState(this.elements[u],"error")}}}},validateElement:function(e){var t=!0,n=e.getModelReference(),s=[],i=e.getId();if(e.requireValidation()){var r=e.getValue(),a=e.getValidateFunction();if(null!=a){var o=a(r,{});!0!==o&&s.push(o)}else if(null!=n){var u=mad.Model.getModelAttributes(n),d=u[u.length-2].getModelReference(),l=_.last(u).getName();d.validateAttribute&&(s=d.validateAttribute(l,r,{},this.options.action))}if(s.length>0)c=["error"],this.elements[i].state.is("hidden")&&c.push("hidden"),this.elements[i].setState(c),this.feedbackElements[i]&&this.feedbackElements[i].setMessage(s[0]).setState([]).setState("error"),this.view.setElementState(this.elements[i],"error"),t=!1;else{var c=["success"];this.elements[i].state.is("hidden")&&c.push("hidden"),this.elements[i].setState(c),this.feedbackElements[i]&&this.feedbackElements[i].setMessage("").setState("success"),this.view.setElementState(this.elements[i],"success")}}return t},validate:function(){var e=!0;for(var t in this.elements)e&=this.validateElement(this.elements[t]);return this.validations++,e}," submit":function(e,t){t.preventDefault(),this.validate()?this.options.callbacks.submit&&this.options.callbacks.submit(this.getData()):this.options.callbacks.error&&this.options.callbacks.error()}," changed":function(e,t,n){if(!0===this.options.validateOnChange||"afterFirstValidation"===this.options.validateOnChange&&this.validations>0){var s=this.getElement(t.target.id);if(!s)throw mad.Exception.get("No form element found.");this.validateElement(s)}}});e.default=t}),define("passbolt-mad/view/form/element/textbox",["exports","passbolt-mad/view/form/element"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=mad.view.form.Textbox=mad.view.form.Element.extend("mad.view.form.Textbox",{},{_changeTimeout:null,getValue:function(){return this.element.val()},setValue:function(e){this.element.val(e)}," input":function(e,t){var n=this;this.getValue().length>=this.getController().options.onChangeAfterLength&&(null!=this._changeTimeout&&clearTimeout(this._changeTimeout),this._changeTimeout=setTimeout(function(){n.element.trigger("changed",{value:n.getValue()})},this.getController().options.onChangeTimeout))}});e.default=t}),define("passbolt-mad/form/element/textbox",["exports","passbolt-mad/form/element","passbolt-mad/view/form/element/textbox"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=mad.form.Textbox=mad.form.Element.extend("mad.form.Textbox",{defaults:{label:"Textbox Form Element",tag:"input",viewClass:mad.view.form.Textbox,onChangeTimeout:0,onChangeAfterLength:0}},{});e.default=t}),define("app/model/secret_strength",["exports","passbolt-mad/model/model"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t={VERY_WEAK:{start:0,id:"very_weak",label:__("very weak")},WEAK:{start:60,id:"weak",label:__("weak")},FAIR:{start:80,id:"fair",label:__("fair")},STRONG:{start:112,id:"strong",label:__("strong")},VERY_STRONG:{start:128,id:"very_strong",label:__("very strong")}},n=passbolt.model.SecretStrength=mad.Model.extend("passbolt.model.SecretStrength",{attributes:{id:"string",label:"string",start:"int"},getSecretStrength:function(e){var n=null;if(!e)return n;var s=passbolt.model.SecretStrength.mesurePwdEntropy(e);for(var i in t){if(!(s>=t[i].start))break;n=new passbolt.model.SecretStrength(t[i])}return n},mesureEntropy:function(e,t){return e*(Math.log(t)/Math.log(2))},mesurePwdEntropy:function(e){var t=0;for(var n in passbolt.model.Secret.MASKS)e.match(passbolt.model.Secret.MASKS[n].pattern)&&(t+=passbolt.model.Secret.MASKS[n].size);return passbolt.model.SecretStrength.mesureEntropy(e.length,t)}},{});e.default=n}),define("app/model/secret",["passbolt-mad/model/model","passbolt-mad/model/serializer/cake_serializer","app/model/secret_strength"],function(){"use strict";passbolt.model.Secret=mad.Model.extend("passbolt.model.Secret",{attributes:{id:"string",data:"string"},MASKS:{alpha:{size:26,data:"abcdefghijklmnopqrstuvwxyz",pattern:/[a-z]/},uppercase:{size:26,data:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",pattern:/[A-Z]/},digit:{size:10,data:"0123456789",pattern:/[0-9]/},special:{size:32,data:"!\"#$%&'()*+,-./:;<=>?@[:]^_`{|}~",pattern:/[!"#$%&\'\(\)*+,\-./:;<=>?@\[\]^_`{|}~]/}},generate:function(){var e,t="",n=mad.Config.read("secret.generator.masks"),s=mad.Config.read("secret.generator.length"),i=[];for(var r in n)i=$.merge(i,passbolt.model.Secret.MASKS[n[r]].data);do{for(t="",e=passbolt.model.SecretStrength.mesureEntropy(s,i.length),r=0;r<s;r++)t+=i[Math.randomRange(0,i.length-1)]}while(e!=passbolt.model.SecretStrength.mesurePwdEntropy(t));return t}},{})}),define("app/view/template/component/secret/secret_strength.ejs!passbolt-mad/lib/can/viewEjsSystem",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("app_view_template_component_secret_secret_strength_ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push('<span class="progress"><span class="progress-bar '),___v1ew.push(can.view.txt(!0,"span","class",this,function(){return strengthId})),___v1ew.push('"',can.view.pending({scope:this}),">"),___v1ew.push('</span></span>\n<span class="complexity-text">'),___v1ew.push(can.view.txt(1,"span",0,this,function(){return __("complexity")})),___v1ew.push(": <strong>"),___v1ew.push(can.view.txt(1,"strong",0,this,function(){return strengthLabel})),___v1ew.push("</strong></span>"),___v1ew.join("")}}))}),define("app/component/secret_strength",["exports","app/view/template/component/secret/secret_strength.ejs!","passbolt-mad/component/component","app/model/secret","app/model/secret_strength"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(t),s=passbolt.component.SecretStrength=mad.Component.extend("passbolt.component.SecretStrength",{defaults:{label:"Secret Strength Controller",template:n.default,secretStrength:null}},{beforeRender:function(){this._super();var e="",t="";this.options.secretStrength&&(e=this.options.secretStrength.label,t=this.options.secretStrength.id),this.setViewData("strengthLabel",e),this.setViewData("strengthId",t)},load:function(e){this.options.secretStrength=e,this.refresh()}});e.default=s}),define("app/view/template/form/user/create.ejs!passbolt-mad/lib/can/viewEjsSystem",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("app_view_template_form_user_create_ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[],role=passbolt.model.User.getCurrent().Role.name;___v1ew.push("\n");var user=this.controller.options.data;return ___v1ew.push('\n<div class="form-content">\n\t<input type="hidden" name="passbolt.model.User.Group.id" id="js_field_group_id" class="form_field" />\n\t<input type="hidden" name="passbolt.model.User.active" id="js_field_user_active" class="form_field" />\n\t<div class="input text required">\n\t\t<label for="js_field_first_name">'),___v1ew.push(can.view.txt(1,"label",0,this,function(){return __("First Name")})),___v1ew.push('</label>\n\t\t<input name="passbolt.model.User.Profile.first_name" class="required" maxlength="50" type="text" id="js_field_first_name" placeholder="first name"/>\n\t\t<div id="js_field_first_name_feedback" class="message">\n\t\t</div>\n\t</div>\n\t<div class="input text required">\n\t\t<label for="js_field_last_name">'),___v1ew.push(can.view.txt(1,"label",0,this,function(){return __("Last Name")})),___v1ew.push('</label>\n\t\t<input name="passbolt.model.User.Profile.last_name" class="required" maxlength="50" type="text" id="js_field_last_name" placeholder="last name"/>\n\t\t<div id="js_field_last_name_feedback" class="message">\n\t\t</div>\n\t</div>\n\t<div class="input text required clearfix">\n\t\t<label for="js_field_username">'),___v1ew.push(can.view.txt(1,"label",0,this,function(){return __("Username / Email")})),___v1ew.push('</label>\n\t\t<input name="passbolt.model.User.username" class="required" maxlength="50" type="text" id="js_field_username" placeholder="email"'),___v1ew.push(can.view.txt(0,"input",1,this,function(){var e=[];return"create"!=action&&e.push(" disabled"),e.join("")})),___v1ew.push(" ",can.view.pending({scope:this}),"/>"),___v1ew.push('\n\t\t<div id="js_field_username_feedback" class="message">\n\t\t</div>\n\t</div>\n    '),___v1ew.push(can.view.txt(0,"div",0,this,function(){var e=[];return"admin"==role&&(e.push('\n\t<div class="input text required">\n\t\t<label for="js_field_role_id">'),e.push(can.view.txt(1,"label",0,this,function(){return __("Role")})),e.push('</label>\n\t\t<div id="js_field_role_id">\n\t\t\t<input name="passbolt.model.User.role_id" value="'),e.push(can.view.txt(!0,"input","value",this,function(){return cakephpConfig.roles.admin})),e.push('" type="checkbox" ',can.view.pending({scope:this}),"/>"),e.push("\n\t\t\t<span>This user is an administrator</span>\n\t\t</div>\n\t\t"),e.push(can.view.txt(0,"div",0,this,function(){var e=[];return"create"==action&&e.push('\n\t\t<div class="message helptext">Note: Administrators can add and delete users. They can also create groups and assign group managers. Admin can not see all passwords.</div>\n\t\t'),e.join("")})),e.push('\n\t\t<div id="js_field_role_id_feedback" class="message">\n\t\t</div>\n\t</div>\n    ')),e.join("")})),___v1ew.push('\n</div>\n<div class="submit-wrapper clearfix">\n    <input type="submit" class="button primary" value="'),___v1ew.push(can.view.txt(!0,"input","value",this,function(){return __("save")})),___v1ew.push('" ',can.view.pending({scope:this}),"/>"),___v1ew.push('\n    <a class="js-dialog-cancel cancel">'),___v1ew.push(can.view.txt(1,"a",0,this,function(){return __("cancel")})),___v1ew.push("</a>\n</div>\n"),___v1ew.join("")}}))}),define("app/form/user/create",["exports","app/view/template/form/user/create.ejs!","passbolt-mad/form/form","passbolt-mad/form/element/textbox","app/component/secret_strength","app/model/user"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(t);passbolt.form.user=passbolt.form.user?passbolt.form.user:{};var s=passbolt.form.user.Create=mad.Form.extend("passbolt.form.user.Create",{defaults:{action:"create",template:n.default}},{afterStart:function(){this.options.data.User=this.options.data.User||{};var e="admin"==passbolt.model.User.getCurrent().Role.name,t=!1;if(void 0!=this.options.data&&this.options.data.id==passbolt.model.User.getCurrent().id&&(t=!0),this.addElement(new mad.form.Textbox($("#js_field_user_active"),{modelReference:"passbolt.model.User.active"}).start()),this.addElement(new mad.form.Textbox($("#js_field_first_name"),{modelReference:"passbolt.model.User.Profile.first_name"}).start(),new mad.form.Feedback($("#js_field_first_name_feedback"),{}).start()),this.addElement(new mad.form.Textbox($("#js_field_last_name"),{modelReference:"passbolt.model.User.Profile.last_name"}).start(),new mad.form.Feedback($("#js_field_last_name_feedback"),{}).start()),!0===e){var n={};n[cakephpConfig.roles.admin]=__("This user is an administrator"),n[cakephpConfig.roles.user]=__("This user is a normal user");var s={};s[cakephpConfig.roles.admin]="role-admin",s[cakephpConfig.roles.user]="role-user",this.options.role=new mad.form.Checkbox($("#js_field_role_id"),{name:"role_id",modelReference:"passbolt.model.User.role_id",availableValues:n,valueClasses:s}).start(),this.addElement(this.options.role,new mad.form.Feedback($("#js_field_role_id_feedback"),{}).start()),this.options.role.setValue(cakephpConfig.roles.user),$("input[type=checkbox]",$("#js_field_role_id")).not("[value='"+cakephpConfig.roles.admin+"']").hide().next("label").hide(),1==t&&($("input[type=checkbox]",$("#js_field_role_id")).attr("disabled",!0),$("#js_field_role_id").parent().addClass("disabled"))}this.addElement(new mad.form.Textbox($("#js_field_username"),{modelReference:"passbolt.model.User.username"}).start(),new mad.form.Feedback($("#js_field_username_feedback"),{}).start()),this.on()},"{role.element} changed":function(e,t,n){-1!==$.inArray(cakephpConfig.roles.admin,n.value)?this.options.role.setValue(cakephpConfig.roles.admin):this.options.role.setValue(cakephpConfig.roles.user)}});e.default=s}),define("app/view/template/form/user/avatar.ejs!passbolt-mad/lib/can/viewEjsSystem",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("app_view_template_form_user_avatar_ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push('<div class="form-content">\n\t<div class="input text input-password-wrapper">\n\t\t<div class="input required">\n\t\t\t<label for="js_field_avatar">'),___v1ew.push(can.view.txt(1,"label",0,this,function(){return __("Avatar")})),___v1ew.push('</label>\n\t\t\t<input class="required" type="file" id="js_field_avatar" placeholder="select an image"/>\n\t\t</div>\n\t</div>\n</div>\n<div class="submit-wrapper clearfix">\n    <input type="submit" class="button primary" value="'),___v1ew.push(can.view.txt(!0,"input","value",this,function(){return __("save")})),___v1ew.push('" ',can.view.pending({scope:this}),"/>"),___v1ew.push('\n    <a class="js-dialog-cancel cancel">'),___v1ew.push(can.view.txt(1,"a",0,this,function(){return __("cancel")})),___v1ew.push("</a>\n</div>\n"),___v1ew.join("")}}))}),define("app/form/user/avatar",["exports","app/view/template/form/user/avatar.ejs!","passbolt-mad/form/form"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(t);passbolt.form.user=passbolt.form.user?passbolt.form.user:{};var s=passbolt.form.user.Avatar=mad.Form.extend("passbolt.form.user.Avatar",{defaults:{template:n.default}},{afterStart:function(){this.on()}});e.default=s}),define("app/view/template/settings_workspace.ejs!passbolt-mad/lib/can/viewEjsSystem",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("app_view_template_settings_workspace_ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push('<div class="js_settings_workspace">\n    <div class="panel left">\n        <div class="navigation first">\n            <ul id="js_wk_settings_menu" class="clearfix">\n            </ul>\n        </div>\n    </div>\n    <div class="panel middle">\n\t\t<div id="js_wsp_settings_breadcrumb" class="breadcrumbs">\n\t\t</div>\n\t\t<div id="js_wk_settings_main">\n\t\t</div>\n    </div>\n</div>'),___v1ew.join("")}}))}),define("app/component/settings_workspace",["exports","app/view/template/settings_workspace.ejs!","passbolt-mad/component/component","passbolt-mad/component/tab","app/component/settings_menu","app/component/settings_workspace_menu","app/component/breadcrumb/settings_breadcrumb","app/component/profile","app/component/keys","app/form/user/create","app/form/user/avatar"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(t),s=passbolt.component.SettingsWorkspace=mad.Component.extend("passbolt.component.SettingsWorkspace",{defaults:{label:"Settings",template:n.default,sections:["profile","keys"],silentLoading:!1}},{afterStart:function(){var e=this;this.section="",mad.helper.Component.create($("#js_wsp_primary_menu_wrapper"),"last",passbolt.component.SettingsWorkspaceMenu,{}).start(),this.settingsWkMenuItems={profile:new mad.model.Action({id:uuid(),label:__("My profile"),action:function(){mad.bus.trigger("request_settings_section","profile")}}),keys:new mad.model.Action({id:uuid(),label:__("Manage your keys"),action:function(){mad.bus.trigger("request_settings_section","keys")}})},this.settingsWkMenu=new passbolt.component.SettingsMenu("#js_wk_settings_menu",{menuItems:this.settingsWkMenuItems}).start(),this.settingsTabsCtl=new mad.component.Tab("#js_wk_settings_main",{autoMenu:!1}),this.settingsTabsCtl.start(),this.breadcrumCtl=new passbolt.component.SettingsBreadcrumb($("#js_wsp_settings_breadcrumb"),{}).start().load(),this.profileCtl=e.settingsTabsCtl.addComponent(passbolt.component.Profile,{id:"js_settings_wk_profile_controller",label:"profile",user:passbolt.model.User.getCurrent()}),this.profileKeysCtl=e.settingsTabsCtl.addComponent(passbolt.component.Keys,{id:"js_settings_wk_profile_keys_controller",label:"keys"})},destroy:function(){$("#js_wsp_primary_menu_wrapper").empty(),$("#js_wsp_settings_breadcrumb").empty(),this._super()},"{mad.bus.element} request_profile_edition":function(e,t){var n=passbolt.model.User.getCurrent(),s=new mad.component.Dialog(null,{label:__("Edit profile"),cssClasses:["edit-profile-dialog","dialog-wrapper"]}).start(),i=s.add(passbolt.form.user.Create,{data:n,action:"edit",callbacks:{submit:function(e){n.attr(e["passbolt.model.User"]).save(function(){s.remove()},function(e){i.showErrors(JSON.parse(e.responseText).body)})}}});i.load(n)},"{mad.bus.element} request_profile_avatar_edition":function(e,t,n){var s=new mad.component.Dialog(null,{label:__("Edit Avatar")}).start();s.add(passbolt.form.user.Avatar,{data:n,callbacks:{submit:function(e){var t=$("#js_field_avatar");n.saveAvatar(t[0].files[0]),s.remove()}}}).load(n)},"{mad.bus.element} request_settings_section":function(e,t,n){var s=null;if(-1!=$.inArray(n,this.options.sections)){switch(n){case"keys":s="js_settings_wk_profile_keys_controller";break;case"profile":s="js_settings_wk_profile_controller"}s&&this.settingsTabsCtl.enableTab(s),$("#container").removeClass(this.options.sections.join(" ")).addClass(n),this.section=n,this.settingsWkMenu.selectItem(this.settingsWkMenuItems[this.section])}},stateReady:function(e){mad.bus.trigger("request_settings_section","profile")},stateDisabled:function(e){this._super(e),$("#container").removeClass(this.options.sections.join(" "))},stateHidden:function(e){this._super(e),$("#container").removeClass(this.options.sections.join(" "))}});e.default=s}),define("passbolt-mad/view/template/component/free_composite/workspace.ejs!passbolt-mad/lib/can/viewEjsSystem",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("passbolt-mad_view_template_component_free_composite_workspace_ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push('<div class="js_workspace grid_16 alpha omega">\n\t\x3c!-----------------------------------------------------------------------------\n\tWorkspace header bar\n\t-----------------------------------------------------------------------------\x3e\n\t<div class="js_workspace_label grid_3 alpha">\n\t\t'),___v1ew.push(can.view.txt(1,"div",0,this,function(){return label})),___v1ew.push('\n\t</div>\n\t\n\t<div class="js_workspace_actions_container grid_7"></div>\n\t\n\t<div class="js_workspace_view_actions_container grid_6 omega"></div>\n\t\n\t<div class="clear"></div>\n\t\n\t\x3c!-----------------------------------------------------------------------------\n\tMain area\n\t-----------------------------------------------------------------------------\x3e\n\t\n\t<div class="js_workspace_sidebar_first grid_3 alpha">\n\t</div>\n\t\n\t<div class="js_workspace_main grid_7">\n\t</div>\n\t\n\t<div class="js_workspace_sidebar_second grid_6 omega">\n\t</div>\n\t\n\t<div class="clear"></div>\n</div>\n'),___v1ew.join("")}}))}),define("passbolt-mad/component/free_composite",["exports","passbolt-mad/view/template/component/free_composite/workspace.ejs!","passbolt-mad/component/composite"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(t),s=mad.component.FreeComposite=mad.component.Composite.extend("mad.component.FreeComposite",{defaults:{label:"WorkspaceController",template:n.default}},{addComponent:function(e,t,n){n=n||"mad-container-main";var s=$("."+n,this.element),i=mad.helper.Component.create(s,"inside_replace",e,t);return this._super(i)}});e.default=s}),define("passbolt-mad/view/component/dialog",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=mad.view.component.Dialog=mad.View.extend("mad.view.component.Dialog",{},{setTitle:function(e){$(".dialog-header h2",this.element).html(e)},".dialog-close click":function(e,t){t.preventDefault(),this.element.remove()},"{window} keyup":function(e,t){27==t.keyCode&&this.element.remove()}," .js-dialog-cancel click":function(e,t){this.element.remove()}});e.default=t}),define("passbolt-mad/view/template/component/dialog/dialog.ejs!passbolt-mad/lib/can/viewEjsSystem",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("passbolt-mad_view_template_component_dialog_dialog_ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push('<div class="dialog">\n    <div class="dialog-header">\n        <h2>'),___v1ew.push(can.view.txt(1,"h2",0,this,function(){return label})),___v1ew.push('</h2>\n        <a class="dialog-close">\n            <i class="fa fa-close"></i>\n            <span class="visuallyhidden">close</span>\n        </a>\n    </div>\n    <div class="js_dialog_content dialog-content">\n    </div>\n</div>\n'),___v1ew.join("")}}))}),define("passbolt-mad/component/dialog",["exports","passbolt-mad/view/template/component/dialog/dialog.ejs!","passbolt-mad/component/component","passbolt-mad/component/free_composite","passbolt-mad/view/component/dialog"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(t),s=mad.component.Dialog=mad.component.FreeComposite.extend("mad.component.Dialog",{defaults:{label:"Dialog Controller",viewClass:mad.view.component.Dialog,template:n.default,cssClasses:["dialog-wrapper"],tag:"div"},closeLatest:function(){$(".dialog-wrapper:last").remove()}},{init:function(e,t){var n=mad.config.rootElement,s="first",i=$(".dialog-wrapper:last");i.length&&(n=i,s="after");var r=mad.helper.Html.create(n,s,"<div />");this.setup(r,t),this._super(r,t)},add:function(e,t){void 0!==t&&null!=t||(t={});var n=this.addComponent(e,t,"js_dialog_content");return n.start(),n},setTitle:function(e){this.view.setTitle(e)}});e.default=s}),define("passbolt-mad/view/component/confirm",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=mad.view.component.Confirm=mad.view.component.Dialog.extend("mad.view.component.Confirm",{},{setContent:function(e){$(".dialog-content .form-content",this.element).html(e)}," .js-dialog-confirm click":function(e,t){t.preventDefault(),this.element.trigger("confirm_clicked")}});e.default=t}),define("passbolt-mad/view/template/component/confirm/confirm.ejs!passbolt-mad/lib/can/viewEjsSystem",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("passbolt-mad_view_template_component_confirm_confirm_ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push('<div class="dialog confirm">\n    <div class="dialog-header">\n        <h2>'),___v1ew.push(can.view.txt(1,"h2",0,this,function(){return label})),___v1ew.push('</h2>\n        <a class="dialog-close">\n            <i class="fa fa-close"></i>\n            <span class="visuallyhidden">close</span>\n        </a>\n    </div>\n    <div class="js_dialog_content dialog-content">\n        <div class="form-content">\n            '),___v1ew.push(can.view.txt(0,"div",0,this,function(){var e=[];return null!=subtitle&&""!=subtitle&&(e.push("\n            <p>\n                <strong>\n                    "),e.push(can.view.txt(1,"strong",0,this,function(){return subtitle})),e.push("\n                </strong>\n            </p>\n            ")),e.join("")})),___v1ew.push("\n            <p>"),___v1ew.push(can.view.txt(1,"p",0,this,function(){return content})),___v1ew.push('</p>\n        </div>\n    </div>\n    <div class="submit-wrapper clearfix">\n        <input type="submit" value="'),___v1ew.push(can.view.txt(!0,"input","value",this,function(){return submitButton.label})),___v1ew.push('" class="button primary js-dialog-confirm '),___v1ew.push(can.view.txt(!0,"input","class",this,function(){return submitButton.cssClasses.join(" ")})),___v1ew.push('" id="confirm-button"',can.view.pending({scope:this}),">"),___v1ew.push('\n        <a class="js-dialog-cancel cancel">cancel</a>\n    </div>\n</div>\n'),___v1ew.join("")}}))}),define("passbolt-mad/component/confirm",["exports","passbolt-mad/view/template/component/confirm/confirm.ejs!","passbolt-mad/component/dialog","passbolt-mad/view/component/confirm"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(t),s=mad.component.Confirm=mad.component.Dialog.extend("mad.component.Confirm",{defaults:{label:"Confirm component",viewClass:mad.view.component.Confirm,template:n.default,subtitle:null,submitButton:{label:__("OK"),cssClasses:[]},content:"",closeAfterAction:!0,action:null}},{init:function(e,t){this._super(e,t),this.setViewData("content",this.options.content),this.setViewData("subtitle",this.options.subtitle),this.setViewData("submitButton",this.options.submitButton)},setContent:function(e){this.view.setContent(e)}," confirm_clicked":function(){void 0!==this.options.action&&this.options.action(),!0===this.options.closeAfterAction&&mad.component.Confirm.closeLatest()}});e.default=s}),define("passbolt-mad/component/button",["exports","passbolt-mad/component/component"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=mad.component.Button=mad.Component.extend("mad.component.Button",{defaults:{label:"Button Component",template:null,value:null,events:{click:null},tag:"button"}},{value:null,init:function(e,t){this._super(e,t),this.value=t.value},getValue:function(){return this.value},setValue:function(e){return this.value=e,this},click:function(e,t){this.state.is("disabled")?t.stopImmediatePropagation():this.options.events.click&&this.options.events.click(this.element,t,this.value)},stateDisabled:function(e){e?this.element.attr("disabled","disabled").addClass("disabled"):this.element.removeAttr("disabled").removeClass("disabled")}});e.default=t}),define("passbolt-mad/view/component/button_dropdown",["passbolt-mad/view/view","passbolt-mad/helper/html"],function(){"use strict";mad.view.component.ButtonDropdown=mad.View.extend("mad.view.component.ButtonDropdown",{defaults:{}},{getDropdownContentElement:function(){var e=this.getController().options.contentElement;return null!=e?$(e):this.element.next()},open:function(){this.element.addClass("pressed"),this.getDropdownContentElement().addClass("visible"),this.getController().state.addState("open")},close:function(){this.element.removeClass("pressed"),this.getDropdownContentElement().removeClass("visible"),this.getController().state.is("open")&&this.getController().state.removeState("open")},click:function(e,t){return!this.getController().state.is("disabled")&&(this.getController().state.is("open")?this.close():this.open(),!1)},"{document} click":function(e,t){this.element.is(e)||this.close()}})}),define("passbolt-mad/view/template/component/button_dropdown/button_dropdown.ejs!passbolt-mad/lib/can/viewEjsSystem",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("passbolt-mad_view_template_component_button_dropdown_button_dropdown_ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push('<div class="dropdown">\n\t<a>\n\t\t<span>more</span>\n\t\t<i class="fa fa-fw fa-caret-down"></i>\n\t</a>\n\t<ul class="dropdown-content">\n\t\t<li><a>submenu1</a></li>\n\t\t<li><a>submenu2</a></li>\n\t</ul>\n</div>'),___v1ew.join("")}}))}),define("passbolt-mad/component/button_dropdown",["exports","passbolt-mad/component/button","passbolt-mad/component/menu","passbolt-mad/view/component/button_dropdown","passbolt-mad/view/template/component/button_dropdown/button_dropdown.ejs!"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=mad.component.ButtonDropdown=mad.component.Button.extend("mad.component.ButtonDropdown",{defaults:{label:"Button Dropdown Component",viewClass:mad.view.component.ButtonDropdown,items:null,contentElement:null,closeOnItemClick:!0}},{afterStart:function(){var e=null;e=null==this.options.contentElement?$('<ul class="dropdown-content"></div>').insertAfter(this.element):$(this.options.contentElement),this.options.menu=new mad.component.Menu(e),this.options.menu.start(),this.options.menu.load(this.options.items),this.on()},setItemState:function(e,t){this.options.menu.setItemState(e,t)},"{menu.element} item_selected":function(e,t,n){!0!==this.options.closeOnItemClick||n.state.is("disabled")||this.view.close()},stateDisabled:function(e){this._super(e),e&&this.view.close()}});e.default=t}),define("app/model/permission_type",["exports","passbolt-mad/model/model","passbolt-mad/model/serializer/cake_serializer"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),passbolt.READ=1,passbolt.UPDATE=7,passbolt.ADMIN=15;var t=passbolt.model.PermissionType=mad.Model.extend("passbolt.model.PermissionType",{validateRules:{serial:[{rule:"choice",options:{callback:function(){return $.map(passbolt.model.PermissionType.PERMISSION_TYPES,function(e,t){return t})}}}]},attributes:{serial:"string",name:"string",description:"string"},PERMISSION_TYPES:{1:__("read"),7:__("update"),15:__("owner")},formatToString:function(e){var t="";if(void 0==e)return console.error("Warning, PermissionType.toString called without permId"),"can read";switch(e.toString()){case passbolt.ADMIN.toString():t=__("is %s",this.PERMISSION_TYPES[e]);break;default:t=__("can %s",this.PERMISSION_TYPES[e])}return t}},{toString:function(e){var t;switch(e){case"long":t=passbolt.model.PermissionType.PERMISSION_TYPES[this.serial],this.serial!=passbolt.ADMIN.toString()&&(t=__("can %s",t));break;case"short":default:t=passbolt.model.PermissionType.PERMISSION_TYPES[this.serial]}return t},destroy:function(){}});e.default=t}),define("app/model/model",["exports","passbolt-mad/model/model"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=passbolt.Model=mad.Model.extend("passbolt.Model",{getFilteredFields:function(e){return!1},filterAttributes:function(e){var t={};if(void 0!==e.__FILTER_CASE__){var n=this.getFilteredFields(e.__FILTER_CASE__);if(!1!==n)for(var s in n){var i=can.getObject(n[s],e);can.getObject(n[s],t,!0,i)}else delete(t=e).__FILTER_CASE__}else t=e;return t}},{clone:function(){var e=this.attr();return delete e[this.constructor.id],new this.constructor(e)}});e.default=t}),define("app/model/resource",["exports","app/model/model","app/model/secret","passbolt-mad/model/serializer/cake_serializer"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=passbolt.model.Resource=passbolt.Model.extend("passbolt.model.Resource",{attributes:{id:"string",name:"string",username:"string",uri:"string",created:"string",modified:"string",description:"string",Secret:"passbolt.model.Secret.models",Favorite:"passbolt.model.Favorite.model",Creator:"passbolt.model.User.model",Modifier:"passbolt.model.User.model",Permission:"passbolt.model.Permission.model"},validationRules:{id:[{rule:"uuid"}],name:[{rule:"required"},{rule:["lengthBetween",3,64]}],username:[{rule:["lengthBetween",0,64]}],uri:[{rule:["lengthBetween",3,255]}],description:[{rule:["lengthBetween",0,1e4]}]},create:function(e,t,n){var s=this,i=mad.model.serializer.CakeSerializer.to(e,this);return mad.net.Ajax.request({url:APP_URL+"resources",type:"POST",params:i,success:t,error:n}).pipe(function(e,t,n){var i=$.Deferred();return i.resolveWith(this,[mad.model.serializer.CakeSerializer.from(e,s)]),i})},destroy:function(e,t,n){var s={id:e};return mad.net.Ajax.request({url:APP_URL+"resources/{id}.json",type:"DELETE",params:s,success:t,error:n})},findAll:function(e,t,n){return mad.net.Ajax.request({url:APP_URL+"resources.json",type:"GET",params:e,success:t,error:n})},findOne:function(e,t,n){return mad.net.Ajax.request({url:APP_URL+"resources/{id}.json",type:"GET",params:e,success:t,error:n})},update:function(e,t){var n=this,s={},i=this.filterAttributes(t);return s=mad.model.serializer.CakeSerializer.to(i,this),s.id=e,mad.net.Ajax.request({url:APP_URL+"resources/{id}.json",type:"PUT",params:s}).pipe(function(e,t,s){var i=$.Deferred();return i.resolveWith(this,[mad.model.serializer.CakeSerializer.from(e,n)]),i})},getFilteredFields:function(e){var t=!1;switch(e){case"edit":t=["name","username","expiry_date","uri","description"];break;case"edit_with_secrets":t=["name","username","expiry_date","uri","description","Secret"];break;case"edit_description":t=["description"]}return t},findUsers:function(e){var t={filter:{"has-access":e}};return mad.net.Ajax.request({url:APP_URL+"users.json",type:"GET",params:t}).pipe(function(e,t,n){var s=$.Deferred();return s.resolveWith(this,[passbolt.model.User.models(e)]),s})}},{isFavorite:function(){return!(!this.Favorite||!this.Favorite.id)}});e.default=t}),define("app/model/permission",["exports","passbolt-mad/model/model","app/model/permission_type","app/model/resource","app/model/user","passbolt-mad/model/serializer/cake_serializer"],function(e,t,n,s,i,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0});var o=a(t),u=a(n),d=a(s),l=a(i),c=a(r),p=o.default.extend("passbolt.model.Permission",{attributes:{id:"string",type:"string",aco:"string",aco_foreign_key:"string",aro:"string",aro_foreign_key:"string",aro_foreign_label:"string",PermissionType:"passbolt.model.PermissionType.model",Resource:"passbolt.model.Resource.model",User:"passbolt.model.User.model",Group:"passbolt.model.Group.model"},validateRules:{aro_foreign_key:["required","uid"],aro_foreign_label:["required"],type:["required",{rule:"foreignRule",options:{model:u.default,attribute:"serial"}}]},create:function(e,t,n){var s=this,i="permissions/"+e.aco.toLowerCase()+"/"+e.aco_foreign_key;delete e.aco,e.aco_foreign_key;var r=c.default.to(e,this);return mad.net.Ajax.request({url:APP_URL+i,type:"POST",params:r,success:t,error:n}).pipe(function(e,t,n){var i=$.Deferred();return i.resolveWith(this,[c.default.from(e,s)]),i})},destroy:function(e,t,n){var s={id:e};return mad.net.Ajax.request({url:APP_URL+"permissions/{id}.json",type:"DELETE",params:s,success:t,error:n})},findAll:function(e,t,n){var s="permissions";return void 0!==e.aco&&void 0!==e.aco_foreign_key&&(s+="/"+e.aco.toLowerCase()+"/"+e.aco_foreign_key,delete e.aco,delete e.aco_foreign_key),mad.net.Ajax.request({url:APP_URL+s+".json",type:"GET",params:e,success:t,error:n})},findOne:function(e,t,n){return mad.net.Ajax.request({url:APP_URL+"permissions/{id}.json",type:"GET",params:e,success:t,error:n})},update:function(e,t,n,s){var i=this;delete t.created,delete t.modified;var r=c.default.to(t,this);return r.id=e,mad.net.Ajax.request({url:APP_URL+"permissions/{id}",type:"PUT",params:r,success:n,error:s}).pipe(function(e,t,n){var s=$.Deferred();return s.resolveWith(this,[c.default.from(e,i)]),s})},share:function(e,t,n,s,i){return mad.net.Ajax.request({url:APP_URL+"share/resource/"+t+".json",type:"PUT",params:n,success:s,error:i}).pipe(function(e){var n={id:t,silentLoading:!1,contain:{creator:1,favorite:1,modifier:1,secret:1,permission:1}};return d.default.findOne(n).then(function(e){e.updated()},function(){d.default.store[t].destroyed()}),e})},searchUsers:function(e,t,n){return mad.net.Ajax.request({url:APP_URL+"share/search-users/{model}/{id}.json",type:"GET",params:e,success:t,error:n}).pipe(function(e,t,n){var s=$.Deferred();return s.resolveWith(this,[l.default.models(e)]),s})}},{isAllowedTo:function(e){return this.type>=e},isDirect:function(e){return e instanceof can.getObject("passbolt.model."+this.aco)&&e.id===this.aco_foreign_key}});e.default=p}),define("app/view/template/component/password_workspace_menu.ejs!passbolt-mad/lib/can/viewEjsSystem",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("app_view_template_component_password_workspace_menu_ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push('<li>\n    <a id="js_wk_menu_secretcopy_button" class="button">\n        <i class="fa fa-fw fa-clipboard"></i>\n        <span>'),___v1ew.push(can.view.txt(1,"span",0,this,function(){return __("copy")})),___v1ew.push('</span>\n    </a>\n</li>\n<li>\n\t<a id="js_wk_menu_edition_button" class="button">\n\t\t<i class="fa fa-fw fa-edit"></i>\n\t\t<span>'),___v1ew.push(can.view.txt(1,"span",0,this,function(){return __("edit")})),___v1ew.push('</span>\n\t</a>\n</li>\n<li>\n\t<a id="js_wk_menu_sharing_button" class="button">\n\t\t<i class="fa fa-fw fa-share"></i>\n\t\t<span>'),___v1ew.push(can.view.txt(1,"span",0,this,function(){return __("share")})),___v1ew.push('</span>\n\t</a>\n</li>\n<li>\n\t<div class="dropdown">\n\t\t<a id="js_wk_menu_more_button" class="button">\n\t\t\t<span>'),___v1ew.push(can.view.txt(1,"span",0,this,function(){return __("more")})),___v1ew.push('</span>\n\t\t\t<i class="fa fa-fw fa-caret-down"></i>\n\t\t</a>\n\t</div>\n</li>\n'),___v1ew.join("")}}))}),define("app/component/password_workspace_menu",["exports","app/view/template/component/password_workspace_menu.ejs!","passbolt-mad/component/component","passbolt-mad/component/button","passbolt-mad/component/button_dropdown","app/model/permission"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(t),s=passbolt.component.PasswordWorkspaceMenu=mad.Component.extend("passbolt.component.PasswordWorkspaceMenu",{defaults:{label:"Workspace Menu Controller",tag:"ul",selectedRs:new can.Model.List,template:n.default}},{afterStart:function(){var e=this;this.options.secretCopyButton=new mad.component.Button($("#js_wk_menu_secretcopy_button"),{state:"disabled"}).start(),this.options.editButton=new mad.component.Button($("#js_wk_menu_edition_button"),{state:"disabled"}).start(),this.options.shareButton=new mad.component.Button($("#js_wk_menu_sharing_button"),{state:"disabled"}).start();var t=[new mad.model.Action({id:uuid(),label:__("copy login to clipboard"),cssClasses:[],action:function(){var t=e.options.selectedRs[0].username;mad.bus.trigger("passbolt.clipboard",{name:"username",data:t})}}),new mad.model.Action({id:uuid(),label:__("copy password to clipboard"),cssClasses:[],action:function(){var t=e.options.selectedRs[0].Secret[0].data;mad.bus.trigger("passbolt.secret.decrypt",t)}}),new mad.model.Action({id:"js_wk_menu_delete_action",label:__("delete"),cssClasses:[],action:function(){e.element.trigger("delete_action_clicked")}})];this.options.moreButton=new mad.component.ButtonDropdown($("#js_wk_menu_more_button"),{state:"disabled",items:t}).start(),this.on()},"{secretCopyButton.element} click":function(e,t){var n=this.options.editButton.getValue().Secret[0].data;mad.bus.trigger("passbolt.secret.decrypt",n)},"{editButton.element} click":function(e,t){var n=this.options.editButton.getValue();mad.bus.trigger("request_resource_edition",n)}," delete_action_clicked":function(e,t){var n=this.options.selectedRs;mad.bus.trigger("request_resource_deletion",n)},"{shareButton.element} click":function(e,t){var n=this.options.shareButton.getValue();mad.bus.trigger("request_resource_sharing",n)},"{selectedRs} add":function(e,t,n){1==this.options.selectedRs.length?this.setState("selection"):0==this.options.selectedRs.length&&this.setState("ready")},"{selectedRs} remove":function(e,t,n){1==this.options.selectedRs.length?this.setState("selection"):0==this.options.selectedRs.length&&this.setState("ready")},stateSelection:function(e){if(e){var t=this.options.selectedRs[0].Permission,n=t.isAllowedTo(passbolt.UPDATE),s=t.isAllowedTo(passbolt.ADMIN);this.options.secretCopyButton.setValue(this.options.selectedRs[0]).setState("ready"),this.options.editButton.setValue(this.options.selectedRs[0]).setState(n?"ready":"disabled"),this.options.shareButton.setValue(this.options.selectedRs).setState(s?"ready":"disabled"),this.options.moreButton.setValue(this.options.selectedRs[0]).setState("ready"),this.options.moreButton.setItemState("js_wk_menu_delete_action",n?"ready":"disabled")}else this.options.secretCopyButton.setValue(null).setState("disabled"),this.options.editButton.setValue(null).setState("disabled"),this.options.shareButton.setValue(null).setState("disabled"),this.options.moreButton.setValue(null).setState("disabled"),this.options.moreButton.setItemState("js_wk_menu_delete_action","disabled")}});e.default=s}),define("app/component/breadcrumb/password_breadcrumb",["exports","app/view/template/component/breadcrumb/breadcrumb.ejs!","app/view/template/component/breadcrumb/breadcrumb_item.ejs!","passbolt-mad/component/component"],function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0});var i=s(t),r=s(n),a=passbolt.component.PasswordBreadcrumb=mad.Component.extend("passbolt.component.PasswordBreadcrumb",{defaults:{template:i.default,status:"hidden"}},{afterStart:function(){var e="#"+this.getId()+" ul";this.options.menu=new mad.component.Menu(e,{itemTemplate:r.default}),this.options.menu.start()},parseFilter:function(e){var t=[],n=e.getRule("keywords"),s=new mad.model.Action({id:uuid(),label:__("All items"),filter:passbolt.component.PasswordWorkspace.getDefaultFilterSettings()});return t.push(s),n&&""!=n?(s=new mad.model.Action({id:uuid(),label:__("Search : %s",n)}),t.push(s)):"default"!=e.id&&(s=new mad.model.Action({id:uuid(),label:e.label}),t.push(s)),t}," item_selected":function(e,t,n){n.filter&&mad.bus.trigger("filter_workspace",n.filter)},"{mad.bus.element} filter_workspace":function(e,t,n){this.options.menu.reset();var s=this.parseFilter(n);this.options.menu.load(s)}});e.default=a}),function(e){function t(e){throw new RangeError(T[e])}function n(e,t){for(var n=e.length,s=[];n--;)s[n]=t(e[n]);return s}function s(e,t){var s=e.split("@"),i="";return s.length>1&&(i=s[0]+"@",e=s[1]),i+n((e=e.replace(E,".")).split("."),t).join(".")}function i(e){for(var t,n,s=[],i=0,r=e.length;i<r;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<r?56320==(64512&(n=e.charCodeAt(i++)))?s.push(((1023&t)<<10)+(1023&n)+65536):(s.push(t),i--):s.push(t);return s}function r(e){return n(e,function(e){var t="";return e>65535&&(t+=A((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=A(e)}).join("")}function a(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:v}function o(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function u(e,t,n){var s=0;for(e=n?M(e/y):e>>1,e+=M(e/t);e>I*b>>1;s+=v)e=M(e/I);return M(s+(I+1)*e/(e+w))}function d(e){var n,s,i,o,d,l,c,p,f,m,h=[],w=e.length,y=0,j=C,k=x;for((s=e.lastIndexOf(S))<0&&(s=0),i=0;i<s;++i)e.charCodeAt(i)>=128&&t("not-basic"),h.push(e.charCodeAt(i));for(o=s>0?s+1:0;o<w;){for(d=y,l=1,c=v;o>=w&&t("invalid-input"),((p=a(e.charCodeAt(o++)))>=v||p>M((_-y)/l))&&t("overflow"),y+=p*l,f=c<=k?g:c>=k+b?b:c-k,!(p<f);c+=v)l>M(_/(m=v-f))&&t("overflow"),l*=m;k=u(y-d,n=h.length+1,0==d),M(y/n)>_-j&&t("overflow"),j+=M(y/n),y%=n,h.splice(y++,0,j)}return r(h)}function l(e){var n,s,r,a,d,l,c,p,f,m,h,w,y,j,k,E=[];for(w=(e=i(e)).length,n=C,s=0,d=x,l=0;l<w;++l)(h=e[l])<128&&E.push(A(h));for(r=a=E.length,a&&E.push(S);r<w;){for(c=_,l=0;l<w;++l)(h=e[l])>=n&&h<c&&(c=h);for(c-n>M((_-s)/(y=r+1))&&t("overflow"),s+=(c-n)*y,n=c,l=0;l<w;++l)if((h=e[l])<n&&++s>_&&t("overflow"),h==n){for(p=s,f=v;m=f<=d?g:f>=d+b?b:f-d,!(p<m);f+=v)k=p-m,j=v-m,E.push(A(o(m+k%j,0))),p=M(k/j);E.push(A(o(p,0))),d=u(s,y,r==a),s=0,++r}++s,++n}return E.join("")}var c="object"==typeof exports&&exports&&!exports.nodeType&&exports,p="object"==typeof module&&module&&!module.nodeType&&module,f="object"==typeof global&&global;f.global!==f&&f.window!==f&&f.self!==f||(e=f);var m,h,_=2147483647,v=36,g=1,b=26,w=38,y=700,x=72,C=128,S="-",j=/^xn--/,k=/[^\x20-\x7E]/,E=/[\x2E\u3002\uFF0E\uFF61]/g,T={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},I=v-g,M=Math.floor,A=String.fromCharCode;if(m={version:"1.3.2",ucs2:{decode:i,encode:r},decode:d,encode:l,toASCII:function(e){return s(e,function(e){return k.test(e)?"xn--"+l(e):e})},toUnicode:function(e){return s(e,function(e){return j.test(e)?d(e.slice(4).toLowerCase()):e})}},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("node_modules/urijs/src/punycode",function(){return m});else if(c&&p)if(module.exports==c)p.exports=m;else for(h in m)m.hasOwnProperty(h)&&(c[h]=m[h]);else e.punycode=m}(this),function(e,t){"use strict";"object"==typeof module&&module.exports?module.exports=t():"function"==typeof define&&define.amd?define("node_modules/urijs/src/SecondLevelDomains",t):e.SecondLevelDomains=t(e)}(this,function(e){"use strict";var t=e&&e.SecondLevelDomains,n={list:{ac:" com gov mil net org ",ae:" ac co gov mil name net org pro sch ",af:" com edu gov net org ",al:" com edu gov mil net org ",ao:" co ed gv it og pb ",ar:" com edu gob gov int mil net org tur ",at:" ac co gv or ",au:" asn com csiro edu gov id net org ",ba:" co com edu gov mil net org rs unbi unmo unsa untz unze ",bb:" biz co com edu gov info net org store tv ",bh:" biz cc com edu gov info net org ",bn:" com edu gov net org ",bo:" com edu gob gov int mil net org tv ",br:" adm adv agr am arq art ato b bio blog bmd cim cng cnt com coop ecn edu eng esp etc eti far flog fm fnd fot fst g12 ggf gov imb ind inf jor jus lel mat med mil mus net nom not ntr odo org ppg pro psc psi qsl rec slg srv tmp trd tur tv vet vlog wiki zlg ",bs:" com edu gov net org ",bz:" du et om ov rg ",ca:" ab bc mb nb nf nl ns nt nu on pe qc sk yk ",ck:" biz co edu gen gov info net org ",cn:" ac ah bj com cq edu fj gd gov gs gx gz ha hb he hi hl hn jl js jx ln mil net nm nx org qh sc sd sh sn sx tj tw xj xz yn zj ",co:" com edu gov mil net nom org ",cr:" ac c co ed fi go or sa ",cy:" ac biz com ekloges gov ltd name net org parliament press pro tm ",do:" art com edu gob gov mil net org sld web ",dz:" art asso com edu gov net org pol ",ec:" com edu fin gov info med mil net org pro ",eg:" com edu eun gov mil name net org sci ",er:" com edu gov ind mil net org rochest w ",es:" com edu gob nom org ",et:" biz com edu gov info name net org ",fj:" ac biz com info mil name net org pro ",fk:" ac co gov net nom org ",fr:" asso com f gouv nom prd presse tm ",gg:" co net org ",gh:" com edu gov mil org ",gn:" ac com gov net org ",gr:" com edu gov mil net org ",gt:" com edu gob ind mil net org ",gu:" com edu gov net org ",hk:" com edu gov idv net org ",hu:" 2000 agrar bolt casino city co erotica erotika film forum games hotel info ingatlan jogasz konyvelo lakas media news org priv reklam sex shop sport suli szex tm tozsde utazas video ",id:" ac co go mil net or sch web ",il:" ac co gov idf k12 muni net org ",in:" ac co edu ernet firm gen gov i ind mil net nic org res ",iq:" com edu gov i mil net org ",ir:" ac co dnssec gov i id net org sch ",it:" edu gov ",je:" co net org ",jo:" com edu gov mil name net org sch ",jp:" ac ad co ed go gr lg ne or ",ke:" ac co go info me mobi ne or sc ",kh:" com edu gov mil net org per ",ki:" biz com de edu gov info mob net org tel ",km:" asso com coop edu gouv k medecin mil nom notaires pharmaciens presse tm veterinaire ",kn:" edu gov net org ",kr:" ac busan chungbuk chungnam co daegu daejeon es gangwon go gwangju gyeongbuk gyeonggi gyeongnam hs incheon jeju jeonbuk jeonnam k kg mil ms ne or pe re sc seoul ulsan ",kw:" com edu gov net org ",ky:" com edu gov net org ",kz:" com edu gov mil net org ",lb:" com edu gov net org ",lk:" assn com edu gov grp hotel int ltd net ngo org sch soc web ",lr:" com edu gov net org ",lv:" asn com conf edu gov id mil net org ",ly:" com edu gov id med net org plc sch ",ma:" ac co gov m net org press ",mc:" asso tm ",me:" ac co edu gov its net org priv ",mg:" com edu gov mil nom org prd tm ",mk:" com edu gov inf name net org pro ",ml:" com edu gov net org presse ",mn:" edu gov org ",mo:" com edu gov net org ",mt:" com edu gov net org ",mv:" aero biz com coop edu gov info int mil museum name net org pro ",mw:" ac co com coop edu gov int museum net org ",mx:" com edu gob net org ",my:" com edu gov mil name net org sch ",nf:" arts com firm info net other per rec store web ",ng:" biz com edu gov mil mobi name net org sch ",ni:" ac co com edu gob mil net nom org ",np:" com edu gov mil net org ",nr:" biz com edu gov info net org ",om:" ac biz co com edu gov med mil museum net org pro sch ",pe:" com edu gob mil net nom org sld ",ph:" com edu gov i mil net ngo org ",pk:" biz com edu fam gob gok gon gop gos gov net org web ",pl:" art bialystok biz com edu gda gdansk gorzow gov info katowice krakow lodz lublin mil net ngo olsztyn org poznan pwr radom slupsk szczecin torun warszawa waw wroc wroclaw zgora ",pr:" ac biz com edu est gov info isla name net org pro prof ",ps:" com edu gov net org plo sec ",pw:" belau co ed go ne or ",ro:" arts com firm info nom nt org rec store tm www ",rs:" ac co edu gov in org ",sb:" com edu gov net org ",sc:" com edu gov net org ",sh:" co com edu gov net nom org ",sl:" com edu gov net org ",st:" co com consulado edu embaixada gov mil net org principe saotome store ",sv:" com edu gob org red ",sz:" ac co org ",tr:" av bbs bel biz com dr edu gen gov info k12 name net org pol tel tsk tv web ",tt:" aero biz cat co com coop edu gov info int jobs mil mobi museum name net org pro tel travel ",tw:" club com ebiz edu game gov idv mil net org ",mu:" ac co com gov net or org ",mz:" ac co edu gov org ",na:" co com ",nz:" ac co cri geek gen govt health iwi maori mil net org parliament school ",pa:" abo ac com edu gob ing med net nom org sld ",pt:" com edu gov int net nome org publ ",py:" com edu gov mil net org ",qa:" com edu gov mil net org ",re:" asso com nom ",ru:" ac adygeya altai amur arkhangelsk astrakhan bashkiria belgorod bir bryansk buryatia cbg chel chelyabinsk chita chukotka chuvashia com dagestan e-burg edu gov grozny int irkutsk ivanovo izhevsk jar joshkar-ola kalmykia kaluga kamchatka karelia kazan kchr kemerovo khabarovsk khakassia khv kirov koenig komi kostroma kranoyarsk kuban kurgan kursk lipetsk magadan mari mari-el marine mil mordovia mosreg msk murmansk nalchik net nnov nov novosibirsk nsk omsk orenburg org oryol penza perm pp pskov ptz rnd ryazan sakhalin samara saratov simbirsk smolensk spb stavropol stv surgut tambov tatarstan tom tomsk tsaritsyn tsk tula tuva tver tyumen udm udmurtia ulan-ude vladikavkaz vladimir vladivostok volgograd vologda voronezh vrn vyatka yakutia yamal yekaterinburg yuzhno-sakhalinsk ",rw:" ac co com edu gouv gov int mil net ",sa:" com edu gov med net org pub sch ",sd:" com edu gov info med net org tv ",se:" a ac b bd c d e f g h i k l m n o org p parti pp press r s t tm u w x y z ",sg:" com edu gov idn net org per ",sn:" art com edu gouv org perso univ ",sy:" com edu gov mil net news org ",th:" ac co go in mi net or ",tj:" ac biz co com edu go gov info int mil name net nic org test web ",tn:" agrinet com defense edunet ens fin gov ind info intl mincom nat net org perso rnrt rns rnu tourism ",tz:" ac co go ne or ",ua:" biz cherkassy chernigov chernovtsy ck cn co com crimea cv dn dnepropetrovsk donetsk dp edu gov if in ivano-frankivsk kh kharkov kherson khmelnitskiy kiev kirovograd km kr ks kv lg lugansk lutsk lviv me mk net nikolaev od odessa org pl poltava pp rovno rv sebastopol sumy te ternopil uzhgorod vinnica vn zaporizhzhe zhitomir zp zt ",ug:" ac co go ne or org sc ",uk:" ac bl british-library co cym gov govt icnet jet lea ltd me mil mod national-library-scotland nel net nhs nic nls org orgn parliament plc police sch scot soc ",us:" dni fed isa kids nsn ",uy:" com edu gub mil net org ",ve:" co com edu gob info mil net org web ",vi:" co com k12 net org ",vn:" ac biz com edu gov health info int name net org pro ",ye:" co com gov ltd me net org plc ",yu:" ac co edu gov org ",za:" ac agric alt bourse city co cybernet db edu gov grondar iaccess imt inca landesign law mil net ngo nis nom olivetti org pix school tm web ",zm:" ac co com edu gov net org sch ",com:"ar br cn de eu gb gr hu jpn kr no qc ru sa se uk us uy za ",net:"gb jp se uk ",org:"ae",de:"com "},has:function(e){var t=e.lastIndexOf(".");if(t<=0||t>=e.length-1)return!1;var s=e.lastIndexOf(".",t-1);if(s<=0||s>=t-1)return!1;var i=n.list[e.slice(t+1)];return!!i&&i.indexOf(" "+e.slice(s+1,t)+" ")>=0},is:function(e){var t=e.lastIndexOf(".");if(t<=0||t>=e.length-1)return!1;if(e.lastIndexOf(".",t-1)>=0)return!1;var s=n.list[e.slice(t+1)];return!!s&&s.indexOf(" "+e.slice(0,t)+" ")>=0},get:function(e){var t=e.lastIndexOf(".");if(t<=0||t>=e.length-1)return null;var s=e.lastIndexOf(".",t-1);if(s<=0||s>=t-1)return null;var i=n.list[e.slice(t+1)];return i?i.indexOf(" "+e.slice(s+1,t)+" ")<0?null:e.slice(s+1):null},noConflict:function(){return e.SecondLevelDomains===this&&(e.SecondLevelDomains=t),this}};return n}),function(e,t){"use strict";"object"==typeof module&&module.exports?module.exports=t():"function"==typeof define&&define.amd?define("node_modules/urijs/src/IPv6",t):e.IPv6=t(e)}(this,function(e){"use strict";var t=e&&e.IPv6;return{best:function(e){var t=e.toLowerCase().split(":"),n=t.length,s=8;""===t[0]&&""===t[1]&&""===t[2]?(t.shift(),t.shift()):""===t[0]&&""===t[1]?t.shift():""===t[n-1]&&""===t[n-2]&&t.pop(),-1!==t[(n=t.length)-1].indexOf(".")&&(s=7);var i;for(i=0;i<n&&""!==t[i];i++);if(i<s)for(t.splice(i,1,"0000");t.length<s;)t.splice(i,0,"0000");for(var r,a=0;a<s;a++){r=t[a].split("");for(var o=0;o<3&&"0"===r[0]&&r.length>1;o++)r.splice(0,1);t[a]=r.join("")}var u=-1,d=0,l=0,c=-1,p=!1;for(a=0;a<s;a++)p?"0"===t[a]?l+=1:(p=!1,l>d&&(u=c,d=l)):"0"===t[a]&&(p=!0,c=a,l=1);l>d&&(u=c,d=l),d>1&&t.splice(u,d,""),n=t.length;var f="";for(""===t[0]&&(f=":"),a=0;a<n&&(f+=t[a],a!==n-1);a++)f+=":";return""===t[n-1]&&(f+=":"),f},noConflict:function(){return e.IPv6===this&&(e.IPv6=t),this}}}),function(e,t){"use strict";"object"==typeof module&&module.exports?module.exports=t(require("./punycode"),require("./IPv6"),require("./SecondLevelDomains")):"function"==typeof define&&define.amd?define("node_modules/urijs/src/URI",["./punycode","./IPv6","./SecondLevelDomains"],t):e.URI=t(e.punycode,e.IPv6,e.SecondLevelDomains,e)}(this,function(e,t,n,s){"use strict";function i(e,t){var n=arguments.length>=1,s=arguments.length>=2;if(!(this instanceof i))return n?s?new i(e,t):new i(e):new i;if(void 0===e){if(n)throw new TypeError("undefined is not a valid argument for URI");e="undefined"!=typeof location?location.href+"":""}if(null===e&&n)throw new TypeError("null is not a valid argument for URI");return this.href(e),void 0!==t?this.absoluteTo(t):this}function r(e){return/^[0-9]+$/.test(e)}function a(e){return e.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function o(e){return void 0===e?"Undefined":String(Object.prototype.toString.call(e)).slice(8,-1)}function u(e){return"Array"===o(e)}function d(e,t){var n,s,i={};if("RegExp"===o(t))i=null;else if(u(t))for(n=0,s=t.length;n<s;n++)i[t[n]]=!0;else i[t]=!0;for(n=0,s=e.length;n<s;n++)(i&&void 0!==i[e[n]]||!i&&t.test(e[n]))&&(e.splice(n,1),s--,n--);return e}function l(e,t){var n,s;if(u(t)){for(n=0,s=t.length;n<s;n++)if(!l(e,t[n]))return!1;return!0}var i=o(t);for(n=0,s=e.length;n<s;n++)if("RegExp"===i){if("string"==typeof e[n]&&e[n].match(t))return!0}else if(e[n]===t)return!0;return!1}function c(e,t){if(!u(e)||!u(t))return!1;if(e.length!==t.length)return!1;e.sort(),t.sort();for(var n=0,s=e.length;n<s;n++)if(e[n]!==t[n])return!1;return!0}function p(e){return e.replace(/^\/+|\/+$/g,"")}function f(e){return escape(e)}function m(e){return encodeURIComponent(e).replace(/[!'()*]/g,f).replace(/\*/g,"%2A")}function h(e){return function(t,n){return void 0===t?this._parts[e]||"":(this._parts[e]=t||null,this.build(!n),this)}}function _(e,t){return function(n,s){return void 0===n?this._parts[e]||"":(null!==n&&(n+="").charAt(0)===t&&(n=n.substring(1)),this._parts[e]=n,this.build(!s),this)}}var v=s&&s.URI;i.version="1.19.0";var g=i.prototype,b=Object.prototype.hasOwnProperty;i._parts=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null,preventInvalidHostname:i.preventInvalidHostname,duplicateQueryParameters:i.duplicateQueryParameters,escapeQuerySpace:i.escapeQuerySpace}},i.preventInvalidHostname=!1,i.duplicateQueryParameters=!1,i.escapeQuerySpace=!0,i.protocol_expression=/^[a-z][a-z0-9.+-]*$/i,i.idn_expression=/[^a-z0-9\._-]/i,i.punycode_expression=/(xn--)/i,i.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,i.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,i.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?«»“”‘’]))/gi,i.findUri={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?«»“”„‘’]+$/,parens:/(\([^\)]*\)|\[[^\]]*\]|\{[^}]*\}|<[^>]*>)/g},i.defaultPorts={http:"80",https:"443",ftp:"21",gopher:"70",ws:"80",wss:"443"},i.hostProtocols=["http","https"],i.invalid_hostname_characters=/[^a-zA-Z0-9\.\-:_]/,i.domAttributes={a:"href",blockquote:"cite",link:"href",base:"href",script:"src",form:"action",img:"src",area:"href",iframe:"src",embed:"src",source:"src",track:"src",input:"src",audio:"src",video:"src"},i.getDomAttribute=function(e){if(e&&e.nodeName){var t=e.nodeName.toLowerCase();if("input"!==t||"image"===e.type)return i.domAttributes[t]}},i.encode=m,i.decode=decodeURIComponent,i.iso8859=function(){i.encode=escape,i.decode=unescape},i.unicode=function(){i.encode=m,i.decode=decodeURIComponent},i.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/gi,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{expression:/[\/\?#]/g,map:{"/":"%2F","?":"%3F","#":"%23"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/gi,map:{"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"&","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}},urnpath:{encode:{expression:/%(21|24|27|28|29|2A|2B|2C|3B|3D|40)/gi,map:{"%21":"!","%24":"$","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"=","%40":"@"}},decode:{expression:/[\/\?#:]/g,map:{"/":"%2F","?":"%3F","#":"%23",":":"%3A"}}}},i.encodeQuery=function(e,t){var n=i.encode(e+"");return void 0===t&&(t=i.escapeQuerySpace),t?n.replace(/%20/g,"+"):n},i.decodeQuery=function(e,t){e+="",void 0===t&&(t=i.escapeQuerySpace);try{return i.decode(t?e.replace(/\+/g,"%20"):e)}catch(t){return e}};var w,y={encode:"encode",decode:"decode"},x=function(e,t){return function(n){try{return i[t](n+"").replace(i.characters[e][t].expression,function(n){return i.characters[e][t].map[n]})}catch(e){return n}}};for(w in y)i[w+"PathSegment"]=x("pathname",y[w]),i[w+"UrnPathSegment"]=x("urnpath",y[w]);var C=function(e,t,n){return function(s){var r;r=n?function(e){return i[t](i[n](e))}:i[t];for(var a=(s+"").split(e),o=0,u=a.length;o<u;o++)a[o]=r(a[o]);return a.join(e)}};i.decodePath=C("/","decodePathSegment"),i.decodeUrnPath=C(":","decodeUrnPathSegment"),i.recodePath=C("/","encodePathSegment","decode"),i.recodeUrnPath=C(":","encodeUrnPathSegment","decode"),i.encodeReserved=x("reserved","encode"),i.parse=function(e,t){var n;return t||(t={preventInvalidHostname:i.preventInvalidHostname}),(n=e.indexOf("#"))>-1&&(t.fragment=e.substring(n+1)||null,e=e.substring(0,n)),(n=e.indexOf("?"))>-1&&(t.query=e.substring(n+1)||null,e=e.substring(0,n)),"//"===e.substring(0,2)?(t.protocol=null,e=e.substring(2),e=i.parseAuthority(e,t)):(n=e.indexOf(":"))>-1&&(t.protocol=e.substring(0,n)||null,t.protocol&&!t.protocol.match(i.protocol_expression)?t.protocol=void 0:"//"===e.substring(n+1,n+3)?(e=e.substring(n+3),e=i.parseAuthority(e,t)):(e=e.substring(n+1),t.urn=!0)),t.path=e,t},i.parseHost=function(e,t){e||(e="");var n,s,r=(e=e.replace(/\\/g,"/")).indexOf("/");if(-1===r&&(r=e.length),"["===e.charAt(0))n=e.indexOf("]"),t.hostname=e.substring(1,n)||null,t.port=e.substring(n+2,r)||null,"/"===t.port&&(t.port=null);else{var a=e.indexOf(":"),o=e.indexOf("/"),u=e.indexOf(":",a+1);-1!==u&&(-1===o||u<o)?(t.hostname=e.substring(0,r)||null,t.port=null):(s=e.substring(0,r).split(":"),t.hostname=s[0]||null,t.port=s[1]||null)}return t.hostname&&"/"!==e.substring(r).charAt(0)&&(r++,e="/"+e),t.preventInvalidHostname&&i.ensureValidHostname(t.hostname,t.protocol),t.port&&i.ensureValidPort(t.port),e.substring(r)||"/"},i.parseAuthority=function(e,t){return e=i.parseUserinfo(e,t),i.parseHost(e,t)},i.parseUserinfo=function(e,t){var n,s=e.indexOf("/"),r=e.lastIndexOf("@",s>-1?s:e.length-1);return r>-1&&(-1===s||r<s)?(n=e.substring(0,r).split(":"),t.username=n[0]?i.decode(n[0]):null,n.shift(),t.password=n[0]?i.decode(n.join(":")):null,e=e.substring(r+1)):(t.username=null,t.password=null),e},i.parseQuery=function(e,t){if(!e)return{};if(!(e=e.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,"")))return{};for(var n,s,r,a={},o=e.split("&"),u=o.length,d=0;d<u;d++)n=o[d].split("="),s=i.decodeQuery(n.shift(),t),r=n.length?i.decodeQuery(n.join("="),t):null,b.call(a,s)?("string"!=typeof a[s]&&null!==a[s]||(a[s]=[a[s]]),a[s].push(r)):a[s]=r;return a},i.build=function(e){var t="";return e.protocol&&(t+=e.protocol+":"),e.urn||!t&&!e.hostname||(t+="//"),t+=i.buildAuthority(e)||"","string"==typeof e.path&&("/"!==e.path.charAt(0)&&"string"==typeof e.hostname&&(t+="/"),t+=e.path),"string"==typeof e.query&&e.query&&(t+="?"+e.query),"string"==typeof e.fragment&&e.fragment&&(t+="#"+e.fragment),t},i.buildHost=function(e){var t="";return e.hostname?(i.ip6_expression.test(e.hostname)?t+="["+e.hostname+"]":t+=e.hostname,e.port&&(t+=":"+e.port),t):""},i.buildAuthority=function(e){return i.buildUserinfo(e)+i.buildHost(e)},i.buildUserinfo=function(e){var t="";return e.username&&(t+=i.encode(e.username)),e.password&&(t+=":"+i.encode(e.password)),t&&(t+="@"),t},i.buildQuery=function(e,t,n){var s,r,a,o,d="";for(r in e)if(b.call(e,r)&&r)if(u(e[r]))for(s={},a=0,o=e[r].length;a<o;a++)void 0!==e[r][a]&&void 0===s[e[r][a]+""]&&(d+="&"+i.buildQueryParameter(r,e[r][a],n),!0!==t&&(s[e[r][a]+""]=!0));else void 0!==e[r]&&(d+="&"+i.buildQueryParameter(r,e[r],n));return d.substring(1)},i.buildQueryParameter=function(e,t,n){return i.encodeQuery(e,n)+(null!==t?"="+i.encodeQuery(t,n):"")},i.addQuery=function(e,t,n){if("object"==typeof t)for(var s in t)b.call(t,s)&&i.addQuery(e,s,t[s]);else{if("string"!=typeof t)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");if(void 0===e[t])return void(e[t]=n);"string"==typeof e[t]&&(e[t]=[e[t]]),u(n)||(n=[n]),e[t]=(e[t]||[]).concat(n)}},i.setQuery=function(e,t,n){if("object"==typeof t)for(var s in t)b.call(t,s)&&i.setQuery(e,s,t[s]);else{if("string"!=typeof t)throw new TypeError("URI.setQuery() accepts an object, string as the name parameter");e[t]=void 0===n?null:n}},i.removeQuery=function(e,t,n){var s,r,a;if(u(t))for(s=0,r=t.length;s<r;s++)e[t[s]]=void 0;else if("RegExp"===o(t))for(a in e)t.test(a)&&(e[a]=void 0);else if("object"==typeof t)for(a in t)b.call(t,a)&&i.removeQuery(e,a,t[a]);else{if("string"!=typeof t)throw new TypeError("URI.removeQuery() accepts an object, string, RegExp as the first parameter");void 0!==n?"RegExp"===o(n)?!u(e[t])&&n.test(e[t])?e[t]=void 0:e[t]=d(e[t],n):e[t]!==String(n)||u(n)&&1!==n.length?u(e[t])&&(e[t]=d(e[t],n)):e[t]=void 0:e[t]=void 0}},i.hasQuery=function(e,t,n,s){switch(o(t)){case"String":break;case"RegExp":for(var r in e)if(b.call(e,r)&&t.test(r)&&(void 0===n||i.hasQuery(e,r,n)))return!0;return!1;case"Object":for(var a in t)if(b.call(t,a)&&!i.hasQuery(e,a,t[a]))return!1;return!0;default:throw new TypeError("URI.hasQuery() accepts a string, regular expression or object as the name parameter")}switch(o(n)){case"Undefined":return t in e;case"Boolean":return n===Boolean(u(e[t])?e[t].length:e[t]);case"Function":return!!n(e[t],t,e);case"Array":return!!u(e[t])&&(s?l:c)(e[t],n);case"RegExp":return u(e[t])?!!s&&l(e[t],n):Boolean(e[t]&&e[t].match(n));case"Number":n=String(n);case"String":return u(e[t])?!!s&&l(e[t],n):e[t]===n;default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter")}},i.joinPaths=function(){for(var e=[],t=[],n=0,s=0;s<arguments.length;s++){var r=new i(arguments[s]);e.push(r);for(var a=r.segment(),o=0;o<a.length;o++)"string"==typeof a[o]&&t.push(a[o]),a[o]&&n++}if(!t.length||!n)return new i("");var u=new i("").segment(t);return""!==e[0].path()&&"/"!==e[0].path().slice(0,1)||u.path("/"+u.path()),u.normalize()},i.commonPath=function(e,t){var n,s=Math.min(e.length,t.length);for(n=0;n<s;n++)if(e.charAt(n)!==t.charAt(n)){n--;break}return n<1?e.charAt(0)===t.charAt(0)&&"/"===e.charAt(0)?"/":"":("/"===e.charAt(n)&&"/"===t.charAt(n)||(n=e.substring(0,n).lastIndexOf("/")),e.substring(0,n+1))},i.withinString=function(e,t,n){n||(n={});var s=n.start||i.findUri.start,r=n.end||i.findUri.end,a=n.trim||i.findUri.trim,o=n.parens||i.findUri.parens,u=/[a-z0-9-]=["']?$/i;for(s.lastIndex=0;;){var d=s.exec(e);if(!d)break;var l=d.index;if(n.ignoreHtml){var c=e.slice(Math.max(l-3,0),l);if(c&&u.test(c))continue}for(var p=l+e.slice(l).search(r),f=e.slice(l,p),m=-1;;){var h=o.exec(f);if(!h)break;var _=h.index+h[0].length;m=Math.max(m,_)}if(!((f=m>-1?f.slice(0,m)+f.slice(m).replace(a,""):f.replace(a,"")).length<=d[0].length||n.ignore&&n.ignore.test(f))){var v=t(f,l,p=l+f.length,e);void 0!==v?(v=String(v),e=e.slice(0,l)+v+e.slice(p),s.lastIndex=l+v.length):s.lastIndex=p}}return s.lastIndex=0,e},i.ensureValidHostname=function(t,n){var s=!!t,r=!1;if(!!n&&(r=l(i.hostProtocols,n)),r&&!s)throw new TypeError("Hostname cannot be empty, if protocol is "+n);if(t&&t.match(i.invalid_hostname_characters)){if(!e)throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-:_] and Punycode.js is not available');if(e.toASCII(t).match(i.invalid_hostname_characters))throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-:_]')}},i.ensureValidPort=function(e){if(e){var t=Number(e);if(!(r(t)&&t>0&&t<65536))throw new TypeError('Port "'+e+'" is not a valid port')}},i.noConflict=function(e){if(e){var t={URI:this.noConflict()};return s.URITemplate&&"function"==typeof s.URITemplate.noConflict&&(t.URITemplate=s.URITemplate.noConflict()),s.IPv6&&"function"==typeof s.IPv6.noConflict&&(t.IPv6=s.IPv6.noConflict()),s.SecondLevelDomains&&"function"==typeof s.SecondLevelDomains.noConflict&&(t.SecondLevelDomains=s.SecondLevelDomains.noConflict()),t}return s.URI===this&&(s.URI=v),this},g.build=function(e){return!0===e?this._deferred_build=!0:(void 0===e||this._deferred_build)&&(this._string=i.build(this._parts),this._deferred_build=!1),this},g.clone=function(){return new i(this)},g.valueOf=g.toString=function(){return this.build(!1)._string},g.protocol=h("protocol"),g.username=h("username"),g.password=h("password"),g.hostname=h("hostname"),g.port=h("port"),g.query=_("query","?"),g.fragment=_("fragment","#"),g.search=function(e,t){var n=this.query(e,t);return"string"==typeof n&&n.length?"?"+n:n},g.hash=function(e,t){var n=this.fragment(e,t);return"string"==typeof n&&n.length?"#"+n:n},g.pathname=function(e,t){if(void 0===e||!0===e){var n=this._parts.path||(this._parts.hostname?"/":"");return e?(this._parts.urn?i.decodeUrnPath:i.decodePath)(n):n}return this._parts.urn?this._parts.path=e?i.recodeUrnPath(e):"":this._parts.path=e?i.recodePath(e):"/",this.build(!t),this},g.path=g.pathname,g.href=function(e,t){var n;if(void 0===e)return this.toString();this._string="",this._parts=i._parts();var s=e instanceof i,r="object"==typeof e&&(e.hostname||e.path||e.pathname);if(e.nodeName&&(e=e[i.getDomAttribute(e)]||"",r=!1),!s&&r&&void 0!==e.pathname&&(e=e.toString()),"string"==typeof e||e instanceof String)this._parts=i.parse(String(e),this._parts);else{if(!s&&!r)throw new TypeError("invalid input");var a=s?e._parts:e;for(n in a)b.call(this._parts,n)&&(this._parts[n]=a[n])}return this.build(!t),this},g.is=function(e){var t=!1,s=!1,r=!1,a=!1,o=!1,u=!1,d=!1,l=!this._parts.urn;switch(this._parts.hostname&&(l=!1,s=i.ip4_expression.test(this._parts.hostname),r=i.ip6_expression.test(this._parts.hostname),o=(a=!(t=s||r))&&n&&n.has(this._parts.hostname),u=a&&i.idn_expression.test(this._parts.hostname),d=a&&i.punycode_expression.test(this._parts.hostname)),e.toLowerCase()){case"relative":return l;case"absolute":return!l;case"domain":case"name":return a;case"sld":return o;case"ip":return t;case"ip4":case"ipv4":case"inet4":return s;case"ip6":case"ipv6":case"inet6":return r;case"idn":return u;case"url":return!this._parts.urn;case"urn":return!!this._parts.urn;case"punycode":return d}return null};var S=g.protocol,j=g.port,k=g.hostname;g.protocol=function(e,t){if(e&&!(e=e.replace(/:(\/\/)?$/,"")).match(i.protocol_expression))throw new TypeError('Protocol "'+e+"\" contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]");return S.call(this,e,t)},g.scheme=g.protocol,g.port=function(e,t){return this._parts.urn?void 0===e?"":this:(void 0!==e&&(0===e&&(e=null),e&&(":"===(e+="").charAt(0)&&(e=e.substring(1)),i.ensureValidPort(e))),j.call(this,e,t))},g.hostname=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0!==e){var n={preventInvalidHostname:this._parts.preventInvalidHostname};if("/"!==i.parseHost(e,n))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');e=n.hostname,this._parts.preventInvalidHostname&&i.ensureValidHostname(e,this._parts.protocol)}return k.call(this,e,t)},g.origin=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){var n=this.protocol();return this.authority()?(n?n+"://":"")+this.authority():""}var s=i(e);return this.protocol(s.protocol()).authority(s.authority()).build(!t),this},g.host=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e)return this._parts.hostname?i.buildHost(this._parts):"";if("/"!==i.parseHost(e,this._parts))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');return this.build(!t),this},g.authority=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e)return this._parts.hostname?i.buildAuthority(this._parts):"";if("/"!==i.parseAuthority(e,this._parts))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');return this.build(!t),this},g.userinfo=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){var n=i.buildUserinfo(this._parts);return n?n.substring(0,n.length-1):n}return"@"!==e[e.length-1]&&(e+="@"),i.parseUserinfo(e,this._parts),this.build(!t),this},g.resource=function(e,t){var n;return void 0===e?this.path()+this.search()+this.hash():(n=i.parse(e),this._parts.path=n.path,this._parts.query=n.query,this._parts.fragment=n.fragment,this.build(!t),this)},g.subdomain=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var n=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,n)||""}var s=this._parts.hostname.length-this.domain().length,r=this._parts.hostname.substring(0,s),o=new RegExp("^"+a(r));if(e&&"."!==e.charAt(e.length-1)&&(e+="."),-1!==e.indexOf(":"))throw new TypeError("Domains cannot contain colons");return e&&i.ensureValidHostname(e,this._parts.protocol),this._parts.hostname=this._parts.hostname.replace(o,e),this.build(!t),this},g.domain=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("boolean"==typeof e&&(t=e,e=void 0),void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var n=this._parts.hostname.match(/\./g);if(n&&n.length<2)return this._parts.hostname;var s=this._parts.hostname.length-this.tld(t).length-1;return s=this._parts.hostname.lastIndexOf(".",s-1)+1,this._parts.hostname.substring(s)||""}if(!e)throw new TypeError("cannot set domain empty");if(-1!==e.indexOf(":"))throw new TypeError("Domains cannot contain colons");if(i.ensureValidHostname(e,this._parts.protocol),!this._parts.hostname||this.is("IP"))this._parts.hostname=e;else{var r=new RegExp(a(this.domain())+"$");this._parts.hostname=this._parts.hostname.replace(r,e)}return this.build(!t),this},g.tld=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("boolean"==typeof e&&(t=e,e=void 0),void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var s=this._parts.hostname.lastIndexOf("."),i=this._parts.hostname.substring(s+1);return!0!==t&&n&&n.list[i.toLowerCase()]?n.get(this._parts.hostname)||i:i}var r;if(!e)throw new TypeError("cannot set TLD empty");if(e.match(/[^a-zA-Z0-9-]/)){if(!n||!n.is(e))throw new TypeError('TLD "'+e+'" contains characters other than [A-Z0-9]');r=new RegExp(a(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(r,e)}else{if(!this._parts.hostname||this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");r=new RegExp(a(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(r,e)}return this.build(!t),this},g.directory=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||!0===e){if(!this._parts.path&&!this._parts.hostname)return"";if("/"===this._parts.path)return"/";var n=this._parts.path.length-this.filename().length-1,s=this._parts.path.substring(0,n)||(this._parts.hostname?"/":"");return e?i.decodePath(s):s}var r=this._parts.path.length-this.filename().length,o=this._parts.path.substring(0,r),u=new RegExp("^"+a(o));return this.is("relative")||(e||(e="/"),"/"!==e.charAt(0)&&(e="/"+e)),e&&"/"!==e.charAt(e.length-1)&&(e+="/"),e=i.recodePath(e),this._parts.path=this._parts.path.replace(u,e),this.build(!t),this},g.filename=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("string"!=typeof e){if(!this._parts.path||"/"===this._parts.path)return"";var n=this._parts.path.lastIndexOf("/"),s=this._parts.path.substring(n+1);return e?i.decodePathSegment(s):s}var r=!1;"/"===e.charAt(0)&&(e=e.substring(1)),e.match(/\.?\//)&&(r=!0);var o=new RegExp(a(this.filename())+"$");return e=i.recodePath(e),this._parts.path=this._parts.path.replace(o,e),r?this.normalizePath(t):this.build(!t),this},g.suffix=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||!0===e){if(!this._parts.path||"/"===this._parts.path)return"";var n,s,r=this.filename(),o=r.lastIndexOf(".");return-1===o?"":(n=r.substring(o+1),s=/^[a-z0-9%]+$/i.test(n)?n:"",e?i.decodePathSegment(s):s)}"."===e.charAt(0)&&(e=e.substring(1));var u,d=this.suffix();if(d)u=e?new RegExp(a(d)+"$"):new RegExp(a("."+d)+"$");else{if(!e)return this;this._parts.path+="."+i.recodePath(e)}return u&&(e=i.recodePath(e),this._parts.path=this._parts.path.replace(u,e)),this.build(!t),this},g.segment=function(e,t,n){var s=this._parts.urn?":":"/",i=this.path(),r="/"===i.substring(0,1),a=i.split(s);if(void 0!==e&&"number"!=typeof e&&(n=t,t=e,e=void 0),void 0!==e&&"number"!=typeof e)throw new Error('Bad segment "'+e+'", must be 0-based integer');if(r&&a.shift(),e<0&&(e=Math.max(a.length+e,0)),void 0===t)return void 0===e?a:a[e];if(null===e||void 0===a[e])if(u(t)){a=[];for(var o=0,d=t.length;o<d;o++)(t[o].length||a.length&&a[a.length-1].length)&&(a.length&&!a[a.length-1].length&&a.pop(),a.push(p(t[o])))}else(t||"string"==typeof t)&&(t=p(t),""===a[a.length-1]?a[a.length-1]=t:a.push(t));else t?a[e]=p(t):a.splice(e,1);return r&&a.unshift(""),this.path(a.join(s),n)},g.segmentCoded=function(e,t,n){var s,r,a;if("number"!=typeof e&&(n=t,t=e,e=void 0),void 0===t){if(s=this.segment(e,t,n),u(s))for(r=0,a=s.length;r<a;r++)s[r]=i.decode(s[r]);else s=void 0!==s?i.decode(s):void 0;return s}if(u(t))for(r=0,a=t.length;r<a;r++)t[r]=i.encode(t[r]);else t="string"==typeof t||t instanceof String?i.encode(t):t;return this.segment(e,t,n)};var E=g.query;return g.query=function(e,t){if(!0===e)return i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("function"==typeof e){var n=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace),s=e.call(this,n);return this._parts.query=i.buildQuery(s||n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this}return void 0!==e&&"string"!=typeof e?(this._parts.query=i.buildQuery(e,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this):E.call(this,e,t)},g.setQuery=function(e,t,n){var s=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("string"==typeof e||e instanceof String)s[e]=void 0!==t?t:null;else{if("object"!=typeof e)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");for(var r in e)b.call(e,r)&&(s[r]=e[r])}return this._parts.query=i.buildQuery(s,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(n=t),this.build(!n),this},g.addQuery=function(e,t,n){var s=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return i.addQuery(s,e,void 0===t?null:t),this._parts.query=i.buildQuery(s,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(n=t),this.build(!n),this},g.removeQuery=function(e,t,n){var s=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return i.removeQuery(s,e,t),this._parts.query=i.buildQuery(s,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(n=t),this.build(!n),this},g.hasQuery=function(e,t,n){var s=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return i.hasQuery(s,e,t,n)},g.setSearch=g.setQuery,g.addSearch=g.addQuery,g.removeSearch=g.removeQuery,g.hasSearch=g.hasQuery,g.normalize=function(){return this._parts.urn?this.normalizeProtocol(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build():this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()},g.normalizeProtocol=function(e){return"string"==typeof this._parts.protocol&&(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!e)),this},g.normalizeHostname=function(n){return this._parts.hostname&&(this.is("IDN")&&e?this._parts.hostname=e.toASCII(this._parts.hostname):this.is("IPv6")&&t&&(this._parts.hostname=t.best(this._parts.hostname)),this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!n)),this},g.normalizePort=function(e){return"string"==typeof this._parts.protocol&&this._parts.port===i.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!e)),this},g.normalizePath=function(e){var t=this._parts.path;if(!t)return this;if(this._parts.urn)return this._parts.path=i.recodeUrnPath(this._parts.path),this.build(!e),this;if("/"===this._parts.path)return this;var n,s,r,a="";for("/"!==(t=i.recodePath(t)).charAt(0)&&(n=!0,t="/"+t),"/.."!==t.slice(-3)&&"/."!==t.slice(-2)||(t+="/"),t=t.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/"),n&&(a=t.substring(1).match(/^(\.\.\/)+/)||"")&&(a=a[0]);-1!==(s=t.search(/\/\.\.(\/|$)/));)0!==s?(-1===(r=t.substring(0,s).lastIndexOf("/"))&&(r=s),t=t.substring(0,r)+t.substring(s+3)):t=t.substring(3);return n&&this.is("relative")&&(t=a+t.substring(1)),this._parts.path=t,this.build(!e),this},g.normalizePathname=g.normalizePath,g.normalizeQuery=function(e){return"string"==typeof this._parts.query&&(this._parts.query.length?this.query(i.parseQuery(this._parts.query,this._parts.escapeQuerySpace)):this._parts.query=null,this.build(!e)),this},g.normalizeFragment=function(e){return this._parts.fragment||(this._parts.fragment=null,this.build(!e)),this},g.normalizeSearch=g.normalizeQuery,g.normalizeHash=g.normalizeFragment,g.iso8859=function(){var e=i.encode,t=i.decode;i.encode=escape,i.decode=decodeURIComponent;try{this.normalize()}finally{i.encode=e,i.decode=t}return this},g.unicode=function(){var e=i.encode,t=i.decode;i.encode=m,i.decode=unescape;try{this.normalize()}finally{i.encode=e,i.decode=t}return this},g.readable=function(){var t=this.clone();t.username("").password("").normalize();var n="";if(t._parts.protocol&&(n+=t._parts.protocol+"://"),t._parts.hostname&&(t.is("punycode")&&e?(n+=e.toUnicode(t._parts.hostname),t._parts.port&&(n+=":"+t._parts.port)):n+=t.host()),t._parts.hostname&&t._parts.path&&"/"!==t._parts.path.charAt(0)&&(n+="/"),n+=t.path(!0),t._parts.query){for(var s="",r=0,a=t._parts.query.split("&"),o=a.length;r<o;r++){var u=(a[r]||"").split("=");s+="&"+i.decodeQuery(u[0],this._parts.escapeQuerySpace).replace(/&/g,"%26"),void 0!==u[1]&&(s+="="+i.decodeQuery(u[1],this._parts.escapeQuerySpace).replace(/&/g,"%26"))}n+="?"+s.substring(1)}return n+=i.decodeQuery(t.hash(),!0)},g.absoluteTo=function(e){var t,n,s,r=this.clone(),a=["protocol","username","password","hostname","port"];if(this._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(e instanceof i||(e=new i(e)),r._parts.protocol)return r;if(r._parts.protocol=e._parts.protocol,this._parts.hostname)return r;for(n=0;s=a[n];n++)r._parts[s]=e._parts[s];return r._parts.path?(".."===r._parts.path.substring(-2)&&(r._parts.path+="/"),"/"!==r.path().charAt(0)&&(t=(t=e.directory())||(0===e.path().indexOf("/")?"/":""),r._parts.path=(t?t+"/":"")+r._parts.path,r.normalizePath())):(r._parts.path=e._parts.path,r._parts.query||(r._parts.query=e._parts.query)),r.build(),r},g.relativeTo=function(e){var t,n,s,r,a,o=this.clone().normalize();if(o._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(e=new i(e).normalize(),t=o._parts,n=e._parts,r=o.path(),a=e.path(),"/"!==r.charAt(0))throw new Error("URI is already relative");if("/"!==a.charAt(0))throw new Error("Cannot calculate a URI relative to another relative URI");if(t.protocol===n.protocol&&(t.protocol=null),t.username!==n.username||t.password!==n.password)return o.build();if(null!==t.protocol||null!==t.username||null!==t.password)return o.build();if(t.hostname!==n.hostname||t.port!==n.port)return o.build();if(t.hostname=null,t.port=null,r===a)return t.path="",o.build();if(!(s=i.commonPath(r,a)))return o.build();var u=n.path.substring(s.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../");return t.path=u+t.path.substring(s.length)||"./",o.build()},g.equals=function(e){var t,n,s,r=this.clone(),a=new i(e),o={},d={},l={};if(r.normalize(),a.normalize(),r.toString()===a.toString())return!0;if(t=r.query(),n=a.query(),r.query(""),a.query(""),r.toString()!==a.toString())return!1;if(t.length!==n.length)return!1;o=i.parseQuery(t,this._parts.escapeQuerySpace),d=i.parseQuery(n,this._parts.escapeQuerySpace);for(s in o)if(b.call(o,s)){if(u(o[s])){if(!c(o[s],d[s]))return!1}else if(o[s]!==d[s])return!1;l[s]=!0}for(s in d)if(b.call(d,s)&&!l[s])return!1;return!0},g.preventInvalidHostname=function(e){return this._parts.preventInvalidHostname=!!e,this},g.duplicateQueryParameters=function(e){return this._parts.duplicateQueryParameters=!!e,this},g.escapeQuerySpace=function(e){return this._parts.escapeQuerySpace=!!e,this},i}),define("passbolt-mad/model/grid_column",["exports","passbolt-mad/model/model"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=mad.model.GridColumn=can.Map.extend("mad.model.GridColumn",{define:{name:{type:"string"},index:{type:"string"},sortable:{type:"boolean",value:!1},label:{type:"string"},css:{Type:Array,value:[]},cellAdapter:{type:"*",value:null},valueAdapter:{type:"*",value:null}},init:function(e){this._super(e),this.sortable&&this.css.push("sortable")}});e.default=t}),define("passbolt-mad/view/component/grid",["exports","passbolt-mad/view/view","passbolt-mad/helper/html"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=mad.view.component.Grid=mad.View.extend("mad.view.component.Grid",{},{reset:function(){$("tbody tr",this.element).remove()},hideColumn:function(e){$(".js_grid_column_"+e,this.element).hide()},showColumn:function(e){$(".js_grid_column_"+e,this.element).show()},selectItem:function(e){this.getItemElement(e).addClass("selected")},unselectItem:function(e){this.getItemElement(e).removeClass("selected")},unselectAll:function(){$("tr.selected",this.element).removeClass("selected")},rightSelectItem:function(e){},hoverItem:function(e,t,n){},removeItem:function(e){this.getItemElement(e).remove()},hideItem:function(e){this.getItemElement(e).hide()},showItem:function(e){this.getItemElement(e).show()},_renderRow:function(e){var t=this.getController(),n=t.getColumnModel(),s=t.getMap().mapObject(e),i=[],r=[];for(var a in n){var o=n[a],u=null,d=null;u=o.valueAdapter?o.valueAdapter(s[o.name],s,e,o):o.widget||o.cellAdapter?"":s[o.name],i[o.name]=u,d=o.titleAdapter?o.titleAdapter(s[o.name],s,e,o):u,r[o.name]=d}return mad.View.render(t.options.itemTemplate,{item:e,id:t.options.prefixItemId+s.id,columnModels:n,values:i,titles:r})},getItemElement:function(e){return $("#"+this.getController().options.prefixItemId+e.id,this.element)},insertItem:function(e,t,n){n=n||"last";var s=null,i=null,r="",a=this.getController();switch(n){case"before":case"after":if(!(i=this.getItemElement(t)).length)throw new mad.Exception("No HTMLElement found for the given item.");break;default:case"first":case"last":i=$("tbody",this.element)}return r=this._renderRow(e),s=mad.helper.Html.create(i,n,r),can.data(s,a.getItemClass().fullName,e),s},refreshItem:function(e){var t=this.getItemElement(e),n=this._renderRow(e),s=mad.helper.Html.create(t,"replace_with",n);can.data(s,this.getController().getItemClass().fullName,e)},moveItem:function(e,t){var n=this.getItemElement(e).detach(),s=$("tbody tr",this.element).eq(t);s.length?s.before(n):$("tbody",this.element).append(n)},markColumnAsSorted:function(e,t){var n="sorted ";n+=t?"sort-asc":"sort-desc",this.markAsUnsorted(),$(".js_grid_column_"+e.name,this.element).addClass(n)},markAsUnsorted:function(){$(".sortable.sorted",this.element).removeClass("sorted sort-asc sort-desc")},"thead th.sortable click":function(e,t){var n=null,s=this.getController(),i=!0;$(e).hasClass("sorted")&&(i=!!$(e).hasClass("sort-desc")),n=e.data(s.getColumnModelClass().fullName),this.element.trigger("column_sort",[n,i,t])},"tbody tr click":function(e,t){var n=null,s=this.getController(),i=s.getItemClass();n=i?e.data(i.fullName):e[0].id.replace(s.options.prefixItemId,""),this.element.trigger("item_selected",[n,t])},"tbody tr hover":function(e,t){var n=null,s=this.getController(),i=s.getItemClass();n=i?e.data(i.fullName):e[0].id.replace(s.options.prefixItemId,""),this.element.trigger("item_hovered",[n,t])}});e.default=t}),define("passbolt-mad/view/template/component/grid/grid.ejs!passbolt-mad/lib/can/viewEjsSystem",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("passbolt-mad_view_template_component_grid_grid_ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push('<div class="tableview-header">\n    <table>\n        <thead>\n            <tr>\n'),___v1ew.push(can.view.txt(0,"tr",0,this,function(){var e=[];for(var t in columnModel)e.push("\n    "),e.push(can.view.txt(0,"tr",0,this,function(){return can.view.render(columnHeaderTemplate,{columnModel:columnModel[t],control:control})})),e.push("\n");return e.join("")})),___v1ew.push('\n            </tr>\n        </thead>\n    </table>\n</div>\n<div class="tableview-content scroll">\n    <table>\n        <tbody>\n        </tbody>\n    </table>\n</div>\n'),___v1ew.join("")}}))}),define("passbolt-mad/view/template/component/grid/gridItem.ejs!passbolt-mad/lib/can/viewEjsSystem",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("passbolt-mad_view_template_component_grid_gridItem_ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push('<tr id="'),___v1ew.push(can.view.txt(!0,"tr","id",this,function(){return id})),___v1ew.push('"',can.view.pending({scope:this}),">"),___v1ew.push("\n"),___v1ew.push(can.view.txt(0,"tr",0,this,function(){var e=[];for(var t in columnModels)e.push('\n\t<td class="js_grid_column_'),e.push(can.view.txt(!0,"td","class",this,function(){return columnModels[t].name})),e.push(" cell_"),e.push(can.view.txt(!0,"td","class",this,function(){return columnModels[t].name})),e.push(" "),e.push(can.view.txt(!0,"td","class",this,function(){return columnModels[t].css.join(" ")})),e.push('"',can.view.pending({scope:this}),">"),e.push('\n\t\t<div title="'),e.push(can.view.txt(!0,"div","title",this,function(){return titles[columnModels[t].name]})),e.push('"',can.view.pending({scope:this}),">"),e.push("\n\t\t\t"),e.push(can.view.txt(0,"div",0,this,function(){return values[columnModels[t].name]})),e.push("\n\t\t</div>\n\t</td>\n");return e.join("")})),___v1ew.push("\n</tr>\n"),___v1ew.join("")}}))}),define("passbolt-mad/view/template/component/grid/gridColumnHeader.ejs!passbolt-mad/lib/can/viewEjsSystem",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("passbolt-mad_view_template_component_grid_gridColumnHeader_ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push('<th class="js_grid_column js_grid_column_'),___v1ew.push(can.view.txt(!0,"th","class",this,function(){return columnModel.name})),___v1ew.push(" cell_"),___v1ew.push(can.view.txt(!0,"th","class",this,function(){return columnModel.name})),___v1ew.push(" "),___v1ew.push(can.view.txt(!0,"th","class",this,function(){return columnModel.css.join(" ")})),___v1ew.push('"',can.view.pending({scope:this}),">"),___v1ew.push("\n"),___v1ew.push(can.view.txt(0,"th",0,this,function(){var e=[];return columnModel.sortable&&e.push("\n    <a>\n"),e.join("")})),___v1ew.push("\n    "),___v1ew.push(can.view.txt(0,"a",0,this,function(){return columnModel.label})),___v1ew.push("\n"),___v1ew.push(can.view.txt(0,"a",0,this,function(){var e=[];return columnModel.sortable&&e.push("\n    </a>\n"),e.join("")})),___v1ew.push("\n</th>\n"),___v1ew.join("")}}))}),define("passbolt-mad/component/grid",["exports","passbolt-mad/view/template/component/grid/grid.ejs!","passbolt-mad/view/template/component/grid/gridItem.ejs!","passbolt-mad/view/template/component/grid/gridColumnHeader.ejs!","passbolt-mad/component/component","passbolt-mad/model/grid_column","passbolt-mad/view/component/grid"],function(e,t,n,s){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0});var a=r(t),o=r(n),u=r(s),d=mad.component.Grid=mad.Component.extend("mad.component.Grid",{defaults:{label:"Grid Component",cssClasses:["tableview"],tag:"div",template:a.default,columnHeaderTemplate:u.default,itemTemplate:o.default,viewClass:mad.view.component.Grid,prefixItemId:"",itemClass:null,columnModelClass:mad.model.GridColumn,columnModel:[],map:null,callbacks:{item_selected:null,item_hovered:null},items:new can.Model.List,isFiltered:!1,isSorted:!1}},{init:function(e,t){this._super(e,t),this.options.items=new can.Model.List,this.mappedItems={},this.on()},afterStart:function(){var e=this.getColumnModel();for(var t in e){var n=$("th.js_grid_column_"+e[t].name,this.element);can.data(n,this.getColumnModelClass().fullName,e[t])}this._super()},beforeRender:function(){this._super(),this.setViewData("columnModel",this.options.columnModel),this.setViewData("columnHeaderTemplate",this.options.columnHeaderTemplate),this.setViewData("items",[])},getColumnModel:function(e){var t=null;if(void 0!=e){for(var n in this.options.columnModel)if(this.options.columnModel[n].name==e)return this.options.columnModel[n]}else t=this.options.columnModel;return t},getItemClass:function(){return this.options.itemClass},getColumnModelClass:function(){return this.options.columnModelClass},isFiltered:function(){return this.options.isFiltered},setItemClass:function(e){this.options.itemClass=e},getMap:function(e){return this.options.map},setMap:function(e){this.options.map=e},selectItem:function(e){this.view.selectItem(e)},rightSelectItem:function(e){this.view.rightSelectItem(e)},unselectItem:function(e){this.view.unselectAll()},hoverItem:function(e){this.view.hoverItem(e)},unselectAll:function(){this.view.unselectAll()},removeItem:function(e){this.view.removeItem(e),delete this.mappedItems[e.id]},insertItem:function(e,t,n){var s=this,r=this.getMap(),a=null,o=this.getColumnModel();if(null!=this.getItemClass()&&!(e instanceof this.getItemClass()))throw mad.Exception.get(mad.error.WRONG_PARAMETER,"item");if(null==r)throw mad.Exception.get(mad.error.MISSING_OPTION,"map");this.options.items.push(e),a=this.getMap().mapObject(e),this.mappedItems[e.id]=a,this.view.insertItem(e,t,n);for(var u in o){var d=o[u];if(d.cellAdapter){var l=s.options.prefixItemId+a.id,c=$("#"+l+" .js_grid_column_"+d.name+" div"),p=a[d.name];d.cellAdapter(c,p,a,e,d)}if(d.widget){var f=d.widget.clazz._fullName,m=d.widget.options,l=s.options.prefixItemId+a[i].id,c=$("#"+l+" .js_grid_column_"+d.name+" div");m.value=a[i][d.name],c[f](m),c[f]("render")}}},refreshItem:function(e){this.view.refreshItem(e);var t=this,n=null,s=this.getColumnModel();n=this.getMap().mapObject(e),this.mappedItems[e.id]=n;for(var r in s){var a=s[r];if(a.cellAdapter){var o=t.options.prefixItemId+n.id,u=$("#"+o+" .js_grid_column_"+a.name+" div"),d=n[a.name];a.cellAdapter(u,d,n,e,a)}if(a.widget){var l=a.widget.clazz._fullName,c=a.widget.options,o=t.options.prefixItemId+n[i].id,u=$("#"+o+" .js_grid_column_"+a.name+" div");c.value=n[i][a.name],u[l](c),u[l]("render")}}},reset:function(){this.options.items.splice(0,this.options.items.length)},load:function(e){var t=this;return this.reset(),this.options.isFiltered=!1,this.options.isSorted=!1,this.view.markAsUnsorted(),can.each(e,function(e,n){t.insertItem(e)}),this},itemExists:function(e){return this.view.getItemElement(e).length>0},resetFilter:function(){var e=this;this.options.isFiltered=!1,can.each(this.options.items,function(t,n){e.view.showItem(t)})},filterByKeywords:function(e,t){t=t||{};var n=this,s=[],i=e.split(/\s+/),r=new can.List;s=void 0!==t.searchInFields?t.searchInFields:this.options.map.getModelTargetFieldsNames(),can.each(this.options.items,function(e,t){for(var n in i){for(var a=!1,o=null,t=0;!a&&(o=s[t]);)a=-1!=can.getObject(o,e).toLowerCase().indexOf(i[n].toLowerCase()),t++;if(!a)return}r.push(e)}),n.filter(r)},filter:function(e){var t=this;this.options.isFiltered=!0,can.each(this.options.items,function(n,s){-1!=e.indexOf(n)?t.view.showItem(n):t.view.hideItem(n)})},sort:function(e,t){this.options.isSorted=!0;var n=e.name,s=$.map(this.mappedItems,function(e,t){return e.id=t,[e]});s.sort(function(e,s){var i=e[n]?e[n].toUpperCase():"",r=s[n]?s[n].toUpperCase():"";return i<r?t?-1:1:i>r?t?1:-1:0});for(var i in s)this.moveItem(s[i],i);this.view.markColumnAsSorted(e,t)},moveItem:function(e,t){this.view.moveItem(e,t)},"{items} remove":function(e,t,n){var s=this;can.each(n,function(e,t){s.removeItem(e)})},"tbody mouseleave":function(e,t){}," column_sort":function(e,t,n,s,i){this.sort(n,s)}," item_selected":function(e,t,n,s){this.options.callbacks.itemSelected&&this.options.callbacks.itemSelected(e,t,n,s)}," item_hovered":function(e,t,n,s){this.options.callbacks.itemHovered&&this.options.callbacks.itemHovered(e,t,n,s)}});e.default=d}),define("passbolt-mad/view/component/dropdown_menu",["passbolt-mad/view/component/tree"],function(){"use strict";mad.view.component.DropdownMenu=mad.view.component.Tree.extend("mad.view.component.DropdownMenu",{},{init:function(e,t){this._super(e,t)},open:function(e){var t=$("#"+e.id,this.element);t.removeClass("closed").addClass("opened"),$(".control:first",t).removeClass("open").addClass("close")},close:function(e){var t=$("#"+e.id,this.element);t.removeClass("opened").addClass("closed"),$(".control:first",t).removeClass("close").addClass("open")},"li mouseover":function(e,t){t.stopPropagation(),t.preventDefault();var n=null;n=this.getController().getItemClass()?e.data(this.getController().getItemClass().fullName):e[0].id,this.element.trigger("item_opened",n)},"li mouseleave":function(e,t){t.stopPropagation(),t.preventDefault();var n=null;n=this.getController().getItemClass()?e.data(this.getController().getItemClass().fullName):e[0].id,this.element.trigger("item_closed",n)}})}),define("passbolt-mad/view/template/component/dropdown_menu/dropdown_menu.ejs!passbolt-mad/lib/can/viewEjsSystem",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("passbolt-mad_view_template_component_dropdown_menu_dropdown_menu_ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push('<li id="'),___v1ew.push(can.view.txt(!0,"li","id",this,function(){return mappedItem.id})),___v1ew.push('" '),___v1ew.push(can.view.txt(1,"li",1,this,function(){return can.proxy(function(e){can.$(e).data(itemClass.fullName,item)},this)})),___v1ew.push(' class="'),___v1ew.push(can.view.txt(!0,"li","class",this,function(){return cssClasses.join(" ")})),___v1ew.push('"',can.view.pending({scope:this}),">"),___v1ew.push('\n\t<div class="row">\n\t\t<div class="main-cell-wrapper">\n\t\t\t<div class="main-cell">\n\t\t\t\t<a><span>'),___v1ew.push(can.view.txt(1,"span",0,this,function(){return mappedItem.label})),___v1ew.push("</span></a>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n"),___v1ew.push(can.view.txt(0,"li",0,this,function(){var e=[];return hasChildren&&e.push("\n\t<ul>\n\t</ul>\n"),e.join("")})),___v1ew.push("\n</li>\n"),___v1ew.join("")}}))}),define("passbolt-mad/component/dropdown_menu",["exports","passbolt-mad/view/template/component/dropdown_menu/dropdown_menu.ejs!","passbolt-mad/component/menu","passbolt-mad/view/component/dropdown_menu"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(t),s=mad.component.DropdownMenu=mad.component.Menu.extend("mad.component.DropdownMenu",{defaults:{label:"Drop Down Menu Component",viewClass:mad.view.component.DropdownMenu,itemTemplate:n.default,cssClasses:["dropdownmenu"],callbacks:{item_selected:null,item_right_selected:null,item_hovered:null}}},{open:function(e){this.view.open(e)},close:function(e){this.view.close(e)}," item_opened":function(e,t,n){this.open(n)}," item_closed":function(e,t,n){this.close(n)}});e.default=s}),define("passbolt-mad/view/component/contextual_menu",["exports","passbolt-mad/view/component/dropdown_menu"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=mad.view.component.ContextualMenu=mad.view.component.DropdownMenu.extend("mad.view.component.ContextualMenu",{},{"{document} click":function(e,t){this.element.is(e)||$(this.getController().options.source).is(t.target)||this.element.remove()}," contextmenu":function(e,t){t.preventDefault()}});e.default=t}),define("passbolt-mad/component/contextual_menu",["exports","passbolt-mad/component/dropdown_menu","passbolt-mad/view/component/contextual_menu"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=mad.component.ContextualMenu=mad.component.DropdownMenu.extend("mad.component.ContextualMenu",{defaults:{viewClass:mad.view.component.ContextualMenu,cssClasses:["contextual-menu"],source:null,coordinates:{x:null,y:null}},remove:function(){$("#js_contextual_menu",$(mad.config.rootElement)).remove()}},{init:function(e,t){if(null==e||!e.length){0!=$("#js_contextual_menu").length&&$("#js_contextual_menu").remove();var n=mad.helper.Html.create(mad.config.rootElement,"first",'<ul id="js_contextual_menu" />');this.setup(n)}this._super(n,t)},afterStart:function(){this._super(),this.view.position({coordinates:this.options.coordinates})},destroy:function(){this._super(),mad.component.ContextualMenu.remove()}});e.default=t}),define("passbolt-mad/form/choice_element",["exports","passbolt-mad/form/element","passbolt-mad/view/form/element"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=mad.form.ChoiceElement=mad.form.Element.extend("mad.form.ChoiceElement",{defaults:{availableValues:{},valueClasses:{}}},{beforeRender:function(){this._super(),this.setViewData("availableValues",this.options.availableValues),this.setViewData("valueClasses",this.options.valueClasses)}});e.default=t}),define("passbolt-mad/view/form/element/checkbox",["exports","passbolt-mad/view/form/element"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=mad.view.form.Checkbox=mad.view.form.Element.extend("mad.view.form.Checkbox",{},{getValue:function(){var e=[];return this.element.find("input:checked").each(function(){e.push($(this).val())}),e},setValue:function(e){e=void 0!==e&&null!=e?e:[],this.element.find("input").each(function(){-1!=e.indexOf($(this).val())?($(this).attr("checked",!0),$(this)[0].checked=!0):($(this)[0].checked=!1,$(this).removeAttr("checked"))})},"input click":function(e,t){t.stopPropagation(),e.is(":checked")?this.element.trigger("checked",e.val()):this.element.trigger("unchecked",e.val())},"input change":function(e,t){t.stopPropagation(),this.element.trigger("changed",{value:this.getValue()})}});e.default=t}),define("passbolt-mad/view/template/form/checkbox.ejs!passbolt-mad/lib/can/viewEjsSystem",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("passbolt-mad_view_template_form_checkbox_ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push(can.view.txt(0,"span",0,this,function(){var e=[];for(var t in availableValues){var n=uuid();e.push('\n<div class="input checkbox'),e.push(can.view.txt(!0,"div","class",this,function(){return void 0!==valueClasses[t]?" "+valueClasses[t]:""})),e.push('"',can.view.pending({scope:this}),">"),e.push('\n\t<input type="checkbox" value="'),e.push(can.view.txt(!0,"input","value",this,function(){return t})),e.push('" id="checkbox'),e.push(can.view.txt(!0,"input","id",this,function(){return n})),e.push('"',can.view.pending({scope:this}),"/>"),e.push('\n\t<label for="checkbox'),e.push(can.view.txt(!0,"label","for",this,function(){return n})),e.push('"',can.view.pending({scope:this}),">"),e.push(can.view.txt(0,"label",0,this,function(){return availableValues[t]})),e.push("</label>\n</div>\n")}return e.join("")})),___v1ew.push("\n"),___v1ew.join("")}}))}),define("passbolt-mad/form/element/checkbox",["exports","../../view/template/form/checkbox.ejs!","passbolt-mad/form/choice_element","../../view/form/element/checkbox"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(t),s=mad.form.Checkbox=mad.form.ChoiceElement.extend("mad.form.Checkbox",{defaults:{label:"Checkbox Form Element",tag:"div",template:n.default,viewClass:mad.view.form.Checkbox}},{});e.default=s}),define("app/model/favorite",["exports","passbolt-mad/model/model","app/model/secret","passbolt-mad/model/serializer/cake_serializer"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=passbolt.model.Favorite=mad.Model.extend("passbolt.model.Favorite",{validateRules:{user_id:[],foreign_model:[],foreign_id:[]},attributes:{id:"string",user_id:"string",foreign_model:"string",foreign_id:"string"},create:function(e,t,n){var s=mad.model.serializer.CakeSerializer.to(e,this);return mad.net.Ajax.request({url:APP_URL+"favorites/"+e.foreign_model.toLowerCase()+"/"+e.foreign_id,type:"POST",params:s,success:t,error:n}).pipe(function(e,t,n){var s=$.Deferred();return s.resolveWith(this,[mad.model.serializer.CakeSerializer.from(e,self)]),s})},destroy:function(e,t,n){var s={id:e};return mad.net.Ajax.request({url:APP_URL+"favorites/"+e,type:"DELETE",params:s,success:t,error:n})}},{});e.default=t}),define("app/view/template/component/favorite.ejs!passbolt-mad/lib/can/viewEjsSystem",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("app_view_template_component_favorite_ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push('<a class="no-text">\n\t<i class="icon '),___v1ew.push(can.view.txt(!0,"i","class",this,function(){return instance.isFavorite()?"unfav":"fav"})),___v1ew.push('"',can.view.pending({scope:this}),">"),___v1ew.push('</i>\n\t<span class="visuallyhidden">fav</span>\n</a>\n'),___v1ew.join("")}}))}),define("app/view/component/favorite",["passbolt-mad/view/view","app/view/template/component/favorite.ejs!"],function(){"use strict";passbolt.view.component.Favorite=mad.View.extend("passbolt.view.component.Favorite",{},{favorite:function(e,t){$("i",this.element).removeClass("fav").addClass("unfav")},unfavorite:function(e,t){$("i",this.element).removeClass("unfav").addClass("fav")}})}),define("app/component/favorite",["exports","app/view/template/component/favorite.ejs!","passbolt-mad/component/button","app/view/component/favorite"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(t),s=passbolt.component.Favorite=mad.Component.extend("passbolt.component.Favorite",{defaults:{label:"Favorite",viewClass:passbolt.view.component.Favorite,instance:null,template:n.default}},{init:function(e,t){this._super(e,t),this.setViewData("instance",this.options.instance)},click:function(e,t){var n=this;t.preventDefault(),t.stopPropagation(),this.state.is("loading")||(this.setState("loading"),this.options.instance.isFavorite()?(this.view.unfavorite(),mad.bus.triggerRequest("request_unfavorite",this.options.instance).then(function(){}).fail(function(e,t,s,i){n.setState("ready")})):(this.view.favorite(),mad.bus.triggerRequest("request_favorite",this.options.instance).then(function(){}).fail(function(){n.setState("ready")})))}});e.default=s}),define("app/view/template/component/resource/dragged_resource.ejs!passbolt-mad/lib/can/viewEjsSystem",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("app_view_template_component_resource_dragged_resource_ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push('<div class="dragged_resource" id="js_dragged_resource">\n\tMove \'<span class="name">'),___v1ew.push(can.view.txt(1,"span",0,this,function(){return name})),___v1ew.push("</span>'\n</div>"),___v1ew.join("")}}))}),define("app/view/component/password_browser",["exports","passbolt-mad/view/component/grid","app/view/template/component/resource/dragged_resource.ejs!"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=passbolt.view.component.PasswordBrowser=mad.view.component.Grid.extend("passbolt.view.component.PasswordBrowser",{},{insertItem:function(e,t,n){var s=this._super(e,t,n);$(".js_grid_column_name",s)},"tbody tr td.password a click":function(e,t){t.stopPropagation(),t.preventDefault();var n=null,s=$(e).parents("tr");n=this.getController().getItemClass()?s.data(this.getController().getItemClass().fullName):s[0].id,this.element.trigger("password_clicked",[n,t])},"tbody tr contextmenu":function(e,t){return t.stopPropagation(),t.preventDefault(),!1},"tbody tr mousedown":function(e,t){var n=this;if(t.stopPropagation(),t.preventDefault(),3==t.which){var s=null,i=e;s=this.getController().getItemClass()?i.data(this.getController().getItemClass().fullName):i[0].id,setTimeout(function(){n.element.trigger("item_right_selected",[s,t])},0)}return!1}});e.default=t}),define("app/view/template/component/password_workspace_all_items_empty.ejs!passbolt-mad/lib/can/viewEjsSystem",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("app_view_template_component_password_workspace_all_items_empty_ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push('<div class="empty-content">\n\t<h1>'),___v1ew.push(can.view.txt(1,"h1",0,this,function(){return __("Welcome to passbolt!")})),___v1ew.push("</h1>\n\t<p>"),___v1ew.push(can.view.txt(1,"p",0,this,function(){return __("It does feel a bit empty here. Create your first password or")})),___v1ew.push("<br>\n\t\t"),___v1ew.push(can.view.txt(1,"br",0,this,function(){return __("wait for a team member to share one with you.")})),___v1ew.push("</p>\n</div>"),___v1ew.join("")}}))}),define("app/component/password_browser",["exports","moment","urijs/URI","urijs/punycode","urijs/SecondLevelDomains","urijs/IPv6","passbolt-mad/component/grid","passbolt-mad/component/contextual_menu","passbolt-mad/form/element/checkbox","app/model/resource","app/model/favorite","app/component/favorite","app/view/component/password_browser","app/view/template/component/password_workspace_all_items_empty.ejs!"],function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0}),s(t);var i=s(n),r=passbolt.component.PasswordBrowser=mad.component.Grid.extend("passbolt.component.PasswordBrowser",{defaults:{itemClass:passbolt.model.Resource,viewClass:passbolt.view.component.PasswordBrowser,selectedRs:new can.Model.List,prefixItemId:"resource_",silentLoading:!1,state:"loading"}},{filterSettings:null,oldFilterSettings:null,init:function(e,t){t.map=new mad.Map({id:"id",name:"name",username:"username",secret:"Secret",uri:"uri",modified:"modified",owner:"Creator.username"}),t.columnModel=[new mad.model.GridColumn({name:"multipleSelect",index:"multipleSelect",css:["selections s-cell"],label:'<div class="input checkbox"> \t\t\t\t\t\t<input type="checkbox" name="select all" value="checkbox-select-all" id="checkbox-select-all" disabled="disabled"> \t\t\t\t\t\t<label for="checkbox-select-all">select all</label> \t\t\t\t\t</div>',cellAdapter:function(e,t,n,s,i){var r={};r[s.id]="",mad.helper.Component.create(e,"inside_replace",mad.form.Checkbox,{id:"multiple_select_checkbox_"+s.id,name:"test",cssClasses:["js_checkbox_multiple_select"],availableValues:r}).start()}}),new mad.model.GridColumn({name:"favorite",index:"favorite",css:["selections s-cell"],label:'<a> \t\t\t\t\t\t<i class="icon fav"></i> \t\t\t\t\t\t<span class="visuallyhidden">fav</span> \t\t\t\t\t</a>',cellAdapter:function(e,t,n,s,i){({})[s.id]="",mad.helper.Component.create(e,"inside_replace",passbolt.component.Favorite,{id:"favorite_"+s.id,name:"test2",instance:s}).start()}}),new mad.model.GridColumn({name:"name",index:"name",css:["m-cell"],label:__("Resource"),sortable:!0}),new mad.model.GridColumn({name:"username",index:"username",css:["m-cell"],label:__("Username"),sortable:!0}),new mad.model.GridColumn({name:"secret",index:"secret",css:["m-cell","password"],label:__("Password"),cellAdapter:function(e,t,n,s,i){var r="";void 0!==t[0]&&(r=t[0].data),mad.helper.Html.create(e,"inside_replace",'<div class="secret-copy"><a id="grid_secret_copy_'+s.id+'"><span>copy password to clipboard</span></a><pre>'+r+"</pre></div>")}}),new mad.model.GridColumn({name:"uri",index:"uri",css:["l-cell"],label:__("URI"),sortable:!0,cellAdapter:function(e,t,n,s,r){var a=(0,i.default)(t);!a.is("absolute")&&a.is("url")&&a.protocol("http"),"javascript"===a.protocol().trim().toLowerCase()&&a.protocol("http"),mad.helper.Html.create(e,"inside_replace",'<a href="'+a.toString()+'" target="_blank" rel="noopener">'+t+"</a>")}}),new mad.model.GridColumn({name:"modified",index:"modified",css:["m-cell"],sortable:!0,label:__("Modified"),valueAdapter:function(e,t,n,s){return passbolt.Common.datetimeGetTimeAgo(e)}}),new mad.model.GridColumn({name:"owner",index:"owner",css:["m-cell"],label:__("Owner"),sortable:!0})],this._super(e,t)},showContextualMenu:function(e,t,n,s){var i=$("#"+this.options.prefixItemId+e.id).offset(),r=new mad.component.ContextualMenu(null,{state:"hidden",source:s,coordinates:{x:t,y:i.top}});r.start();var a=e.Permission.isAllowedTo(passbolt.READ),o=e.Permission.isAllowedTo(passbolt.UPDATE),u=e.Permission.isAllowedTo(passbolt.ADMIN),d=new mad.model.Action({id:"js_password_browser_menu_copy_username",label:"Copy username",initial_state:a?"ready":"disabled",action:function(t){var n={name:"username",data:e.username};mad.bus.trigger("passbolt.clipboard",n),t.remove()}});r.insertItem(d),d=new mad.model.Action({id:"js_password_browser_menu_copy_password",label:"Copy password",initial_state:a?"ready":"disabled",action:function(t){var n=e.Secret[0].data;mad.bus.trigger("passbolt.secret.decrypt",n),t.remove()}}),r.insertItem(d),d=new mad.model.Action({id:"js_password_browser_menu_copy_uri",label:"Copy URI",initial_state:a?"ready":"disabled",action:function(t){var n={name:"URL",data:e.uri};mad.bus.trigger("passbolt.clipboard",n),t.remove()}}),r.insertItem(d),d=new mad.model.Action({id:"js_password_browser_menu_open_uri",label:"Open URI in a new tab",initial_state:a?"ready":"disabled",cssClasses:["separator-after"],action:function(t){var n=e.uri;window.open(n,"_blank").focus(),t.remove()}}),r.insertItem(d),d=new mad.model.Action({id:"js_password_browser_menu_edit",label:"Edit",initial_state:o?"ready":"disabled",action:function(t){mad.bus.trigger("request_resource_edition",e),t.remove()}}),r.insertItem(d),d=new mad.model.Action({id:"js_password_browser_menu_share",label:"Share",initial_state:u?"ready":"disabled",action:function(t){mad.bus.trigger("request_resource_sharing",e),t.remove()}}),r.insertItem(d),d=new mad.model.Action({id:"js_password_browser_menu_delete",label:"Delete",initial_state:o?"ready":"disabled",action:function(t){mad.bus.trigger("request_resource_deletion",e),t.remove()}}),r.insertItem(d),r.setState("ready")},refreshItem:function(e){if(this.itemExists(e)&&(this._super(e),this.isSelected(e))){var t="multiple_select_checkbox_"+e.id;mad.getControl(t,"mad.form.Checkbox").setValue([e.id]),this.view.selectItem(e)}},beforeSelect:function(e){var t=!0;if(this.state.is("selection"))if(this.isSelected(e))this.unselect(e),this.setState("ready"),t=!1;else for(var n=this.options.selectedRs.length-1;n>-1;n--)this.unselect(this.options.selectedRs[n]);return t},beforeUnselect:function(e){return!0},isSelected:function(e){return this.options.selectedRs.length>0&&this.options.selectedRs[0].id==e.id},select:function(e){if(this.itemExists(e)&&!this.isSelected(e)){!this.state.is("multipleSelection")&&this.options.selectedRs.length>0&&this.unselect(this.options.selectedRs[0]),this.options.selectedRs.push(e);var t="multiple_select_checkbox_"+e.id;mad.getControl(t,"mad.form.Checkbox").setValue([e.id]),this.view.selectItem(e),mad.bus.trigger("resource_selected",e)}},unselect:function(e,t){if(t=t||!1,this.itemExists(e)){var n="multiple_select_checkbox_"+e.id;mad.getControl(n,"mad.form.Checkbox").reset(),this.view.unselectItem(e),mad.model.List.remove(this.options.selectedRs,e),t||mad.bus.trigger("resource_unselected",e)}},filterBySettings:function(e){var t=this,n=null;if(!this.filterSettings||this.filterSettings.id!==e.id){this.setState("loading"),this.reset();var s={silentLoading:!1,contain:{creator:1,favorite:1,modifier:1,secret:1,permission:1},filter:e.getRules(["keywords"]),order:e.getOrders()};n=passbolt.model.Resource.findAll(s).then(function(e,n,s){null!=t.element&&(t.filtered=!1,t.load(e))})}return $.when(n).done(function(){t.filterSettings=e;var n=e.getOrders();if(n&&n[0]){var s=/((\w*)\.)?(\w*)\s*(asc|desc|ASC|DESC)?/i.exec(n[0]),i=(s[2],s[3]),r=s[4]?s[4].toLowerCase():"asc";if(i){var a=t.getColumnModel(i);a&&t.view.markColumnAsSorted(a,"asc"===r)}}var o=e.getRule("keywords");o&&""!=o?t.filterByKeywords(o,{searchInFields:["username","name","uri","description"]}):t.isFiltered()&&t.resetFilter();var u=["ready"];t.options.items.length||(u.push("empty"),"default"==t.filterSettings.id&&u.push("all_items")),t.setState(u)}),n},"{passbolt.model.Resource} created":function(e,t,n){this.state.is("empty")&&this.setState("ready"),this.insertItem(n,null,"first")},"{passbolt.model.Resource} updated":function(e,t,n){-1!=this.options.items.indexOf(n)&&this.refreshItem(n)}," item_selected":function(e,t,n,s){this.setState("selection"),this.beforeSelect(n)&&this.select(n)}," item_right_selected":function(e,t,n,s){this.select(n),this.showContextualMenu(n,s.pageX,s.pageY,s.target)}," password_clicked":function(e,t,n,s){var i=n.Secret[0].data;mad.bus.trigger("passbolt.secret.decrypt",i)},".js_checkbox_multiple_select checked":function(e,t,n){this.state.is("ready")&&this.setState("selection");var s=mad.model.List.indexOf(this.options.items,n),i=this.options.items[s];this.beforeSelect(i)&&this.select(i)},".js_checkbox_multiple_select unchecked":function(e,t,n){var s=mad.model.List.indexOf(this.options.items,n),i=this.options.items[s];this.beforeUnselect()&&this.unselect(i),this.options.selectedRs.length?1==this.options.selectedRs.length&&this.setState("selection"):this.setState("ready")},"{mad.bus.element} filter_workspace":function(e,t,n){this.filterBySettings(n)},"{selectedRs} remove":function(e,t,n){for(var s in n)this.unselect(n[s])},stateReady:function(e){},stateSelection:function(e){},stateMultipleSelection:function(e){},stateEmpty:function(e){if(e){if("default"==this.filterSettings.id){var t=mad.View.render("app/view/template/component/password_workspace_all_items_empty.ejs");$(".tableview-content",this.element).prepend(t)}}else $(".empty-content",this.element).remove()}});e.default=r}),define("passbolt-mad/form/element/autocomplete",["exports","passbolt-mad/form/choice_element","passbolt-mad/view/form/element/textbox"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=mad.form.Autocomplete=mad.form.Textbox.extend("mad.form.Autocomplete",{defaults:{label:"Autocomplete Form Element Controller",tag:"input"}},{afterStart:function(){var e={itemClass:mad.Model,cssClasses:["autocomplete-content"],state:"hidden",map:new mad.Map({id:"id",label:"label",model:"model"})};this.options.list=mad.helper.Component.create(this.element,"after",mad.component.Tree,e),this.options.list.start(),this.on()}," changed":function(e,t,n){var s=this;this.options.callbacks.ajax&&this.options.callbacks.ajax.apply(this,[n.value]).done(function(e){s.options.list.reset(),s.options.list.load(e),s.options.list.setState("ready")})},"{list.element} item_selected":function(e,t,n){this.setValue(n.label),this.options.list.setState("hidden"),this.element.trigger("item_selected",[n,t])}});e.default=t}),define("passbolt-mad/view/form/element/dropdown",["exports","passbolt-mad/view/form/element"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=mad.view.form.Dropdown=mad.view.form.Element.extend("mad.view.form.Dropdown",{},{getValue:function(e){return this.element.val()},setValue:function(e){this.element.val(e)},change:function(e,t){e.trigger("changed",{value:this.getValue()})}});e.default=t}),define("passbolt-mad/view/template/form/dropdown.ejs!passbolt-mad/lib/can/viewEjsSystem",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("passbolt-mad_view_template_form_dropdown_ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push(can.view.txt(0,"span",0,this,function(){var e=[];return controller.options.emptyValue&&(e.push('\n<option value=""',can.view.pending({scope:this}),">"),e.push(can.view.txt(0,"option",0,this,function(){return __("select a value")})),e.push("</option>\n")),e.join("")})),___v1ew.push("\n"),___v1ew.push(can.view.txt(0,"span",0,this,function(){var e=[];for(var t in availableValues)e.push('\n<option value="'),e.push(can.view.txt(!0,"option","value",this,function(){return t})),e.push('"',can.view.pending({scope:this}),">"),e.push(can.view.txt(0,"option",0,this,function(){return availableValues[t]})),e.push("</option>\n");return e.join("")})),___v1ew.push("\n"),___v1ew.join("")}}))}),define("passbolt-mad/form/element/dropdown",["exports","passbolt-mad/view/template/form/dropdown.ejs!","passbolt-mad/form/choice_element","passbolt-mad/view/form/element/dropdown"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(t),s=mad.form.Dropdown=mad.form.ChoiceElement.extend("mad.form.Dropdown",{defaults:{label:"DropDown Form Element",tag:"div",template:n.default,viewClass:mad.view.form.Dropdown,emptyValue:!0}},{});e.default=s}),define("app/view/template/component/permissions.ejs!passbolt-mad/lib/can/viewEjsSystem",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("app_view_template_component_permissions_ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push('<div class="form-content permission-edit">\n    <ul id="js_permissions_list" class="permissions scroll">\n    </ul>\n</div>\n<div id="js_permissions_changes" class="warning message hidden">\n    <span>You need to save to apply the changes.</span>\n</div>\n'),___v1ew.push(can.view.txt(0,"span",0,this,function(){var e=[];return canAdmin&&e.push('\n<div id="js_permissions_create_wrapper" class="permission-add js_plugin_share_wrapper">\n    <input id="js_perm_create_form_aro" type="hidden" value="" />\n    <div id="passbolt-password-share-autocomplete-wrapper">\n    </div>\n</div>\n'),e.join("")})),___v1ew.push('\n<div class="submit-wrapper clearfix">\n    <input id="js_rs_share_save" type="submit" class="button primary" value="'),___v1ew.push(can.view.txt(!0,"input","value",this,function(){return __("save")})),___v1ew.push('" ',can.view.pending({scope:this}),"/>"),___v1ew.push('\n    <a class="js-dialog-cancel cancel">cancel</a>\n</div>\n'),___v1ew.join("")}}))}),define("app/view/component/permissions",["passbolt-mad/view/view","app/view/template/component/permissions.ejs!"],function(){"use strict";passbolt.view.component.Permissions=mad.View.extend("passbolt.view.component.Permissions",{},{" .js_perm_delete click":function(e,t){t.stopPropagation(),t.preventDefault();var n=e.parents("li").data("passbolt.model.Permission");this.element.trigger("request_permission_delete",[n])}," .js_share_rs_perm_type changed":function(e,t,n){t.stopPropagation(),t.preventDefault();var s=e.parents("li").data("passbolt.model.Permission");this.element.trigger("request_permission_edit",[s,n.value])}," #js_perm_create_form_add_btn click":function(e,t){t.stopPropagation(),t.preventDefault(),e.trigger("submit")}})}),define("app/model/group",["exports","passbolt-mad/model/model","passbolt-mad/model/serializer/cake_serializer"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=passbolt.model.Group=mad.Model.extend("passbolt.model.Group",{checkServerRules:!0,attributes:{id:"string",name:"string",created:"string",modified:"string",Modifier:"passbolt.model.User.model",GroupUser:"passbolt.model.GroupUser.models"},findAll:function(e,t,n){return mad.net.Ajax.request({url:APP_URL+"groups.json",type:"GET",params:e,success:t,error:n})},findOne:function(e,t,n){return mad.net.Ajax.request({url:APP_URL+"groups/{id}.json",type:"GET",params:e,success:t,error:n})},destroy:function(e,t,n){var s={id:e};return mad.net.Ajax.request({url:APP_URL+"groups/{id}.json",type:"DELETE",params:s,success:t,error:n})}},{isGroupManager:function(e){var t=!1;return void 0!=this.GroupUser&&this.GroupUser.forEach(function(n){n.user_id==e.id&&1==n.is_admin&&(t=!0)}),t},isAllowedToEdit:function(e){var t=this.isGroupManager(e),n="admin"==e.Role.name;return t||n},deleteDryRun:function(e,t,n,s){var i={id:e};return mad.net.Ajax.request({url:APP_URL+"groups/{id}/dry-run.json",type:"DELETE",params:i,success:n,error:s,silentNotify:!0})}});e.default=t}),define("app/view/template/component/permission/permission_list_item.ejs!passbolt-mad/lib/can/viewEjsSystem",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("app_view_template_component_permission_permission_list_item_ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];mappedItem.isDirect?cssClasses.push("direct-permission"):cssClasses.push("inherited-permission");var availablePermissionTypes={};for(var permType in passbolt.model.PermissionType.PERMISSION_TYPES)availablePermissionTypes[permType]=passbolt.model.PermissionType.formatToString(permType);return ___v1ew.push('\n<li id="'),___v1ew.push(can.view.txt(!0,"li","id",this,function(){return mappedItem.id})),___v1ew.push('" '),___v1ew.push(can.view.txt(1,"li",1,this,function(){return can.proxy(function(e){can.$(e).data(itemClass.fullName,item)},this)})),___v1ew.push(' class="row '),___v1ew.push(can.view.txt(!0,"li","class",this,function(){return cssClasses.join(" ")})),___v1ew.push('"',can.view.pending({scope:this}),">"),___v1ew.push('\n    <div class="avatar">\n        <img '),___v1ew.push(can.view.txt(2,"img","src",this,function(){var e=[];return e.push('src="'),e.push(mappedItem.aroAvatarPath),e.push('"'),e.join("")})),___v1ew.push("",can.view.pending({scope:this}),"/>"),___v1ew.push('\n    </div>\n    <div class="group">\n        <span class="name">'),___v1ew.push(can.view.txt(1,"span",0,this,function(){return mappedItem.acoLabel})),___v1ew.push('</span>\n        <span class="details"><a>'),___v1ew.push(can.view.txt(1,"a",0,this,function(){return mappedItem.acoDetails})),___v1ew.push('</a></span>\n    </div>\n    <div class="select rights">\n        <form id="js_share_rs_perm_'),___v1ew.push(can.view.txt(!0,"form","id",this,function(){return mappedItem.id})),___v1ew.push('" class="js_perm_edit_form"',can.view.pending({scope:this}),">"),___v1ew.push('\n            <select class="js_share_rs_perm_type permission">\n            </select>\n        </form>\n    </div>\n    <div class="actions">\n        '),___v1ew.push(can.view.txt(0,"div",0,this,function(){var e=[];return mappedItem.isDirect&&(e.push('\n        <a class="js_perm_delete close" title="'),e.push(can.view.txt(!0,"a","title",this,function(){return __("remove")})),e.push('"',can.view.pending({scope:this}),">"),e.push('\n            <i class="fa fa-times-circle"></i>\n            <span class="visuallyhidden">'),e.push(can.view.txt(1,"span",0,this,function(){return __("remove")})),e.push("</span>\n        </a>\n        ")),e.join("")})),___v1ew.push("\n    </div>\n</li>\n"),___v1ew.join("")}}))}),define("app/component/permissions",["exports","app/view/template/component/permissions.ejs!","app/view/template/component/permission/permission_list_item.ejs!","passbolt-mad/component/component","passbolt-mad/form/form","passbolt-mad/form/feedback","passbolt-mad/form/element/autocomplete","passbolt-mad/form/element/dropdown","passbolt-mad/form/element/checkbox","passbolt-mad/form/element/textbox","app/view/component/permissions","app/model/group","app/model/user","app/model/permission","app/model/permission_type"],function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0});var i=s(t),r=s(n),a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=passbolt.component.Permissions=mad.Component.extend("passbolt.component.Permissions",{defaults:{label:"Permissions Controller",viewClass:passbolt.view.component.Permissions,acoInstance:null,changes:[],template:i.default,silentLoading:!1,state:"loading"}},{init:function(e,t){this._super(e,t),this.setViewData("canAdmin",this._isAdmin())},_isAdmin:function(){return this.options.acoInstance.Permission.isAllowedTo(passbolt.ADMIN)},afterStart:function(){var e=this;this.permList=new mad.component.Tree($("#js_permissions_list"),{cssClasses:["permissions"],viewClass:mad.view.component.Tree,itemClass:passbolt.model.Permission,itemTemplate:r.default,map:new mad.Map({id:"id",isDirect:{key:"aro_foreign_key",func:function(t,n,s){return s.isDirect(e.options.acoInstance)}},aroLabel:{key:"aro",func:function(e,t,n){return e.toLowerCase()}},aroAvatarPath:{key:"id",func:function(e,t,n){return"User"==n.aro?n.User.Profile.avatarPath("small"):"img/avatar/group_default.png"}},permType:"PermissionType.serial",permLabel:{key:"type",func:function(e,t,n){return passbolt.model.PermissionType.formatToString(e)}},acoLabel:{key:"aco_foreign_key",func:function(e,t,n){return"User"==n.aro?n.User.Profile.first_name+" "+n.User.Profile.last_name:"Group"==n.aro?n.Group.name:void 0}},acoDetails:{key:"aco_foreign_key",func:function(e,t,n){return"User"==n.aro?n.User.username:"Group"==n.aro?__("group"):void 0}}})}),this.permList.start(),this._isAdmin()&&(this.permAroHiddenTxtbx=new mad.form.Textbox($("#js_perm_create_form_aro",this.element),{}).start(),this.permAroHiddenTxtbx.setValue(this.options.acoInstance.id),mad.bus.trigger("passbolt.plugin.resource_share",{resourceId:this.options.acoInstance.id,armored:this.options.acoInstance.Secret[0].data})),this.load(this.options.acoInstance),this.options.saveChangesButton=new mad.component.Button($("#js_rs_share_save"),{state:"disabled"}).start(),this.on()},loadPermission:function(e){var t="#js_share_rs_perm_"+e.id,n="#"+e.id,s={},i=[1,7,15];for(var r in i)s[i[r]]=passbolt.model.PermissionType.formatToString(i[r]);this.permList.insertItem(e),new mad.form.Dropdown($(".js_share_rs_perm_type",t),{id:"js_share_perm_type_"+e.id,emptyValue:!1,modelReference:"passbolt.model.Permission.type",availableValues:s,state:this._isAdmin()?"ready":"disabled"}).start().setValue(e.type),new mad.component.Button($(".js_perm_delete",n),{id:"js_share_perm_delete_"+e.id,state:this._isAdmin()?"ready":"disabled"}).start(),e.is_new&&($(n).addClass("permission-updated"),this.permList.element.scrollTop(this.permList.element[0].scrollHeight))},load:function(e){var t=this;return this.options.acoInstance=e,this.options.changes={},this.setState("loading"),passbolt.model.Permission.findAll({aco:this.options.acoInstance.constructor.shortName,aco_foreign_key:this.options.acoInstance.id,contain:{group:1,user:1,"user.profile":1}},function(e,n,s){for(var i=0;i<e.length;i++)t.loadPermission(e[i]);t._isAdmin()&&t.checkOwner(),t.setState("ready")})},refresh:function(){var e=this;$("#js_permissions_changes").addClass("hidden"),this.permList.reset(),this._isAdmin()||$("#js_permissions_create_wrapper",this.element).hide(),this.load(this.options.acoInstance).done(function(){e.setState("ready")})},showApplyFeedback:function(){$("#js_permissions_changes").removeClass("hidden"),this.options.saveChangesButton.state.is("disabled")&&this.options.saveChangesButton.setState("ready")},hideApplyFeedback:function(){$("#js_permissions_changes").addClass("hidden"),this.options.saveChangesButton.state.is("ready")&&this.options.saveChangesButton.setState("disabled")},checkOwner:function(){var e=this,t=[];if(this.permList.options.items.each(function(n){var s=!1;15==n.type&&(s=!0),void 0!==e.options.changes[n.id]&&(s=15==e.options.changes[n.id].Permission.type),s&&t.push(n)}),1==t.length){var n="js_share_perm_type_"+t[0].id,s="js_share_perm_delete_"+t[0].id,i=mad.getControl(n,"mad.form.Dropdown"),r=mad.getControl(s,"mad.component.Button");i.setState("disabled"),r.setState("disabled")}else if(t.length>1)for(var a in t){var n="js_share_perm_type_"+t[a].id,s="js_share_perm_delete_"+t[a].id,i=mad.getControl(n,"mad.form.Dropdown"),r=mad.getControl(s,"mad.component.Button");i.setState("ready"),r.setState("ready")}},addPermission:function(e){e.id=uuid();var t=new passbolt.model.Permission(e);this.loadPermission(t),this.options.changes[e.id]={Permission:{isNew:!0,aco:e.aco,aco_foreign_key:e.aco_foreign_key,aro:e.aro,aro_foreign_key:e.aro_foreign_key,type:e.type}},this.element.trigger("changed",this.options.changes),this.showApplyFeedback()},updateTypePermission:function(e,t){this.options.changes[e]?this.options.changes[e].Permission.type=t:this.options.changes[e]={Permission:{id:e,type:t}},this.element.trigger("changed",this.options.changes),this.showApplyFeedback(),this.checkOwner()},deletePermission:function(e){this.permList.removeItem(e),void 0!==this.options.changes[e.id]&&void 0!==this.options.changes[e.id].Permission.isNew&&a(this.options.changes[e.id].Permission.isNew)?(delete this.options.changes[e.id],mad.bus.trigger("passbolt.share.remove_permission",{userId:e.aro_foreign_key,isTemporaryPermission:!0})):(this.options.changes[e.id]={Permission:{id:e.id,delete:1}},mad.bus.trigger("passbolt.share.remove_permission",{userId:e.aro_foreign_key,isTemporaryPermission:!1})),$.isEmptyObject(this.options.changes)?this.hideApplyFeedback():(this.element.trigger("changed",this.options.changes),this.showApplyFeedback()),this.checkOwner()},save:function(e){var t=this,n={},s=this.options.acoInstance.constructor.shortName,i=this.options.acoInstance.id;n.Permissions=[];for(var r in this.options.changes)n.Permissions.push(this.options.changes[r]);if(e){n.Secrets=[];for(var a in e)n.Secrets.push({Secret:{resource_id:i,user_id:a,data:e[a]}})}passbolt.model.Permission.share(s,i,n).then(function(e){t.element.trigger("saved"),t.closest(mad.component.Dialog).remove()})},"{acoInstance} destroyed":function(){},"{mad.bus.element} resource_share_encrypted":function(e,t,n){this.save(n)},"{mad.bus.element} passbolt.plugin.share.canceled":function(e,t){this.setState("ready")},"{mad.bus.element} resource_share_add_permission":function(e,t,n){this.addPermission(n)}," request_permission_delete":function(e,t,n){this.deletePermission(n)}," request_permission_edit":function(e,t,n,s){this.updateTypePermission(n.id,s)},"{saveChangesButton.element} click":function(e,t){var n=[];this.setState("loading");for(var s in this.options.changes)this.options.changes[s].Permission.isNew&&n.push(this.options.changes[s].Permission.aro_foreign_key);mad.bus.trigger("passbolt.share.encrypt")},stateLoading:function(e){var t=this.options.saveChangesButton;e?t&&t.setState("disabled"):this.options.changes.length&&t.setState("ready"),this._super(e)}});e.default=o}),define("app/component/resource_actions_tab",["exports","passbolt-mad/view/template/component/tab/tab.ejs!","passbolt-mad/component/tab","app/component/permissions"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(t),s=passbolt.component.ResourceActionsTab=mad.component.Tab.extend("passbolt.component.ResourceActionsTab",{defaults:{label:null,resource:null,cssClasses:["tabs"],viewClass:mad.view.component.Tab,template:n.default}},{_hasChanged:!1,afterStart:function(){this._super();var e=this;this.addComponent(passbolt.form.resource.Create,{id:"js_rs_edit",label:__("Edit"),action:"edit",data:this.options.resource,callbacks:{submit:function(t){var n=t["passbolt.model.Resource"];n.Secret.length>0?n.__FILTER_CASE__="edit_with_secrets":n.__FILTER_CASE__="edit",e.options.resource.attr(n),e.options.resource.save(function(){e.closest(mad.component.Dialog).remove()})}}}),this.addComponent(passbolt.component.Permissions,{id:"js_rs_permission",label:"Share",resource:this.options.resources,cssClasses:["share-tab"],acoInstance:this.options.resource})},enableTab:function(e,t){var t=t||!1,n=this;if(this.enabledTabId!=e)if(this._hasChanged&&!1===t)new mad.component.Confirm(null,{label:__("Do you really want to leave ?"),content:__("If you continue you'll lose your changes"),action:function(){n.enableTab(e,!0)}}).start();else{var s=this.getComponent(e).options.label+'<span class="dialog-header-subtitle">'+this.options.resource.name+"</span>";this.closest(mad.component.Dialog).setTitle(s),this._hasChanged=!1,this._super(e)}}," changed":function(e,t,n){this._hasChanged=!0}," saved":function(e,t){this._hasChanged=!1}});e.default=s}),define("app/view/template/component/sidebar.ejs!passbolt-mad/lib/can/viewEjsSystem",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("app_view_template_component_sidebar_ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push('<div id="sidebar" class="sidebar"></div>'),___v1ew.join("")}}))}),define("app/component/sidebar",["exports","app/view/template/component/sidebar.ejs!","passbolt-mad/component/component"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(t),s=passbolt.component.ResourceDetails=mad.Component.extend("passbolt.component.Sidebar",{defaults:{label:"Sidebar Component",viewClass:passbolt.view.component.Sidebar,selectedItem:null,selectedItems:null,template:n.default}},{beforeRender:function(){this._super(),this.setViewData("selectedItem",this.options.selectedItem)},load:function(e){this.options.selectedItem=e,mad.Config.read("ui.workspace.showSidebar")&&(this.state.is(null)?this.start():this.refresh()),this.on()},unload:function(){this.options.selectedItem=null,this.on(),this.state.is("ready")&&this.setState("hidden")},isDisabled:function(){return!!(this.state.is("disabled")||this.state.is(null)&&("disabled"==this.options.state||$.isArray(this.options.state)&&-1!=this.options.state.indexOf("disabled")))},stateReady:function(e){e&&this.view.show(),this._super(e)},"{selectedItem} updated":function(e){this.isDisabled()||this.refresh()},"{mad.bus.element} workspace_sidebar_show":function(e,t){null!=this.options.selectedItem&&this.load(this.options.selectedItem)},"{mad.bus.element} workspace_sidebar_hide":function(e,t){this.state.is("ready")&&this.setState("hidden")},"{selectedItems} add":function(e,t,n){0==this.options.selectedItems.length||this.options.selectedItems.length>1?this.unload():this.load(this.options.selectedItems[0])},"{selectedItems} remove":function(e,t,n){0==this.options.selectedItems.length||this.options.selectedItems.length>1?this.unload():this.load(this.options.selectedItems[0])}});e.default=s}),define("app/model/comment",["exports","passbolt-mad/model/model","passbolt-mad/model/serializer/cake_serializer"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=passbolt.model.Comment=mad.Model.extend("passbolt.model.Comment",{checkServerRules:!0,attributes:{id:"string",parent_id:"string",foreign_model:"string",foreign_id:"string",content:"string",created:"string",modified:"string",Creator:"passbolt.model.User.model",Modifier:"passbolt.model.User.model"},create:function(e,t,n){var s=this,i=mad.model.serializer.CakeSerializer.to(e,this);return mad.net.Ajax.request({url:APP_URL+"comments/"+e.foreign_model+"/"+e.foreign_id+".json",type:"POST",params:i,success:t,error:n}).pipe(function(e,t,n){var i=$.Deferred();return i.resolveWith(this,[mad.model.serializer.CakeSerializer.from(e,s)]),i})},destroy:function(e,t,n){var s={id:e};return mad.net.Ajax.request({url:APP_URL+"comments/{id}.json",type:"DELETE",params:s,success:t,error:n})},findAll:function(e,t,n){return mad.net.Ajax.request({url:APP_URL+"comments/{foreignModel}/{foreignId}.json",type:"GET",params:e,success:t,error:n})},findOne:function(e,t,n){return mad.net.Ajax.request({url:APP_URL+"comments/{foreignModel}/{foreignId}.json",type:"GET",params:e,success:t,error:n})}},{});e.default=t}),define("app/view/template/component/comments.ejs!passbolt-mad/lib/can/viewEjsSystem",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("app_view_template_component_comments_ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push("<h4>"),___v1ew.push(can.view.txt(1,"h4",0,this,function(){return __("Comments")})),___v1ew.push('</h4>\n<a class="js_add_comment section-action"><i class="fa fa-fw fa-plus-circle"></i><span class="visuallyhidden">create</span></a>\n<div id="js_rs_details_comments_add_form"></div>\n<ul id="js_rs_details_comments_list"></ul>'),___v1ew.join("")}}))}),define("app/view/component/comments",["exports","passbolt-mad/view/view","app/view/template/component/comments.ejs!"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=passbolt.view.component.Comments=mad.View.extend("passbolt.view.component.Comments",{},{init:function(e,t){this._super(e,t)}," a.js_add_comment click":function(e,t){this.getController().addForm.setState("ready")},"a.button.comment-submit click":function(e,t){e.trigger("submit")}});e.default=t}),define("app/view/component/comments_list",["exports","passbolt-mad/view/view","passbolt-mad/view/component/tree","app/view/template/component/comments.ejs!"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=passbolt.view.component.CommentsList=mad.view.component.Tree.extend("passbolt.view.component.CommentsList",{},{init:function(e,t){this._super(e,t)}," .actions a.js_delete_comment click":function(e,t){t.stopPropagation(),t.preventDefault();var n=null,s=e.parents("li.comment-wrapper");n=this.getController().getItemClass()?s.data(this.getController().getItemClass().fullName):s[0].id,e.trigger("request_delete_comment",n)}});e.default=t}),define("app/view/template/component/comment/comment_item.ejs!passbolt-mad/lib/can/viewEjsSystem",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("app_view_template_component_comment_comment_item_ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push('<li class="comment-wrapper" id="'),___v1ew.push(can.view.txt(!0,"li","id",this,function(){return mappedItem.id})),___v1ew.push('" '),___v1ew.push(can.view.txt(1,"li",1,this,function(){return can.proxy(function(e){can.$(e).data(itemClass.fullName,item)},this)})),___v1ew.push("",can.view.pending({scope:this}),">"),___v1ew.push('\n\t<div class="comment">\n\t\t<div class="wrap-right-column">\n\t\t\t<div class="right-column">\n\t\t\t\t<div class="content-wrapper">\n\t\t\t\t\t<p>'),___v1ew.push(can.view.txt(1,"p",0,this,function(){return mappedItem.content})),___v1ew.push('</p>\n\t\t\t\t\t<div class="metadata">\n\t\t\t\t\t\t<span class="author username">'),___v1ew.push(can.view.txt(1,"span",0,this,function(){return mappedItem.creatorName})),___v1ew.push('</span>\n\t\t\t\t\t\t<span class="modified">'),___v1ew.push(can.view.txt(1,"span",0,this,function(){return datetimeGetTimeAgo(mappedItem.modified)})),___v1ew.push('</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="actions">\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<a class="js_delete_comment hidden">\n\t\t\t\t\t\t\t\t\t<i class="fa fa-fw fa-trash"></i>\n\t\t\t\t\t\t\t\t\t<span class="visuallyhidden">delete</span>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="left-column">\n\t\t\t<div class="author profile picture"><a>\n\t\t\t\t<img '),___v1ew.push(can.view.txt(2,"img","src",this,function(){var e=[];return e.push('src="'),e.push(mappedItem.creatorAvatarPath),e.push('"'),e.join("")})),___v1ew.push(' alt="comment author picture" ',can.view.pending({scope:this}),"/>"),___v1ew.push("\n\t\t\t</a></div>\n\t\t</div>\n\t</div>\n</li>"),___v1ew.join("")}}))}),define("app/component/comments_list",["exports","app/view/template/component/comments.ejs!","app/view/template/component/comment/comment_item.ejs!","passbolt-mad/component/confirm","passbolt-mad/component/tree","app/view/component/comments_list","app/view/component/comments","app/model/comment"],function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0});var i=s(t),r=s(n),a=passbolt.component.CommentsList=mad.component.Tree.extend("passbolt.component.CommentsList",{defaults:{label:"Comments List Controller",viewClass:passbolt.view.component.CommentsList,itemClass:passbolt.model.Comment,template:i.default,itemTemplate:r.default,foreignModel:null,foreignId:null,selfLoad:!1,map:new mad.Map({id:"id",content:"content",modified:"modified",creatorAvatarPath:{key:"Creator",func:function(e,t,n){return e.Profile.avatarPath("small")}},creatorName:{key:"Creator",func:function(e,t,n){return e.Profile.fullName()}}})}},{init:function(e,t){if(this._super(e,t),!0===this.options.selfLoad){var n=this;passbolt.model.Comment.findAll({foreignModel:this.options.foreignModel,foreignId:this.options.foreignId},function(e,t,s){n.load(e)})}},insertItem:function(e,t,n){this._super(e,t,n),void 0!=e.created_by&&e.created_by==passbolt.model.User.getCurrent().id&&$("li#"+e.id+" .js_delete_comment",this.element).removeClass("hidden")}," request_delete_comment":function(e,t,n){new mad.component.Confirm(null,{label:__("Do you really want to delete comment ?"),content:__("Please confirm you really want to delete the comment. After clicking ok, the comment will be <strong>deleted permanently</strong>."),submitButton:{label:__("delete comment"),cssClasses:["warning"]},action:function(){mad.bus.trigger("request_delete_comment",n)}}).start()}});e.default=a}),define("app/view/template/form/comment/add.ejs!passbolt-mad/lib/can/viewEjsSystem",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("app_view_template_form_comment_add_ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push('<ul>\n\t<li class="comment-wrapper">\n        <form id="js_comment_add_form" class="form comment add">\n            <div class="wrap-right-column">\n                <div class="right-column">\n                    <div class="form-content">\n                        <input name="data[comment][parent_id]" class="js_comment_parent_id required" type="hidden" />\n                        <input name="data[comment][foreign_id]" class="js_comment_foreign_id required" type="hidden" />\n                        <input name="data[comment][foreign_model]" class="js_comment_foreign_model required" type="hidden" />\n                        <div class="input textarea required">\n                            <label for="js_field_comment_content">Add a comment</label>\n                            <textarea id="js_field_comment_content" name="data[comment][content]" class="js_comment_content required" maxlength="255"  placeholder="add a comment"',can.view.pending({scope:this}),">"),___v1ew.push('</textarea>\n                            <div class="js_comment_content_feedback message"></div>\n                        </div>\n                        <div class="metadata">\n                            <span class="author username"><a>You</a></span>\n                            <span class="modified">right now</span>\n                        </div>\n                        <div class="actions">\n                            <a class="button comment-submit"><span>send</span></a>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class="left-column">\n                <div class="author profile picture"><a><img '),___v1ew.push(can.view.txt(2,"img","src",this,function(){var e=[];return e.push('src="'),e.push(user.Profile.Avatar.url.small),e.push('"'),e.join("")})),___v1ew.push(' alt="'),___v1ew.push(can.view.txt(!0,"img","alt",this,function(){return user.Profile.first_name})),___v1ew.push(" "),___v1ew.push(can.view.txt(!0,"img","alt",this,function(){return user.Profile.last_name})),___v1ew.push(' avatar"',can.view.pending({scope:this}),">"),___v1ew.push("</a></div>\n            </div>\n        </form>\n\t</li>\n</ul>"),___v1ew.join("")}}))}),define("app/form/comment/create",["exports","app/view/template/form/comment/add.ejs!","passbolt-mad/form/form","app/view/component/comments"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(t);passbolt.form.comment=passbolt.form.comment||{};var s=passbolt.form.comment.Create=mad.Form.extend("passbolt.form.comment.Create",{defaults:{foreignModel:null,foreignId:null,callbacks:{submit:function(e){new passbolt.model.Comment(e["passbolt.model.Comment"]).save()}},template:n.default,commentContentField:null}},{init:function(e,t){this._super(e,t),this.setViewData("user",passbolt.model.User.getCurrent())},afterStart:function(){this.addElement(new mad.form.Textbox($(".js_comment_parent_id",this.element),{modelReference:"passbolt.model.Comment.parent_id"}).start()),this.addElement(new mad.form.Textbox($(".js_comment_foreign_model",this.element),{modelReference:"passbolt.model.Comment.foreign_model"}).start().setValue("Resource")),this.addElement(new mad.form.Textbox($(".js_comment_foreign_id",this.element),{modelReference:"passbolt.model.Comment.foreign_id"}).start().setValue(this.options.foreignId)),this.options.commentContentField=new mad.form.Textbox($(".js_comment_content",this.element),{modelReference:"passbolt.model.Comment.content"}).start(),this.addElement(this.options.commentContentField,new mad.form.Feedback($(".js_comment_content_feedback",this.element),{}).start())},emptyContent:function(){this.options.commentContentField.setValue("")},stateReady:function(){this.options.commentContentField.setValue("")},stateHidden:function(e){this._super(e),this.validations=0}});e.default=s}),define("app/component/comments",["exports","app/view/template/component/comments.ejs!","app/model/comment","app/view/component/comments","app/component/comments_list","app/form/comment/create"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(t),s=passbolt.component.Comments=mad.Component.extend("passbolt.component.Comments",{defaults:{label:"Comments Controller",viewClass:passbolt.view.component.Comments,resource:null,foreignModel:null,foreignId:null,template:n.default}},{afterStart:function(){this.addForm=new passbolt.form.comment.Create($("#js_rs_details_comments_add_form",this.element),{foreignModel:this.options.foreignModel,foreignId:this.options.foreignId}),this.addForm.start(),this.addForm.setState("hidden"),this.commentsList=new passbolt.component.CommentsList($("#js_rs_details_comments_list",this.element),{resource:this.options.resource,foreignModel:this.options.foreignModel,foreignId:this.options.foreignId}),this.commentsList.start();var e=this;passbolt.model.Comment.findAll({foreignModel:this.options.foreignModel,foreignId:this.options.foreignId},function(t,n,s){t.length>0?e.commentsList.load(t):e.addForm.setState("visible")}),this._super()},"{passbolt.model.Comment} created":function(e,t,n){n.foreign_id==this.options.resource.id&&(this.addForm.setState("hidden"),this.commentsList.insertItem(n,null,"first"))},"{mad.bus.element} request_delete_comment":function(e,t,n){n.destroy().then(function(){mad.bus.trigger("comment_deleted",n)})},"{mad.bus.element} comment_deleted":function(e,t,n){this.commentsList.removeItem(n),0==this.commentsList.options.items.attr("length")&&(this.addForm.emptyContent(),this.addForm.setState("visible"))}});e.default=s}),define("app/component/sidebar_section",["exports","passbolt-mad/view/component/tree"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),passbolt.component.sidebarSection=passbolt.component.sidebarSection||{};var t=passbolt.component.SidebarSection=mad.Component.extend("passbolt.component.SidebarSection",{defaults:{label:"Sidebar Section Component",viewClass:passbolt.view.component.ResourceDetails,resource:null}},{});e.default=t}),define("app/view/component/sidebar",["exports","passbolt-mad/view/component/tree","app/component/comments","app/component/sidebar_section"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=passbolt.view.component.Sidebar=mad.View.extend("passbolt.view.component.Sidebar",{},{" .js_sidebar_close click":function(e,t){mad.Config.write("ui.workspace.showSidebar",!1),mad.bus.trigger("workspace_sidebar_hide")}});e.default=t}),define("app/view/component/resource_sidebar",["exports","app/view/component/sidebar"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=passbolt.view.component.ResourceSidebar=passbolt.view.component.Sidebar.extend("passbolt.view.component.ResourceSidebar",{},{"h2 click":function(e,t){e.next("p").toggle()},"li.password .secret-copy > a click":function(e,t){t.stopPropagation(),t.preventDefault(),this.element.trigger("password_clicked",[t])}});e.default=t}),define("app/view/template/form/resource/edit_description.ejs!passbolt-mad/lib/can/viewEjsSystem",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("app_view_template_form_resource_edit_description_ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push('<div class="form-content resource-description-edit-wrapper">\n\t<input name="data[Resource][id]" class="js_resource_id required" type="hidden" />\n    <div class="input text required js_form_element_wrapper">\n        <textarea name="data[Resource][description]" class="js_resource_description" maxlength="10000" placeholder="enter a description"',can.view.pending({scope:this}),">"),___v1ew.push('</textarea>\n\t\t<div class="js_resource_description_feedback message">\n\t\t</div>\n    </div>\n\t<div class="actions">\n\t\t<input type="submit" class="button resource-submit" value="save" />\n\t</div>\n</div>\n'),___v1ew.join("")}}))}),define("app/form/resource/edit_description",["exports","app/view/template/form/resource/edit_description.ejs!","passbolt-mad/form/form","app/model/resource"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(t);passbolt.form.resource=passbolt.form.resource||{};var s=passbolt.form.resource.EditDescription=mad.Form.extend("passbolt.form.resource.EditDescription",{defaults:{template:n.default,resource:null,descriptionField:null}},{afterStart:function(){this.addElement(new mad.form.Textbox($(".js_resource_id",this.element),{modelReference:"passbolt.model.Resource.id"}).start().setValue(this.options.resource.id)),this.options.descriptionField=this.addElement(new mad.form.Textbox($(".js_resource_description",this.element),{modelReference:"passbolt.model.Resource.description"}).start(),new mad.form.Feedback($(".js_resource_description_feedback",this.element),{}).start()),this.options.descriptionField.setValue(this.options.resource.description),$(".button.resource-submit").click(function(){$(this).trigger("submit")})},reset:function(e){this._super(),void 0==e&&(e=this.options.resource.description),this.options.descriptionField.setValue(e)}});e.default=s}),define("app/view/component/sidebar_section",["exports","passbolt-mad/view/view"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),passbolt.view.component.sidebarSection=passbolt.view.component.sidebarSection||{};var t=passbolt.view.component.SidebarSection=mad.View.extend("passbolt.view.component.SidebarSection",{},{init:function(e,t){this._super(e,t)}});e.default=t}),define("app/view/template/component/sidebar_section/description.ejs!passbolt-mad/lib/can/viewEjsSystem",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("app_view_template_component_sidebar_section_description_ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push("<h4>"),___v1ew.push(can.view.txt(1,"h4",0,this,function(){return __("Description")})),___v1ew.push("</h4>\n"),___v1ew.push(can.view.txt(0,"span",0,this,function(){var e=[];return editable&&e.push('\n<a class="edit_description_button section-action" id="js_edit_description_button">\n\t<i class="fa fa-fw fa-edit"></i>\n\t<span class="visuallyhidden">edit</span>\n</a>\n'),e.join("")})),___v1ew.push('\n<p class="description_content">'),___v1ew.push(can.view.txt(1,"p",0,this,function(){return resource.description})),___v1ew.push('</p>\n\x3c!-- edit description form --\x3e\n<div id="js_rs_details_edit_description"></div>'),___v1ew.join("")}}))}),define("app/view/component/sidebar_section/description",["exports","passbolt-mad/view/view","app/view/component/sidebar_section","app/view/template/component/sidebar_section/description.ejs!"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=passbolt.view.component.sidebarSection.Description=passbolt.view.component.SidebarSection.extend("passbolt.view.component.sidebarSection.Description",{},{"a#js_edit_description_button, p.description_content click":function(e,t){!1!==this.getController().getViewData("editable")&&this.element.trigger("request_resource_description_edit")},"{window} click":function(e,t){var n=this.getController().state.is("edit"),s=t.originalEvent.target,i=$("p.description_content",this.getController().element).get(0),r=$("a#js_edit_description_button i",this.getController().element).get(0);if(n&&i!=s&&r!=s){var a=$(".form-content",this.getController().element);$.contains(a.get(0),s)||this.getController().setState("ready")}},showDescription:function(e){e?$(".description_content",$(this.element)).show():$(".description_content",$(this.element)).hide()}});e.default=t}),define("app/component/sidebar_section/description",["app/view/template/component/sidebar_section/description.ejs!","app/component/sidebar_section","app/form/resource/edit_description","app/view/component/sidebar_section/description","app/model/resource"],function(e){"use strict";var t=function(e){return e&&e.__esModule?e:{default:e}}(e);passbolt.component.sidebarSection.Description=mad.Component.extend("passbolt.component.sidebarSection.Description",{defaults:{label:"Sidebar Section Description Controller",viewClass:passbolt.view.component.sidebarSection.Description,template:t.default,resource:null,editDescriptionFormCtrl:null}},{beforeRender:function(){this._super(),this.setViewData("resource",this.options.resource),this.setViewData("editable",this.options.resource.Permission.isAllowedTo(passbolt.UPDATE))},afterStart:function(){var e=this;this.options.editDescriptionFormCtrl=new passbolt.form.resource.EditDescription($("#js_rs_details_edit_description",this.element),{resource:this.options.resource,state:"hidden",data:{Resource:this.options.resource},callbacks:{submit:function(t){var n={__FILTER_CASE__:"edit_description",description:t["passbolt.model.Resource"].description};e.options.resource.attr(n).save()}}}).start()}," request_resource_description_edit":function(e,t){this.state.is("edit")?this.setState("ready"):this.setState("edit")},stateEdit:function(e){e?(this.options.editDescriptionFormCtrl.setState("ready"),this.view.showDescription(!1)):(this.options.editDescriptionFormCtrl.setState("hidden"),this.options.editDescriptionFormCtrl.reset(),this.view.showDescription(!0))}})}),define("app/view/template/component/sidebar_section/permissions.ejs!passbolt-mad/lib/can/viewEjsSystem",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("app_view_template_component_sidebar_section_permissions_ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push("<h4>"),___v1ew.push(can.view.txt(1,"h4",0,this,function(){return __("Shared with")})),___v1ew.push("</h4>\n"),___v1ew.push(can.view.txt(0,"span",0,this,function(){var e=[];return administrable&&e.push('\n<a class="edit_permissions_button section-action" id="js_edit_permissions_button">\n\t<i class="fa fa-fw fa-edit"></i>\n\t<span class="visuallyhidden">edit</span>\n</a>\n'),e.join("")})),___v1ew.push('\n<ul id="js_rs_details_permissions_list" class="shared-with"></ul>'),___v1ew.join("")}}))}),define("app/view/component/sidebar_section/permissions",["exports","passbolt-mad/view/view","app/view/component/sidebar_section","app/view/template/component/sidebar_section/permissions.ejs!"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=passbolt.view.component.sidebarSection.Permissions=passbolt.view.component.SidebarSection.extend("passbolt.view.component.sidebarSection.Permissions",{},{"a#js_edit_permissions_button click":function(e,t){!1!==this.getController().getViewData("administrable")&&this.element.trigger("request_resource_permissions_edit")}});e.default=t}),define("app/view/template/component/sidebar_section/permission_list_item.ejs!passbolt-mad/lib/can/viewEjsSystem",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("app_view_template_component_sidebar_section_permission_list_item_ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push('<li id="'),___v1ew.push(can.view.txt(!0,"li","id",this,function(){return mappedItem.id})),___v1ew.push('" '),___v1ew.push(can.view.txt(1,"li",1,this,function(){return can.proxy(function(e){can.$(e).data(itemClass.fullName,item)},this)})),___v1ew.push(' class="permission usercard-col-2 '),___v1ew.push(can.view.txt(!0,"li","class",this,function(){return cssClasses.join(" ")})),___v1ew.push('"',can.view.pending({scope:this}),">"),___v1ew.push('\n\t<div class="content-wrapper">\n\t\t<div class="content">\n\t\t\t<div class="name">'),___v1ew.push(can.view.txt(1,"div",0,this,function(){return mappedItem.acoLabel})),___v1ew.push(" ("),___v1ew.push(can.view.txt(1,"div",0,this,function(){return mappedItem.acoDetails})),___v1ew.push(')</div>\n\t\t\t<div class="subinfo">'),___v1ew.push(can.view.txt(1,"div",0,this,function(){return mappedItem.permLabel})),___v1ew.push('</div>\n\t\t</div>\n\t</div>\n\t<div class="avatar">\n\t\t<img '),___v1ew.push(can.view.txt(2,"img","src",this,function(){var e=[];return e.push('src="'),e.push(mappedItem.aroAvatarPath),e.push('"'),e.join("")})),___v1ew.push("",can.view.pending({scope:this}),">"),___v1ew.push("\n\t</div>\n</li>"),___v1ew.join("")}}))}),define("app/component/sidebar_section/permissions",["exports","app/view/template/component/sidebar_section/permissions.ejs!","app/view/template/component/sidebar_section/permission_list_item.ejs!","app/component/sidebar_section","app/model/permission","app/view/component/sidebar_section/permissions"],function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0});var i=s(t),r=s(n),a=passbolt.component.sidebarSection.Permissions=mad.Component.extend("passbolt.component.sidebarSection.Permissions",{defaults:{label:"Sidebar Section Permissions Component",viewClass:passbolt.view.component.sidebarSection.Permissions,template:i.default,acoInstance:null}},{afterStart:function(){this.options.acoInstance.id,this.setState("loading"),this.permissionsList=new mad.component.Tree($("#js_rs_details_permissions_list"),{cssClasses:["permissions","shared-with"],viewClass:mad.view.component.Tree,itemClass:passbolt.model.Permission,itemTemplate:r.default,map:new mad.Map({id:"id",aroLabel:{key:"aro",func:function(e,t,n){return e.toLowerCase()}},aroAvatarPath:{key:"id",func:function(e,t,n){return"User"==n.aro?n.User.Profile.avatarPath("small"):"Group"==n.aro?"img/avatar/group_default.png":void 0}},permLabel:{key:"type",func:function(e,t,n){return passbolt.model.PermissionType.formatToString(e)}},acoLabel:{key:"aco_foreign_key",func:function(e,t,n){return"User"==n.aro?n.User.Profile.first_name+" "+n.User.Profile.last_name:"Group"==n.aro?n.Group.name:void 0}},acoDetails:{key:"aco_foreign_key",func:function(e,t,n){return"User"==n.aro?n.User.username:"Group"==n.aro?__("group"):void 0}}})}),this.permissionsList.start(),this.loadPermissions(),this.on()},beforeRender:function(){this._super(),this.setViewData("administrable",this.options.acoInstance.Permission.isAllowedTo(passbolt.ADMIN))},loadPermissions:function(){var e=this,t=this.options.acoInstance.constructor.shortName,n=this.options.acoInstance.id;return this.setState("loading"),this.permissionsList.reset(),passbolt.model.Permission.findAll({aco:t,aco_foreign_key:n,contain:{group:1,user:1,"user.profile":1}},function(t,n,s){e.permissionsList.load(t),e.setState("ready")})}," request_resource_permissions_edit":function(e,t){mad.bus.trigger("request_resource_sharing",this.options.acoInstance)}});e.default=a}),define("app/view/template/component/resource_sidebar.ejs!passbolt-mad/lib/can/viewEjsSystem",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("app_view_template_component_resource_sidebar_ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push('<div class="sidebar resource">\n\t<h3>'),___v1ew.push(can.view.txt(1,"h3",0,this,function(){return resource.name})),___v1ew.push('</h3>\n\t<a class="js_sidebar_close dialog-close">\n\t\t<i class="fa fa-close"></i>\n\t\t<span class="visuallyhidden">close</span>\n\t</a>\n\t<div class="detailed-information">\n\t<h4>'),___v1ew.push(can.view.txt(1,"h4",0,this,function(){return __("Information")})),___v1ew.push('</h4>\n\t<ul>\n\t\t<li class="username">\n\t\t\t<span class="label">'),___v1ew.push(can.view.txt(1,"span",0,this,function(){return __("Username")})),___v1ew.push('</span>\n\t\t\t<span class="value">'),___v1ew.push(can.view.txt(1,"span",0,this,function(){return resource.username})),___v1ew.push('</span>\n\t\t</li>\n\t\t<li class="password">\n\t\t\t<div class="label">'),___v1ew.push(can.view.txt(1,"div",0,this,function(){return __("Password")})),___v1ew.push('</div>\n\t\t\t<div class="value">\n\t\t\t\t<div class="secret-copy">\n\t\t\t\t\t<a id="sidebar_secret_copy_'),___v1ew.push(can.view.txt(!0,"a","id",this,function(){return resource.id})),___v1ew.push('"',can.view.pending({scope:this}),">"),___v1ew.push("\n\t\t\t\t\t\t<span>copy password to clipboard</span>\n\t\t\t\t\t</a>\n\t\t\t\t\t<pre>"),___v1ew.push(can.view.txt(1,"pre",0,this,function(){return resource.Secret[0].data})),___v1ew.push('</pre>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</li>\n\t\t<li class="uri">\n\t\t\t<span class="label">'),___v1ew.push(can.view.txt(1,"span",0,this,function(){return __("URL")})),___v1ew.push('</span>\n\t\t\t<span class="value">\n\t\t\t\t<a href="'),___v1ew.push(can.view.txt(!0,"a","href",this,function(){return resourceFormattedUri})),___v1ew.push('" target="_blank" rel="noopener"',can.view.pending({scope:this}),">"),___v1ew.push(can.view.txt(1,"a",0,this,function(){return resourceFormattedUri})),___v1ew.push('</a>\n\t\t\t</span>\n\t\t</li>\n\t\t<li class="modified">\n\t\t\t<span class="label">'),___v1ew.push(can.view.txt(1,"span",0,this,function(){return __("Modified")})),___v1ew.push('</span>\n\t\t\t<span class="value">'),___v1ew.push(can.view.txt(1,"span",0,this,function(){return datetimeGetTimeAgo(resource.modified)})),___v1ew.push('</span>\n\t\t</li>\n\t\t<li class="modified-by">\n\t\t\t<span class="label">'),___v1ew.push(can.view.txt(1,"span",0,this,function(){return __("Modified by")})),___v1ew.push('</span>\n\t\t\t<span class="value">'),___v1ew.push(can.view.txt(1,"span",0,this,function(){return resource.Modifier.username})),___v1ew.push('</span>\n\t\t</li>\n\t\t<li class="created-by">\n\t\t\t<span class="label">'),___v1ew.push(can.view.txt(1,"span",0,this,function(){return __("Owner")})),___v1ew.push('</span>\n\t\t\t<span class="value">'),___v1ew.push(can.view.txt(1,"span",0,this,function(){return resource.Creator.username})),___v1ew.push('</span>\n\t\t</li>\n\t\t\x3c!--<li class="expire">--\x3e\n\t\t\t\x3c!--<span class="label">'),___v1ew.push(can.view.txt(1,"span",0,this,function(){return __("Expire")})),___v1ew.push('</span>--\x3e\n\t\t\t\x3c!--<span class="value">'),___v1ew.push(can.view.txt(1,"span",0,this,function(){return null!=resource.expiry_date?moment(resource.expiry_date).fromNow():__("never")})),___v1ew.push('</span>--\x3e\n\t\t\x3c!--</li>--\x3e\n\t\t\x3c!--<li class="strength">\n\t\t\t<span class="label">'),___v1ew.push(can.view.txt(1,"span",0,this,function(){return __("Strength")})),___v1ew.push("</span>\n\t\t\t<span>\n\t\t\t\t"),___v1ew.push(can.view.txt(1,"span",0,this,function(){return secretStrength?secretStrength.label:"-"})),___v1ew.push('\n\t\t\t</span>\n\t\t</li>--\x3e\n\t</ul>\n\t</div>\n\t\x3c!-- Description management --\x3e\n\t<div class="description" id="js_rs_details_description"></div>\n\t\x3c!-- Permissions management --\x3e\n\t<div class="permissions" id="js_rs_details_permissions"></div>\n\t\x3c!-- Comments management --\x3e\n\t<div class="comments clearfix" id="js_rs_details_comments"></div>\n</div>\n'),___v1ew.join("")}}))}),define("app/component/resource_sidebar",["exports","urijs/URI","app/view/template/component/resource_sidebar.ejs!","urijs/punycode","urijs/SecondLevelDomains","urijs/IPv6","passbolt-mad/view/component/tree","app/component/sidebar","app/view/component/resource_sidebar","app/component/comments","app/component/sidebar_section","app/component/sidebar_section/description","app/component/sidebar_section/permissions"],function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0});var i=s(t),r=s(n),a=passbolt.component.ResourceSidebar=passbolt.component.Sidebar.extend("passbolt.component.ResourceSidebar",{defaults:{label:"Resource Details",viewClass:passbolt.view.component.ResourceSidebar,template:r.default}},{beforeRender:function(){if(this._super(),null!=this.options.selectedItem){var e=(0,i.default)(this.options.selectedItem.uri);!e.is("absolute")&&e.is("url")&&e.protocol("http"),"javascript"===e.protocol().trim().toLowerCase()&&e.protocol("http"),this.setViewData("resourceFormattedUri",e.toString()),this.setViewData("resource",this.options.selectedItem);var t=passbolt.model.SecretStrength.getSecretStrength(this.options.selectedItem.Secret.data);this.setViewData("secretStrength",t)}},afterStart:function(){this._super(),new passbolt.component.sidebarSection.Description($("#js_rs_details_description",this.element),{resource:this.options.selectedItem}).start(),new passbolt.component.sidebarSection.Permissions($("#js_rs_details_permissions",this.element),{acoInstance:this.options.selectedItem}).start()}," password_clicked":function(e,t){var n=this.options.selectedItem.Secret[0].data;mad.bus.trigger("passbolt.secret.decrypt",n)}});e.default=a}),define("app/component/resource_shortcuts",["exports","passbolt-mad/component/menu"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=passbolt.component.ResourceShortcuts=mad.component.Menu.extend("passbolt.component.ResourceShortcuts",{defaults:{}},{afterStart:function(){var e=[new mad.model.Action({id:"js_pwd_wsp_filter_all",label:__("All items"),filter:passbolt.component.PasswordWorkspace.getDefaultFilterSettings()}),new mad.model.Action({id:"js_pwd_wsp_filter_favorite",label:__("Favorite"),filter:new passbolt.model.Filter({id:"workspace_filter_favorite",label:__("Favorite"),rules:{"is-favorite":!0},order:["Resource.modified DESC"]})}),new mad.model.Action({id:"js_pwd_wsp_filter_modified",label:__("Recently modified"),filter:new passbolt.model.Filter({id:"workspace_filter_modified",label:__("Recently modified"),order:["Resource.modified DESC"]})}),new mad.model.Action({id:"js_pwd_wsp_filter_share",label:__("Shared with me"),filter:new passbolt.model.Filter({id:"workspace_filter_shared",label:__("Shared with me"),rules:{"is-shared-with-me":!0},order:["Resource.modified DESC"]})}),new mad.model.Action({id:"js_pwd_wsp_filter_own",label:__("Items I own"),filter:new passbolt.model.Filter({id:"workspace_filter_own",label:__("Items I own"),rules:{"is-owned-by-me":!0},order:["Resource.modified DESC"]})})];this.load(e),this.selectItem(e[0])}," item_selected":function(e,t,n){this._super(e,t,n),n.state.is("disabled")||mad.bus.trigger("filter_workspace",n.filter)},"{mad.bus.element} filter_workspace":function(e,t,n){var s=this;this.unselectAll(),this.options.items.each(function(e){e.filter.id==n.id&&s.selectItem(e)})}});e.default=t}),define("passbolt-mad/view/template/component/button/button.ejs!passbolt-mad/lib/can/viewEjsSystem",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("passbolt-mad_view_template_component_button_button_ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push('<button type="button">\n\t'),icon&&img_tag(icon),___v1ew.push("\n\t"),___v1ew.push(can.view.txt(1,"button",0,this,function(){return label})),___v1ew.push("\n</button>"),___v1ew.join("")}}))}),define("passbolt-mad/component/toggle_button",["passbolt-mad/component/button","passbolt-mad/view/template/component/button/button.ejs!"],function(){"use strict";mad.component.ToggleButton=mad.component.Button.extend("mad.component.ToggleButton",{defaults:{}},{click:function(e,t){this._super(e,t),this.state.is("selected")?this.setState("ready"):this.setState("selected")},stateSelected:function(e){e?this.element.addClass("selected"):this.element.removeClass("selected")}})}),define("app/view/template/component/workspace_secondary_menu.ejs!passbolt-mad/lib/can/viewEjsSystem",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("app_view_template_component_workspace_secondary_menu_ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push('<li>\n\t<a id="js_wk_secondary_menu_view_sidebar_button" class="button toggle">\n\t\t<i class="fa fa-lg fa-info-circle"></i>\n\t\t<span class="visuallyhidden">'),___v1ew.push(can.view.txt(1,"span",0,this,function(){return __("view sidebar")})),___v1ew.push("</span>\n\t</a>\n</li>\n"),___v1ew.join("")}}))}),define("app/component/workspace_secondary_menu",["exports","app/view/template/component/workspace_secondary_menu.ejs!","passbolt-mad/component/component","passbolt-mad/component/toggle_button"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(t),s=passbolt.component.WorkspaceSecondaryMenu=mad.Component.extend("passbolt.component.WorkspaceSecondaryMenu",{defaults:{label:"Workspace Secondary Menu",template:n.default,tag:"ul",selectedItems:new can.Model.List}},{afterStart:function(){var e=mad.Config.read("ui.workspace.showSidebar");this.options.viewSidebarButton=new mad.component.ToggleButton($("#js_wk_secondary_menu_view_sidebar_button"),{state:e?"selected":"ready"}).start(),this.on()},"{mad.bus.element} workspace_sidebar_hide":function(e,t){this.options.viewSidebarButton.state.is("selected")&&this.options.viewSidebarButton.setState("ready")},"{viewSidebarButton.element} click":function(e,t){var n=!mad.Config.read("ui.workspace.showSidebar"),s=this.options.selectedItems.length>0;mad.Config.write("ui.workspace.showSidebar",n),s&&(n?mad.bus.trigger("workspace_sidebar_show"):mad.bus.trigger("workspace_sidebar_hide"))}});e.default=s}),define("app/view/template/component/group_item.ejs!passbolt-mad/lib/can/viewEjsSystem",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("app_view_template_component_group_item_ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push('<li class="open node root group-item" id="'),___v1ew.push(can.view.txt(!0,"li","id",this,function(){return mappedItem.id})),___v1ew.push('"',can.view.pending({scope:this}),">"),___v1ew.push('\n    <div class="row ">\n        <div class="main-cell-wrapper">\n            <div class="main-cell">\n                <a href="#" title="'),___v1ew.push(can.view.txt(!0,"a","title",this,function(){return mappedItem.label})),___v1ew.push("'\"",can.view.pending({scope:this}),">"),___v1ew.push("<span>"),___v1ew.push(can.view.txt(1,"span",0,this,function(){return mappedItem.label})),___v1ew.push("</span></a>\n            </div>\n        </div>\n        "),___v1ew.push(can.view.txt(0,"div",0,this,function(){var e=[];return 1==withMenu&&1==mappedItem.canEdit&&e.push('\n        <div class="right-cell more-ctrl">\n            <a href="#"><span>more</span></a>\n        </div>\n        '),e.join("")})),___v1ew.push("\n    </div>\n</li>"),___v1ew.join("")}}))}),define("app/view/component/groups_list",["exports","passbolt-mad/view/component/grid","app/view/template/component/group_item.ejs!"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=passbolt.view.component.GroupsList=mad.view.component.Tree.extend("passbolt.view.component.GroupsList",{},{".more-ctrl a mousedown":function(e,t){t.stopPropagation(),t.preventDefault();var n=null,s=e.closest("li");return n=this.getController().getItemClass()?s.data(this.getController().getItemClass().fullName):s[0].id,this.element.trigger("item_menu_clicked",[n,t]),!1}});e.default=t}),define("app/component/groups_list",["exports","app/view/template/component/group_item.ejs!","passbolt-mad/component/tree","app/model/group","app/view/component/groups_list"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(t),s=passbolt.component.GroupsList=mad.component.Tree.extend("passbolt.component.GroupsList",{defaults:{itemClass:passbolt.model.Group,itemTemplate:n.default,prefixItemId:"group_",selectedGroups:can.Model.List(),selectedFilter:null,viewClass:passbolt.view.component.GroupsList,map:new mad.Map({id:"id",label:"name",canEdit:{key:"GroupUser",func:function(e,t,n){var s=passbolt.model.User.getCurrent();return n.isAllowedToEdit(s)}}}),state:"loading",silentLoading:!1,defaultGroupFilter:{},withMenu:!1,afterLoad:function(e){}}},{afterStart:function(){this.setViewData("withMenu",this.options.withMenu),this.loadGroups(this.options.defaultGroupFilter),this._super()},loadGroups:function(e){var t=this,n={contain:{user:1,group_user:1},order:["Group.name ASC"],filter:e};passbolt.model.Group.findAll(n).then(function(e){t.load(e),null!=t.options.afterLoad&&t.options.afterLoad(e),t.setState("ready")})},insertAlphabetically:function(e){var t=this,n=!1;this.options.items.each(function(s){if(-1==e.name.localeCompare(s.name))return t.insertItem(e,s,"before"),n=!0,!1}),0==n&&t.insertItem(e,null,"last")},select:function(e){this.view.selectItem(e),this.options.selectedGroups.splice(0,this.options.selectedGroups.length),this.options.selectedGroups.push(e),this.selectedFilter=new passbolt.model.Filter({id:"workspace_filter_group_"+e.id,label:e.name+__(" (group)"),rules:{"has-groups":e.id},order:["Profile.last_name ASC"]}),mad.bus.trigger("filter_workspace",this.selectedFilter)},"{passbolt.model.Group} created":function(e,t,n){this.insertAlphabetically(n)},"{passbolt.model.Group} updated":function(e,t,n){this.refreshItem(n),0!=this.options.selectedGroups.attr("length")&&null!=this.options.selectedGroups[0]&&this.options.selectedGroups[0].id==n.id&&this.select(n)},"{passbolt.model.Group} destroyed":function(e,t,n){this.unselectAll(),this.removeItem(n),mad.bus.trigger("reset_filters")},"{mad.bus.element} filter_workspace":function(e,t,n){n.id.match(/^workspace_filter_group_/)||(this.options.selectedGroups.splice(0,this.options.selectedGroups.length),this.unselectAll())}," item_selected":function(e,t,n,s){this.select(n)}});e.default=s}),define("app/component/password_categories_groups_list",["exports","app/view/template/component/group_item.ejs!","app/component/groups_list","app/model/group","app/view/component/groups_list"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(t),s=passbolt.component.PasswordCategoriesGroupsList=passbolt.component.GroupsList.extend("passbolt.component.PasswordCategoriesGroupsList",{defaults:{itemClass:passbolt.model.Group,itemTemplate:n.default,prefixItemId:"group_",selectedGroups:can.Model.List(),selectedFilter:null,viewClass:passbolt.view.component.GroupsList}},{select:function(e){this.view.selectItem(e),this.options.selectedGroups.splice(0,this.options.selectedGroups.length),this.options.selectedGroups.push(e),this.selectedFilter=new passbolt.model.Filter({id:"workspace_filter_group_"+e.id,label:e.name+__(" (group)"),rules:{"is-shared-with-group":e.id}}),mad.bus.trigger("filter_workspace",this.selectedFilter)}});e.default=s}),define("app/view/template/component/password_categories.ejs!passbolt-mad/lib/can/viewEjsSystem",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("app_view_template_component_password_categories_ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push('<ul id="js_wsp_pwd_password_categories_chooser">\n    <li class="open node root group-header">\n        <div class="row title no-hover">\n            <div class="main-cell-wrapper">\n                <div class="main-cell">\n                    <h3>Filter by groups</h3>\n                </div>\n            </div>\n        </div>\n    </li>\n</ul>\n<ul id="js_wsp_password_categories_groups_list"></ul>'),___v1ew.join("")}}))}),define("app/component/password_categories",["exports","app/view/template/component/password_categories.ejs!","passbolt-mad/component/component","app/component/password_categories_groups_list"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(t),s=passbolt.component.PasswordCategories=mad.Component.extend("passbolt.component.PasswordCategories",{defaults:{template:n.default,selectedGroups:new can.Model.List,state:"hidden"}},{afterStart:function(){var e=this;new passbolt.component.PasswordCategoriesGroupsList($("#js_wsp_password_categories_groups_list",this.element),{selectedGroups:this.options.selectedGroups,defaultGroupFilter:{"has-users":passbolt.model.User.getCurrent().id},afterLoad:function(t){t.length>0&&e.setState("ready")}}).start()}});e.default=s}),define("app/form/secret/create",["exports","passbolt-mad/form/form"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),passbolt.form.secret=passbolt.form.secret||{};var t=passbolt.form.secret.Create=mad.Form.extend("passbolt.form.secret.Create",{defaults:{action:"create",secret_i:null}},{afterStart:function(){this.addElement(new mad.form.Textbox($("#js_field_secret_id_"+this.options.secret_i),{modelReference:"passbolt.model.Secret.id",validate:!1}).start()),this.addElement(new mad.form.Textbox($("#js_field_secret_user_id_"+this.options.secret_i),{modelReference:"passbolt.model.Secret.user_id",validate:!1}).start()),this.addElement(new mad.form.Textbox($("#js_field_secret_data_"+this.options.secret_i),{modelReference:"passbolt.model.Secret.data",validate:!1}).start()),this.on()}});e.default=t}),define("app/view/template/form/resource/create.ejs!passbolt-mad/lib/can/viewEjsSystem",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("app_view_template_form_resource_create_ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push('<div class="form-content">\n\t<input type="hidden" name="passbolt.model.Resource.id" id="js_field_resource_id" class="form_field" />\n\t<div class="input text required js_form_element_wrapper">\n\t\t<label for="js_field_name">'),___v1ew.push(can.view.txt(1,"label",0,this,function(){return __("Name")})),___v1ew.push('</label>\n\t\t<input name="passbolt.model.Resource.name" class="required" maxlength="64" type="text" id="js_field_name" placeholder="name" autofocus/>\n\t\t<div id="js_field_name_feedback" class="message">\n\t\t</div>\n\t</div>\n\t\n\t<div class="input text js_form_element_wrapper">\n\t\t<label for="js_field_uri">'),___v1ew.push(can.view.txt(1,"label",0,this,function(){return __("URI")})),___v1ew.push('</label>\n\t\t<input name="passbolt.model.Resource.uri" type="text" maxlength="1024" id="js_field_uri" placeholder="https://example.com/login"/>\n\t\t<div id="js_field_uri_feedback" class="message">\n\t\t</div>\n\t</div>\n\t\n\t<div class="input text js_form_element_wrapper">\n\t\t<label for="js_field_username">'),___v1ew.push(can.view.txt(1,"label",0,this,function(){return __("Username")})),___v1ew.push('</label>\n\t\t<input name="passbolt.model.Resource.username" maxlength="64" type="text" id="js_field_username" placeholder="name"/>\n\t\t<div id="js_field_username_feedback" class="message">\n\t\t</div>\n\t</div>\n\t<div class="input text required js_form_element_wrapper js_form_secret_wrapper">\n\t\t<label for="js_field_secret_data_0">'),___v1ew.push(can.view.txt(1,"label",0,this,function(){return __("Password")})),___v1ew.push('</label>\n        <div id="js_secret_edit_0" class="js_secret_edit_form">\n            <input type="hidden" name="passbolt.model.Secret.id" id="js_field_secret_id_0" class="js_field_secret_id form_field" />\n            <input type="hidden" name="passbolt.model.Secret.user_id" id="js_field_secret_user_id_0" class="js_field_secret_user_id form_field" />\n            <textarea name="passbolt.model.Secret.data" id="js_field_secret_data_0" class="form_field hidden js_field_secret_data"',can.view.pending({scope:this}),">"),___v1ew.push('</textarea>\n        </div>\n\t</div>\n\t<div class="input textarea js_form_element_wrapper">\n\t\t<label for="js_field_description">'),___v1ew.push(can.view.txt(1,"label",0,this,function(){return __("Description")})),___v1ew.push('</label>\n\t\t<textarea name="passbolt.model.Resource.description" class="required" id="js_field_description" maxlength="10000" placeholder="add a description"',can.view.pending({scope:this}),">"),___v1ew.push('\n\t\t</textarea>\n\t\t<div id="js_field_description_feedback" class="message">\n\t\t</div>\n\t</div>\n</div>\n<div class="submit-wrapper clearfix">\n    <input type="submit" class="button primary" value="'),___v1ew.push(can.view.txt(!0,"input","value",this,function(){return __("save")})),___v1ew.push('" ',can.view.pending({scope:this}),"/>"),___v1ew.push('\n    <a class="js-dialog-cancel cancel">'),___v1ew.push(can.view.txt(1,"a",0,this,function(){return __("cancel")})),___v1ew.push("</a>\n</div>\n"),___v1ew.join("")}}))}),define("app/form/resource/create",["exports","app/view/template/form/resource/create.ejs!","passbolt-mad/form/form","app/form/secret/create"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(t);passbolt.form.resource=passbolt.form.resource||{};var s=passbolt.form.resource.Create=mad.Form.extend("passbolt.form.resource.Create",{defaults:{secretField:null,action:"create",secretsForms:[],resource:null,template:n.default,lastValidationResult:!1}},{beforeRender:function(){this._super(),this.setViewData("resource",this.options.data)},afterStart:function(){var e=this;this.options.data.Resource=this.options.data.Resource||{},this.addElement(new mad.form.Textbox($("#js_field_resource_id"),{modelReference:"passbolt.model.Resource.id",validate:!1}).start()),this.addElement(new mad.form.Textbox($("#js_field_name"),{modelReference:"passbolt.model.Resource.name"}).start(),new mad.form.Feedback($("#js_field_name_feedback"),{}).start()),this.addElement(new mad.form.Textbox($("#js_field_uri"),{modelReference:"passbolt.model.Resource.uri"}).start(),new mad.form.Feedback($("#js_field_uri_feedback"),{}).start()),this.addElement(new mad.form.Textbox($("#js_field_username"),{modelReference:"passbolt.model.Resource.username"}).start(),new mad.form.Feedback($("#js_field_username_feedback"),{}).start()),can.each(this.options.data.Secret,function(t,n){var s=new passbolt.form.secret.Create("#js_secret_edit_"+n,{data:t,secret_i:n});s.start(),s.load(t),e.options.secretsForms.push(s)}),this.addElement(new mad.form.Textbox($("#js_field_description"),{modelReference:"passbolt.model.Resource.description"}).start(),new mad.form.Feedback($("#js_field_description_feedback"),{}).start()),null!=this.options.data&&this.load(this.options.data),mad.bus.trigger("passbolt.plugin.resource_edition"),setTimeout(function(){e.setInitialFocus()},100)},setInitialFocus:function(){var e=$("#js_field_name");e.focus(),""!=e.val()&&e.select()},validate:function(){mad.bus.trigger("passbolt.secret_edition.validate"),this.lastValidationResult=this._super()},encrypt:function(){var e=[];"edit"==this.options.action?passbolt.model.Resource.findUsers(this.options.data.id).then(function(e,t,n){var s=[];e.forEach(function(e){s.push(e.id)}),mad.bus.trigger("passbolt.secret_edition.encrypt",s)}):(e.push(mad.Config.read("user.id")),mad.bus.trigger("passbolt.secret_edition.encrypt",e))}," submit":function(e,t){t.preventDefault(),this.validate()},"{mad.bus.element} secret_edition_secret_validated":function(e,t,n){n?$(".js_form_secret_wrapper").removeClass("error"):$(".js_form_secret_wrapper").addClass("error"),this.lastValidationResult&&n?this.encrypt():this.options.callbacks.error&&this.options.callbacks.error()},"{mad.bus.element} secret_edition_secret_encrypted":function(e,t,n){var s=this.getData();s["passbolt.model.Resource"].Secret=[];for(var i in n)s["passbolt.model.Resource"].Secret.push({user_id:i,data:n[i]});this.options.callbacks.submit&&this.options.callbacks.submit(s)},"{mad.bus.element} secret_edition_secret_changed":function(e,t,n){this.element.trigger("changed","secret")},"#js_field_username keydown":function(e,t){"9"==(t.keyCode||t.which)&&mad.bus.trigger("passbolt.secret.focus")},"#js_field_description keydown":function(e,t){"9"==(t.keyCode||t.which)&&t.shiftKey&&mad.bus.trigger("passbolt.secret.focus")},"{mad.bus.element} secret_tab_pressed":function(e,t){$("#js_field_description").focus()},"{mad.bus.element} secret_backtab_pressed":function(e,t){$("#js_field_username").focus()}});e.default=s}),define("app/model/filter",["exports","passbolt-mad/model/model"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=passbolt.model.Filter=passbolt.Model.extend("passbolt.model.Filter",{attributes:{id:"string",label:"string",rules:"object",order:"array"}},{init:function(){this.id||this.attr("id",uuid()),this.rules||(this.rules=new can.Map),this.order?"string"==typeof this.order.attr()&&(this.order=new can.Map(this.order.attr())):this.order=new can.Map},getOrders:function(){return this.order?this.order.attr():[]},getRule:function(e){return this.rules.attr(e)},setRule:function(e,t){this.rules.attr(e,t)},getRules:function(e){var t=this.rules?this.rules.serialize():{};if(e&&e.length)for(var n in e)void 0!==t[e[n]]&&delete t[e[n]];return t}});e.default=t}),define("app/view/template/password_workspace.ejs!passbolt-mad/lib/can/viewEjsSystem",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("app_view_template_password_workspace_ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push('<div class="js_workspace">\n\t<div class="panel left">\n\t\t<div class="navigation first shortcuts">\n\t\t\t<ul id="js_wsp_pwd_filter_shortcuts" class="clearfix">\n\t\t\t</ul>\n\t\t</div>\n\t\t<div class="navigation flat tree categories" id="js_wsp_pwd_password_categories"></div>\n\t</div>\n\t<div class="panel middle">\n        <div id="js_wsp_password_breadcrumb" class="breadcrumbs">\n        </div>\n        <div id="js_wsp_pwd_browser" class="tableview">\n        </div>\n\t</div>\n\t<div id="js_pwd_details" class="panel aside js_wsp_pwd_sidebar_second">\n\t</div>\n</div>\n'),___v1ew.join("")}}))}),define("app/view/template/component/create_button.ejs!passbolt-mad/lib/can/viewEjsSystem",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("app_view_template_component_create_button_ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push('<i class="fa fa-fw fa-plus-circle"></i>\n<span>create</span>\n'),___v1ew.join("")}}))}),define("app/component/password_workspace",["exports","app/view/template/password_workspace.ejs!","app/view/template/component/create_button.ejs!","passbolt-mad/component/component","passbolt-mad/component/confirm","app/component/password_workspace_menu","app/component/breadcrumb/password_breadcrumb","app/component/password_browser","app/component/resource_actions_tab","app/component/resource_sidebar","app/component/resource_shortcuts","app/component/workspace_secondary_menu","app/component/password_categories","app/form/resource/create","app/model/filter"],function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0});var i=s(t),r=s(n),a=passbolt.component.PasswordWorkspace=mad.Component.extend("passbolt.component.PasswordWorkspace",{defaults:{label:"Password",template:i.default,selectedRs:new can.Model.List,selectedGroups:new can.Model.List,filter:null,silentLoading:!1},getDefaultFilterSettings:function(){return new passbolt.model.Filter({id:"default",label:__("All items"),order:["Resource.modified DESC"]})}},{afterStart:function(){mad.helper.Component.create($("#js_wsp_primary_menu_wrapper"),"last",passbolt.component.PasswordWorkspaceMenu,{selectedRs:this.options.selectedRs}).start(),mad.helper.Component.create($("#js_wsp_secondary_menu_wrapper"),"last",passbolt.component.WorkspaceSecondaryMenu,{selectedItems:this.options.selectedRs}).start(),this.options.createButton=mad.helper.Component.create($(".main-action-wrapper"),"last",mad.component.Button,{id:"js_wsp_create_button",template:r.default,tag:"button",cssClasses:["button","primary"]}).start(),new passbolt.component.ResourceShortcuts("#js_wsp_pwd_filter_shortcuts",{}).start(),this.breadcrumCtl=new passbolt.component.PasswordBreadcrumb($("#js_wsp_password_breadcrumb"),{}),this.breadcrumCtl.start(),new passbolt.component.PasswordCategories("#js_wsp_pwd_password_categories",{selectedGroups:this.options.selectedGroups}).start(),new passbolt.component.PasswordBrowser("#js_wsp_pwd_browser",{selectedRs:this.options.selectedRs}).start(),new passbolt.component.ResourceSidebar($(".js_wsp_pwd_sidebar_second",this.element),{selectedItems:this.options.selectedRs}),$(".js_wsp_pwd_sidebar_second",this.element).hide();var e=this.constructor.getDefaultFilterSettings();mad.bus.trigger("filter_workspace",e),this.on()},destroy:function(){$("#js_wsp_primary_menu_wrapper").empty(),$("#js_wsp_secondary_menu_wrapper").empty(),$(".main-action-wrapper").empty(),this.options.selectedRs.splice(0,this.options.selectedRs.length),this._super()},"{createButton.element} click":function(e,t){mad.bus.trigger("request_resource_creation")},"{mad.bus.element} filter_workspace":function(e,t,n){this.options.selectedRs.splice(0,this.options.selectedRs.length),this.options.createButton.setState("ready")},"{mad.bus.element} request_resource_creation":function(e,t){var n=new passbolt.model.Resource,s=new mad.component.Dialog(null,{label:__("Create Password"),cssClasses:["create-password-dialog","dialog-wrapper"]}).start();s.add(passbolt.form.resource.Create,{data:n,callbacks:{submit:function(e){new passbolt.model.Resource(e["passbolt.model.Resource"]).save(),s.remove()}}}).load(n)},"{mad.bus.element} request_resource_edition":function(e,t,n){new mad.component.Dialog(null,{label:__("Edit Password"),cssClasses:["edit-password-dialog","dialog-wrapper"]}).start().add(passbolt.component.ResourceActionsTab,{resource:n}).enableTab("js_rs_edit")},"{mad.bus.element} request_resource_deletion":function(e,t){var n=arguments;new mad.component.Confirm(null,{label:__("Do you really want to delete password ?"),content:__("Please confirm you really want to delete the password. After clicking ok, the password will be <strong>deleted permanently</strong>."),submitButton:{label:__("delete password"),cssClasses:["warning"]},action:function(){for(var e=2;e<n.length;e++){var t=n[e];if(!(t instanceof passbolt.model.Resource))throw passbolt.Exception.get("The parameter [%0] should be an instance of passbolt.model.Resource",e);t.destroy()}}}).start()},"{mad.bus.element} request_resource_sharing":function(e,t,n){new mad.component.Dialog(null,{label:__("Share Password"),cssClasses:["share-password-dialog","dialog-wrapper"]}).start().add(passbolt.component.ResourceActionsTab,{resource:n}).enableTab("js_rs_permission")},"{mad.bus.element} request_favorite":function(e,t,n,s){var i={foreign_model:"resource",foreign_id:s.id};new passbolt.model.Favorite(i).save().then(function(e){s.Favorite=e,can.trigger(passbolt.model.Resource,"updated",s),n.resolve()}).fail(function(e){n.reject()})},"{mad.bus.element} request_unfavorite":function(e,t,n,s){s.Favorite.destroy().then(function(){s.Favorite=null,can.trigger(passbolt.model.Resource,"updated",s),n.resolve()}).fail(function(e,t,s,i){n.rejectWith(n,[e,t,s,i])})}});e.default=a}),define("app/view/template/component/people_workspace_menu.ejs!passbolt-mad/lib/can/viewEjsSystem",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("app_view_template_component_people_workspace_menu_ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[],role=passbolt.model.User.getCurrent().Role.name;return ___v1ew.push("\n"),___v1ew.push(can.view.txt(0,"ul",0,this,function(){var e=[];return"admin"==role&&(e.push('\n<li>\n\t<a id="js_user_wk_menu_edition_button" class="button">\n\t\t<i class="fa fa-fw fa-edit"></i>\n\t\t<span>'),e.push(can.view.txt(1,"span",0,this,function(){return __("edit")})),e.push('</span>\n\t</a>\n</li>\n<li>\n\t<a id="js_user_wk_menu_deletion_button" class="button">\n\t\t<i class="fa fa-fw fa-trash"></i>\n\t\t<span>'),e.push(can.view.txt(1,"span",0,this,function(){return __("delete")})),e.push('</span>\n\t</a>\n</li>\n\x3c!-- #PASSBOLT-787<li>\n\t<div class="dropdown">\n\t\t<a id="js_user_wk_menu_more_button" class="button">\n\t\t\t<span>'),e.push(can.view.txt(1,"span",0,this,function(){return __("more")})),e.push('</span>\n\t\t\t<i class="fa fa-fw fa-caret-down"></i>\n\t\t</a>\n\t</div>\n</li>--\x3e\n')),e.join("")})),___v1ew.push("\n"),___v1ew.join("")}}))}),define("app/component/people_workspace_menu",["exports","app/view/template/component/people_workspace_menu.ejs!","passbolt-mad/component/component","passbolt-mad/component/button"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(t),s=passbolt.component.PeopleWorkspaceMenu=mad.Component.extend("passbolt.component.PeopleWorkspaceMenu",{defaults:{label:"User Workspace Menu Controller",tag:"ul",selectedUsers:new can.Model.List,template:n.default}},{afterStart:function(){"admin"==passbolt.model.User.getCurrent().Role.name&&(this.options.editionButton=new mad.component.Button($("#js_user_wk_menu_edition_button"),{state:"disabled"}).start(),this.options.deletionButton=new mad.component.Button($("#js_user_wk_menu_deletion_button"),{state:"disabled"}).start()),this.on()},"{editionButton.element} click":function(e,t){mad.bus.trigger("request_user_edition")},"{deletionButton.element} click":function(e,t){var n=this.options.selectedUsers;mad.bus.trigger("request_user_deletion",n)},"{selectedUsers} add":function(e,t,n){0==this.options.selectedUsers.length?this.setState("ready"):1==this.options.selectedUsers.length?this.setState("selection"):this.setState("multiSelection")},"{selectedUsers} remove":function(e,t,n){0==this.options.selectedUsers.length?this.setState("ready"):1==this.options.selectedUsers.length?this.setState("selection"):this.setState("multiSelection")},stateSelection:function(e){if("admin"==passbolt.model.User.getCurrent().Role.name)if(e){var t=passbolt.model.User.getCurrent().id==this.options.selectedUsers[0].id;this.options.editionButton.setValue(this.options.selectedUsers[0]).setState("ready"),t?this.options.deletionButton.setValue(null).setState("disabled"):this.options.deletionButton.setValue(this.options.selectedUsers).setState("ready")}else this.options.editionButton.setValue(null).setState("disabled"),this.options.deletionButton.setValue(null).setState("disabled")},stateMultiSelection:function(e){"admin"==passbolt.model.User.getCurrent().Role.name&&(e?(this.options.editionButton.setState("disabled"),this.options.deletionButton.setValue(this.options.selectedUsers).setState("ready")):(this.options.editionButton.setValue(null).setState("disabled"),this.options.deletionButton.setValue(null).setState("disabled")))}});e.default=s}),define("app/component/people_breadcrumb",["exports","app/view/template/component/breadcrumb/breadcrumb.ejs!","app/view/template/component/breadcrumb/breadcrumb_item.ejs!","passbolt-mad/component/component","passbolt-mad/component/menu","app/model/filter"],function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0});var i=s(t),r=s(n),a=passbolt.component.PeopleBreadcrumb=mad.Component.extend("passbolt.component.PeopleBreadcrumb",{defaults:{template:i.default,status:"hidden"}},{afterStart:function(){var e="#"+this.getId()+" ul";this.options.menu=new mad.component.Menu(e,{itemTemplate:r.default}),this.options.menu.start()},parseFilter:function(e){var t=[],n=e.getRule("keywords"),s=new mad.model.Action({id:uuid(),label:__("All users"),filter:passbolt.component.UserWorkspace.getDefaultFilterSettings()});return t.push(s),n&&""!=n?(s=new mad.model.Action({id:uuid(),label:__("Search : %s",n)}),t.push(s)):"default"!=e.id&&(s=new mad.model.Action({id:uuid(),label:e.label}),t.push(s)),t},load:function(e){var t=this.parseFilter(e);this.options.menu.reset(),this.options.menu.load(t)}," item_selected":function(e,t,n){n.filter&&mad.bus.trigger("filter_workspace",n.filter)},"{mad.bus.element} filter_workspace":function(e,t,n){this.options.menu.reset();var s=this.parseFilter(n);this.options.menu.load(s)}});e.default=a}),define("app/component/people_groups_list",["exports","app/component/groups_list","app/model/group","app/view/component/groups_list","app/view/template/component/group_item.ejs!"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=passbolt.component.PeopleGroupsList=passbolt.component.GroupsList.extend("passbolt.component.PeopleGroupsList",{defaults:{withMenu:!0}},{showContextualMenu:function(e,t,n,s){var i="admin"==passbolt.model.User.getCurrent().Role.name,r=$("#"+this.options.prefixItemId+e.id),a=$(".more-ctrl a",r).offset(),o=new mad.component.ContextualMenu(null,{state:"hidden",source:s,coordinates:{x:t,y:a.top}});if(o.start(),u=new mad.model.Action({id:"js_group_browser_menu_edit",label:"Edit group",initial_state:"ready",action:function(t){mad.bus.trigger("request_group_edition",e),t.remove()}}),o.insertItem(u),i){var u=new mad.model.Action({id:"js_group_browser_menu_remove",label:"Delete group",initial_state:"ready",action:function(t){mad.bus.trigger("request_group_deletion",e),t.remove()}});o.insertItem(u)}o.setState("ready")}," item_menu_clicked":function(e,t,n,s){this.showContextualMenu(n,s.pageX,s.pageY,s.target)}});e.default=t}),define("app/view/template/component/groups.ejs!passbolt-mad/lib/can/viewEjsSystem",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("app_view_template_component_groups_ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push('<ul id="js_wsp_users_groups_menu">\n    <li class="open node root group-header">\n        <div class="row title no-hover">\n            <div class="main-cell-wrapper">\n                <div class="main-cell">\n                    <h3>All groups</h3>\n                </div>\n            </div>\n            \x3c!--<div class="right-cell more-ctrl">\n                <a href="#"><span>more</span></a>\n            </div>--\x3e\n        </div>\n    </li>\n</ul>\n<ul id="js_wsp_users_groups_list"></ul>'),___v1ew.join("")}}))}),define("app/component/groups",["exports","app/view/template/component/groups.ejs!","passbolt-mad/component/component","app/component/people_groups_list"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(t),s=passbolt.component.Groups=mad.Component.extend("passbolt.component.Groups",{defaults:{template:n.default,selectedGroups:new can.Model.List}},{afterStart:function(){new passbolt.component.PeopleGroupsList($("#js_wsp_users_groups_list",this.element),{selectedGroups:this.options.selectedGroups}).start()}});e.default=s}),define("app/view/template/component/user/dragged_user.ejs!passbolt-mad/lib/can/viewEjsSystem",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("app_view_template_component_user_dragged_user_ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push('<div class="dragged_user" id="js_dragged_user">\n\tMove \'<span class="name">'),___v1ew.push(can.view.txt(1,"span",0,this,function(){return name})),___v1ew.push("</span>' in a group\n</div>"),___v1ew.join("")}}))}),define("app/view/component/user_browser",["exports","passbolt-mad/view/component/grid","app/view/template/component/user/dragged_user.ejs!"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=passbolt.view.component.UserBrowser=mad.view.component.Grid.extend("passbolt.view.component.UserBrowser",{},{"tbody tr contextmenu":function(e,t){return t.stopPropagation(),t.preventDefault(),!1},"tbody tr mousedown":function(e,t){var n=this;if(t.stopPropagation(),t.preventDefault(),3==t.which){var s=null,i=e;s=this.getController().getItemClass()?i.data(this.getController().getItemClass().fullName):i[0].id,setTimeout(function(){n.element.trigger("item_right_selected",[s,t])},0)}return!1}});e.default=t}),define("app/view/template/component/user/gridItem.ejs!passbolt-mad/lib/can/viewEjsSystem",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("app_view_template_component_user_gridItem_ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push('<tr id="'),___v1ew.push(can.view.txt(!0,"tr","id",this,function(){return id})),___v1ew.push('" class="'),___v1ew.push(can.view.txt(!0,"tr","class",this,function(){return"0"==item.active?"inactive":""})),___v1ew.push('"',can.view.pending({scope:this}),">"),___v1ew.push("\n    "),___v1ew.push(can.view.txt(0,"tr",0,this,function(){var e=[];for(var t in columnModels)e.push('\n    <td class="js_grid_column_'),e.push(can.view.txt(!0,"td","class",this,function(){return columnModels[t].name})),e.push(" cell_"),e.push(can.view.txt(!0,"td","class",this,function(){return columnModels[t].name})),e.push(" "),e.push(can.view.txt(!0,"td","class",this,function(){return columnModels[t].css.join(" ")})),e.push('"',can.view.pending({scope:this}),">"),e.push('\n        <div title="'),e.push(can.view.txt(!0,"div","title",this,function(){return titles[columnModels[t].name]})),e.push('"',can.view.pending({scope:this}),">"),e.push("\n            "),e.push(can.view.txt(0,"div",0,this,function(){return values[columnModels[t].name]})),e.push("\n        </div>\n    </td>\n    ");return e.join("")})),___v1ew.push("\n</tr>\n"),___v1ew.join("")}}))}),define("app/component/user_browser",["exports","moment","app/view/template/component/user/gridItem.ejs!","passbolt-mad/component/grid","passbolt-mad/form/element/checkbox","app/model/user","app/model/group","app/model/profile","app/view/component/user_browser"],function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0}),s(t);var r=s(n),a=passbolt.component.UserBrowser=mad.component.Grid.extend("passbolt.component.UserBrowser",{defaults:{itemClass:passbolt.model.User,viewClass:passbolt.view.component.UserBrowser,groups:[],selectedUsers:new can.Model.List,prefixItemId:"user_",silentLoading:!1,itemTemplate:r.default}},{filterSettings:null,init:function(e,t){t.map=new mad.Map({id:"id",name:{key:"Profile",func:function(e){return e.first_name+" "+e.last_name}},username:"username",modified:"modified",last_logged_in:"last_logged_in",active:"active",Group:"Group",Profile:"Profile"}),t.columnModel=[new mad.model.GridColumn({name:"multipleSelect",index:"multipleSelect",css:["selections s-cell"],label:'<div class="input checkbox">                     <input type="checkbox" name="select all" value="checkbox-select-all" id="checkbox-select-all-people" disabled="disabled">                     <label for="checkbox-select-all-people">select all</label>                 </div>',cellAdapter:function(e,t,n,s,i){var r=[];r[s.id]="",mad.helper.Component.create(e,"inside_replace",mad.form.Checkbox,{id:"multiple_select_checkbox_"+s.id,name:"test",cssClasses:["js_checkbox_multiple_select"],availableValues:r}).start()}}),new mad.model.GridColumn({name:"avatar",index:"Profile",css:["s-cell"],label:"",titleAdapter:function(e,t,n,s){return"avatar"},valueAdapter:function(e,t,n,s){return'<img src="'+n.Profile.avatarPath("small")+'" alt="'+__("Picture of: ")+t.Profile.first_name+" "+t.Profile.last_name+'" width="30" height="30">'}}),new mad.model.GridColumn({name:"name",index:"Profile",css:["m-cell"],label:__("User"),sortable:!0}),new mad.model.GridColumn({name:"username",index:"username",css:["m-cell"],label:__("Username"),sortable:!0}),new mad.model.GridColumn({name:"modified",index:"modified",css:["m-cell"],label:__("Modified"),sortable:!0,valueAdapter:function(e,t,n,s){return passbolt.Common.datetimeGetTimeAgo(e)}}),new mad.model.GridColumn({name:"last_logged_in",index:"last_logged_in",css:["m-cell"],label:__("Last logged in"),sortable:!0,valueAdapter:function(e,t,n,s){var i=__("never");return void 0!=e&&(i=passbolt.Common.datetimeGetTimeAgo(e)),i}})],this._super(e,t)},showContextualMenu:function(e,t,n,s){var i=$("#"+this.options.prefixItemId+e.id).offset(),r="admin"==passbolt.model.User.getCurrent().Role.name,a=passbolt.model.User.getCurrent().id==this.options.selectedUsers[0].id,o=new mad.component.ContextualMenu(null,{state:"hidden",source:s,coordinates:{x:t,y:i.top}});if(o.start(),u=new mad.model.Action({id:"js_user_browser_menu_copy_key",label:"Copy public key",action:function(t){var n={name:"public key",data:e.Gpgkey.key};mad.bus.trigger("passbolt.clipboard",n),t.remove()}}),o.insertItem(u),u=new mad.model.Action({id:"js_user_browser_menu_copy_email",label:"Copy email address",cssClasses:r?["separator-after"]:[],action:function(t){var n={name:"email",data:e.username};mad.bus.trigger("passbolt.clipboard",n),t.remove()}}),o.insertItem(u),r&&(u=new mad.model.Action({id:"js_user_browser_menu_edit",label:"Edit",action:function(t){mad.bus.trigger("request_user_edition",e),t.remove()}}),o.insertItem(u),!a)){var u=new mad.model.Action({id:"js_user_browser_menu_delete",label:"Delete",action:function(t){mad.bus.trigger("request_user_deletion",e),t.remove()}});o.insertItem(u)}o.setState("ready")},refreshItem:function(e){this.itemExists(e)&&(this._super(e),this.options.selectedUsers.length>0&&this.select(this.options.selectedUsers[0]))},removeItem:function(e){this._super(e)},reset:function(){this.filtered=!1,this.filterSettings=null;var e=this.getColumnModel("name");this.view.markColumnAsSorted(e,!0),this._super()},beforeSelect:function(e){var t=!0;if(this.state.is("selection"))if(this.options.selectedUsers.length>0&&this.options.selectedUsers[0].id==e.id)this.unselect(e),this.setState("ready"),t=!1;else for(var n=this.options.selectedUsers.length-1;n>-1;n--)this.unselect(this.options.selectedUsers[n]);return t},select:function(e){this.itemExists(e)&&(!this.state.is("multipleSelection")&&this.options.selectedUsers.length>0&&this.unselect(this.options.selectedUsers[0]),this.options.selectedUsers.push(e),mad.getControl("multiple_select_checkbox_"+e.id,"mad.form.Checkbox").setValue([e.id]),this.view.selectItem(e),mad.bus.trigger("user_selected",e))},beforeUnselect:function(e){return!0},unselect:function(e,t){if(t=void 0!==t&&t,this.itemExists(e)){var n="multiple_select_checkbox_"+e.id;mad.getControl(n,"mad.form.Checkbox").reset(),this.view.unselectItem(e),mad.model.List.remove(this.options.selectedUsers,e),t||mad.bus.trigger("user_unselected",e)}},filterBySettings:function(e){var t=this,n=null;if(!this.filterSettings||this.filterSettings.id!==e.id){this.setState("loading"),this.reset();var s={silentLoading:!1,filter:e.getRules(["keywords"]),order:e.getOrders()};n=passbolt.model.User.findAll(s).then(function(n,s,i){if(null!=t.element&&(t.load(n),t.setState("ready"),n.length||t.state.addState("empty"),e.order)){var r=t.getColumnModel(e.order);r&&t.view.markColumnAsSorted(r,!0)}})}$.when(n).done(function(){t.filterSettings=e;var n=e.getOrders();if(n&&n[0]){var s=/((\w*)\.)?(\w*)\s*(asc|desc|ASC|DESC)?/i.exec(n[0]),i=(s[2],s[3]),r=s[4]?s[4].toLowerCase():"asc";if(i){"last_name"!==i&&"first_name"!==i||(i="name");var a=t.getColumnModel(i);a&&t.view.markColumnAsSorted(a,"asc"===r)}}var o=e.getRule("keywords");o&&""!=o?t.filterByKeywords(o,{searchInFields:["username","Role.name","Profile.first_name","Profile.last_name"]}):t.isFiltered()&&t.resetFilter()})},"{passbolt.model.User} created":function(e,t,n){return this.insertItem(n,null,"first"),!1},"{passbolt.model.User} updated":function(e,t,n){-1!=this.options.items.indexOf(n)&&this.refreshItem(n)},"{users} remove":function(e,t,n){var s=this;can.each(n,function(e,t){s.removeItem(e)})},"{passbolt.model.GroupUser} destroyed":function(e,t,n){for(i in this.options.items)if(this.options.items[i].id==n.user_id)break;this.options.items.splice(i,1);for(i in this.options.selectedUsers)this.options.selectedUsers[i].id==n.user_id&&this.options.selectedUsers.splice(i,1)},"{passbolt.model.Group} updated":function(e,t,n){var s="workspace_filter_group_"+n.id,i=new RegExp("^"+s);if(null!=this.filterSettings&&this.filterSettings.id.match(i)){this.reset();var r=new passbolt.model.Filter({id:s,label:n.name+__(" (group)"),rules:{"has-groups":n.id},order:["Profile.last_name ASC"]});mad.bus.trigger("filter_workspace",r)}}," item_selected":function(e,t,n,s){this.setState("selection"),this.beforeSelect(n)&&this.select(n)}," item_right_selected":function(e,t,n,s){this.select(n),this.showContextualMenu(n,s.pageX,s.pageY,s.target)},".js_checkbox_multiple_select checked":function(e,t,n){this.state.is("ready")&&this.setState("selection");var s=mad.model.List.indexOf(this.options.items,n),i=this.options.items[s];this.beforeSelect(i)&&this.select(i)},".js_checkbox_multiple_select unchecked":function(e,t,n){var s=this,i=mad.model.List.indexOf(this.options.items,n),r=this.options.items[i];this.beforeUnselect()&&s.unselect(r),this.options.selectedUsers.length?1==this.options.selectedUsers.length&&this.setState("selection"):this.setState("ready")},"{mad.bus.element} filter_workspace":function(e,t,n){this.filterBySettings(n)},"{selectedUsers} remove":function(e,t,n){for(var s in n)this.unselect(n[s])},stateReady:function(e){},stateSelection:function(e){},stateMultipleSelection:function(e){}});e.default=a}),define("app/component/user_shortcuts",["exports","passbolt-mad/component/menu"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=passbolt.component.UserShortcuts=mad.component.Menu.extend("passbolt.component.UserShortcuts",{defaults:{}},{afterStart:function(){var e=[new mad.model.Action({id:"js_users_wsp_filter_all",label:__("All users"),filter:passbolt.component.UserWorkspace.getDefaultFilterSettings()}),new mad.model.Action({id:"js_users_wsp_filter_recently_modified",label:__("Recently modified"),filter:new passbolt.model.Filter({id:"workspace_filter_modified",label:__("Recently modified"),order:["User.modified DESC"]})})];this.load(e),this.selectItem(e[0])}," item_selected":function(e,t,n){this._super(e,t,n),n.state.is("disabled")||mad.bus.trigger("filter_workspace",n.filter)},"{mad.bus.element} filter_workspace":function(e,t,n){var s=this;this.unselectAll(),this.options.items.each(function(e){e.filter.id==n.id&&s.selectItem(e)})}});e.default=t}),define("app/view/template/component/sidebar_section/user_groups.ejs!passbolt-mad/lib/can/viewEjsSystem",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("app_view_template_component_sidebar_section_user_groups_ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push("<h4>"),___v1ew.push(can.view.txt(1,"h4",0,this,function(){return __("Groups")})),___v1ew.push('</h4>\n<ul id="js_user_groups_list" class="shared-with"></ul>\n'),___v1ew.join("")}}))}),define("app/view/template/component/sidebar_section/user_group_list_item.ejs!passbolt-mad/lib/can/viewEjsSystem",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("app_view_template_component_sidebar_section_user_group_list_item_ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push('<li id="'),___v1ew.push(can.view.txt(!0,"li","id",this,function(){return mappedItem.id})),___v1ew.push('" '),___v1ew.push(can.view.txt(1,"li",1,this,function(){return can.proxy(function(e){can.$(e).data(itemClass.fullName,item)},this)})),___v1ew.push(' class="permission usercard-col-2 '),___v1ew.push(can.view.txt(!0,"li","class",this,function(){return cssClasses.join(" ")})),___v1ew.push('"',can.view.pending({scope:this}),">"),___v1ew.push('\n\t<div class="content-wrapper">\n\t\t<div class="content">\n\t\t\t<div class="name">'),___v1ew.push(can.view.txt(1,"div",0,this,function(){return mappedItem.name})),___v1ew.push('</div>\n\t\t\t<div class="subinfo">'),___v1ew.push(can.view.txt(1,"div",0,this,function(){return mappedItem.role})),___v1ew.push('</div>\n\t\t</div>\n\t</div>\n\t<div class="avatar">\n\t\t<img '),___v1ew.push(can.view.txt(2,"img","src",this,function(){var e=[];return e.push('src="'),e.push('img/avatar/group_default.png"'),e.join("")})),___v1ew.push(">\n\t</div>\n</li>"),___v1ew.join("")}}))}),define("app/component/sidebar_section/user_groups",["exports","app/view/template/component/sidebar_section/user_groups.ejs!","app/view/template/component/sidebar_section/user_group_list_item.ejs!","app/component/sidebar_section","app/model/group"],function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0});var i=s(t),r=s(n),a=passbolt.component.sidebarSection.UserGroups=mad.Component.extend("passbolt.component.sidebarSection.UserGroups",{defaults:{label:"Sidebar Section User Groups Component",template:i.default,acoInstance:null,selectedUser:null,state:"loading"}},{afterStart:function(){var e=this,t=new mad.Map({id:"id",name:"name",role:{key:"GroupUser",func:function(t,n,s,i){return t.attr().filter(function(t){return t.user_id==e.options.selectedUser.id}).reduce(function(e,t){return t.is_admin?__("Group manager"):__("Member")},"")}}});this.groupList=new mad.component.Tree($("#js_user_groups_list"),{cssClasses:["groups","shared-with"],viewClass:mad.view.component.Tree,itemClass:passbolt.model.Group,itemTemplate:r.default,prefixItemId:"js_user_groups_list_",map:t}),this.groupList.start(),this.findUserGroups().then(function(t){e.groupList.load(t),e.setState("ready")})},findUserGroups:function(){var e={contain:{user:1},order:["Group.name ASC"],filter:{"has-users":this.options.selectedUser.id}};return passbolt.model.Group.findAll(e)},"{passbolt.model.Group} created":function(e,t,n){this.refresh()},"{passbolt.model.Group} updated":function(e,t,n){this.refresh()},"{passbolt.model.Group} deleted":function(e,t,n){this.refresh()}});e.default=a}),define("app/view/component/user_sidebar",["exports","passbolt-mad/view/view"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=passbolt.view.component.UserSidebar=passbolt.view.component.Sidebar.extend("passbolt.view.component.UserSidebar",{},{"a.copy-public-key click":function(e,t){t.stopPropagation(),t.preventDefault(),this.element.trigger("request_copy_publickey",[t])}});e.default=t}),define("app/view/template/component/user_sidebar.ejs!passbolt-mad/lib/can/viewEjsSystem",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("app_view_template_component_user_sidebar_ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push('<div class="sidebar user">\n\t<div class="header">\n\t\t<img '),___v1ew.push(can.view.txt(2,"img","src",this,function(){var e=[];return e.push('src="'),e.push(user.Profile.Avatar.url.small),e.push('"'),e.join("")})),___v1ew.push(' alt="'),___v1ew.push(can.view.txt(!0,"img","alt",this,function(){return user.Profile.first_name})),___v1ew.push(" "),___v1ew.push(can.view.txt(!0,"img","alt",this,function(){return user.Profile.last_name})),___v1ew.push(' picture"',can.view.pending({scope:this}),"/>"),___v1ew.push('\n\t\t<h3>\n\t\t\t<span class="name">'),___v1ew.push(can.view.txt(1,"span",0,this,function(){return user.Profile.first_name})),___v1ew.push(" "),___v1ew.push(can.view.txt(1,"span",0,this,function(){return user.Profile.last_name})),___v1ew.push('</span>\n\t\t\t<span class="username">'),___v1ew.push(can.view.txt(1,"span",0,this,function(){return user.username})),___v1ew.push('</span>\n\t\t</h3>\n\t</div>\n\t<a class="js_sidebar_close dialog-close">\n\t\t<i class="fa fa-close"></i>\n\t\t<span class="visuallyhidden">close</span>\n\t</a>\n\t<div class="detailed-information">\n\t\t<h4>'),___v1ew.push(can.view.txt(1,"h4",0,this,function(){return __("Information")})),___v1ew.push('</h4>\n\t\t<ul>\n\t\t\t<li class="role">\n\t\t\t\t<span class="label">'),___v1ew.push(can.view.txt(1,"span",0,this,function(){return __("Role")})),___v1ew.push('</span>\n\t\t\t\t<span class="value">'),___v1ew.push(can.view.txt(1,"span",0,this,function(){return user.Role.name.charAt(0).toUpperCase()+user.Role.name.slice(1)})),___v1ew.push('</span>\n\t\t\t</li>\n\t\t\t<li class="modified">\n\t\t\t\t<span class="label">'),___v1ew.push(can.view.txt(1,"span",0,this,function(){return __("Modified")})),___v1ew.push('</span>\n\t\t\t\t<span class="value">'),___v1ew.push(can.view.txt(1,"span",0,this,function(){return datetimeGetTimeAgo(user.modified)})),___v1ew.push('</span>\n\t\t\t</li>\n\t\t\t<li class="status">\n\t\t\t\t<span class="label">'),___v1ew.push(can.view.txt(1,"span",0,this,function(){return __("Status")})),___v1ew.push('</span>\n\t\t\t\t<span class="value">'),___v1ew.push(can.view.txt(1,"span",0,this,function(){return"1"==user.active?"Activated":"Activation pending"})),___v1ew.push("</span>\n\t\t\t</li>\n\t\t</ul>\n\t</div>\n\t"),___v1ew.push(can.view.txt(0,"div",0,this,function(){var e=[];return void 0!==user.active&&"1"!=user.active||(e.push('\n\t\x3c!-- User groups list --\x3e\n\t<div class="groups" id="js_user_groups"></div>\n\t\x3c!-- User key information --\x3e\n\t<div class="key-information">\n\t\t<h4>'),e.push(can.view.txt(1,"h4",0,this,function(){return __("Public Key")})),e.push('</h4>\n\t\t<ul>\n\t\t\t<li class="keyid">\n\t\t\t\t<span class="label">'),e.push(can.view.txt(1,"span",0,this,function(){return __("Key id")})),e.push('</span>\n\t\t\t\t<span class="value">'),e.push(can.view.txt(1,"span",0,this,function(){return user.Gpgkey.key_id})),e.push('</span>\n\t\t\t</li>\n\t\t\t<li class="type">\n\t\t\t\t<span class="label">'),e.push(can.view.txt(1,"span",0,this,function(){return __("Type")})),e.push('</span>\n\t\t\t\t<span class="value">'),e.push(can.view.txt(1,"span",0,this,function(){return user.Gpgkey.type})),e.push('</span>\n\t\t\t</li>\n\t\t\t<li class="created">\n\t\t\t\t<span class="label">'),e.push(can.view.txt(1,"span",0,this,function(){return __("Created")})),e.push('</span>\n\t\t\t\t<span class="value">'),e.push(can.view.txt(1,"span",0,this,function(){return user.Gpgkey.key_created})),e.push('</span>\n\t\t\t</li>\n\t\t\t<li class="expires">\n\t\t\t\t<span class="label">'),e.push(can.view.txt(1,"span",0,this,function(){return __("Expires")})),e.push('</span>\n\t\t\t\t<span class="value">'),e.push(can.view.txt(1,"span",0,this,function(){return user.Gpgkey.expires})),e.push('</span>\n\t\t\t</li>\n\t\t\t<li class="key">\n\t\t\t\t<span class="label">'),e.push(can.view.txt(1,"span",0,this,function(){return __("Public key")})),e.push('</span>\n\t\t\t\t<span class="value">\n\t\t\t\t\t<a class="button copy-public-key">\n\t\t\t\t\t\t<span>copy</span>\n\t\t\t\t\t</a>\n\t\t\t\t</span>\n\t\t\t</li>\n\t\t\t<li class="gpgkey">\n\t\t\t\t<textarea class="code"',can.view.pending({scope:this}),">"),e.push(can.view.txt(1,"textarea",0,this,function(){return user.Gpgkey.key})),e.push("</textarea>\n\t\t\t</li>\n\t\t</ul>\n\t</div>\n\t")),e.join("")})),___v1ew.push("\n</div>\n"),___v1ew.join("")}}))}),define("app/component/user_sidebar",["exports","app/view/template/component/user_sidebar.ejs!","passbolt-mad/view/component/tree","app/component/sidebar","app/component/sidebar_section/user_groups","app/view/component/user_sidebar"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(t),s=passbolt.component.UserSidebar=passbolt.component.Sidebar.extend("passbolt.component.UserSidebar",{defaults:{label:"User Details Controller",viewClass:passbolt.view.component.UserSidebar,template:n.default}},{beforeRender:function(){this._super(),this.setViewData("user",this.options.selectedItem)},afterStart:function(){this._super(),void 0!==this.options.selectedItem.active&&"1"!=this.options.selectedItem.active||new passbolt.component.sidebarSection.UserGroups($("#js_user_groups",this.element),{selectedUser:this.options.selectedItem}).start()}," request_copy_publickey":function(e,t){var n={name:"Public key",data:this.options.selectedItem.Gpgkey.key};mad.bus.trigger("passbolt.clipboard",n)}});e.default=s}),define("app/view/template/form/group/create.ejs!passbolt-mad/lib/can/viewEjsSystem",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("app_view_template_form_group_create_ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[],role=passbolt.model.User.getCurrent().Role.name;___v1ew.push("\n");var user=this.controller.options.data;return ___v1ew.push('\n<div class="form-content">\n    <div class="input text required clearfix js_form_element_wrapper">\n        <label for="js_field_name">'),___v1ew.push(can.view.txt(1,"label",0,this,function(){return __("Group name")})),___v1ew.push('</label>\n        <input name="passbolt.model.Group.name" class="required" maxlength="50" type="text" id="js_field_name" placeholder="group name"/>\n        <div id="js_field_name_feedback" class="message">\n        </div>\n    </div>\n</div>\n'),___v1ew.join("")}}))}),define("app/form/group/create",["exports","app/view/template/form/group/create.ejs!","passbolt-mad/form/form","passbolt-mad/form/element/textbox","app/model/group"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(t);passbolt.form.group=passbolt.form.group?passbolt.form.group:{};var s=passbolt.form.group.Create=mad.Form.extend("passbolt.form.group.Create",{defaults:{action:"create",template:n.default,cssClasses:["group_edit_form"],canUpdateName:!0}},{afterStart:function(){this.addElement(new mad.form.Textbox($("#js_field_name"),{modelReference:"passbolt.model.Group.name"}).start(),new mad.form.Feedback($("#js_field_name_feedback"),{}).start()),0==this.options.canUpdateName&&$("#js_field_name").attr("disabled","disabled"),this.on()}});e.default=s}),define("app/model/group_user",["exports","passbolt-mad/model/model","passbolt-mad/model/serializer/cake_serializer"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=passbolt.model.GroupUser=mad.Model.extend("passbolt.model.GroupUser",{validateRules:{},attributes:{id:"string",group_id:"string",user_id:"string",User:"passbolt.model.User.model",Group:"passbolt.model.Group.model"},membershipType:{0:__("Member"),1:__("Group manager")},create:function(e,t,n){var s=this,i=mad.model.serializer.CakeSerializer.to(e,this);return mad.net.Ajax.request({url:APP_URL+"groupsUsers",type:"POST",params:i,success:t,error:n}).pipe(function(e,t,n){var i=$.Deferred();return i.resolveWith(this,[mad.model.serializer.CakeSerializer.from(e,s)]),i})},destroy:function(e,t,n){var s={id:e};return mad.net.Ajax.request({url:APP_URL+"groupsUsers/{id}",type:"DELETE",params:s,success:t,error:n})},findOne:function(e,t,n){return e.children=e.children||!1,mad.net.Ajax.request({url:APP_URL+"groupsUsers/{id}.json",type:"GET",params:e,success:t,error:n})},findAll:function(e,t,n){return mad.net.Ajax.request({url:APP_URL+"groupsUsers.json",type:"GET",params:e,success:t,error:n})},update:function(e,t,n,s){var i=this;delete t.created,delete t.modified;var r=mad.model.serializer.CakeSerializer.to(t,this);return r.id=e,mad.net.Ajax.request({url:APP_URL+"groupsUsers/{id}",type:"PUT",params:r,success:n,error:s}).pipe(function(e,t,n){var s=$.Deferred();return s.resolveWith(this,[mad.model.serializer.CakeSerializer.from(e,i)]),s})}},{});e.default=t}),define("app/view/template/component/group_edit.ejs!passbolt-mad/lib/can/viewEjsSystem",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("app_view_template_component_group_edit_ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push('<form id="js_group_edit_form"></form>\n<div id="js_group_members" class="group_members">\n    <div class="form-content">\n        <div class="input required">\n            <label for="js_field_group_permission">Group members</label>\n        </div>\n    </div>\n    <div class="form-content permission-edit">\n        <ul id="js_permissions_list" class="permissions scroll">\n        </ul>\n        <div class="message warning feedback hidden"></div>\n    </div>\n</div>\n<div id="js_group_members_add" class="js_plugin_group_edit_wrapper permission-add">\n    <div id="passbolt-group-edit-autocomplete-wrapper"></div>\n</div>\n<div class="submit-wrapper clearfix">\n    <a class="button primary" id="js_group_save">'),___v1ew.push(can.view.txt(1,"a",0,this,function(){return __("save")})),___v1ew.push('</a>\n    <a class="js-dialog-cancel cancel">'),___v1ew.push(can.view.txt(1,"a",0,this,function(){return __("cancel")})),___v1ew.push("</a>\n</div>\n"),___v1ew.join("")}}))}),define("app/view/component/group_edit",["passbolt-mad/view/view","app/view/template/component/group_edit.ejs!"],function(){"use strict";passbolt.view.component.GroupEdit=mad.View.extend("passbolt.view.component.GroupEdit",{},{" .js_group_user_delete click":function(e,t){t.stopPropagation(),t.preventDefault();var n=e.parents("li").data("passbolt.model.GroupUser");this.element.trigger("request_group_user_delete",[n])}," .js_group_user_is_admin changed":function(e,t,n){t.stopPropagation(),t.preventDefault();var s=e.parents("li").data("passbolt.model.GroupUser");this.element.trigger("request_group_user_edit",[s,n.value])}})}),define("app/view/template/component/group/group_user_list_item.ejs!passbolt-mad/lib/can/viewEjsSystem",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("app_view_template_component_group_group_user_list_item_ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){for(var ___v1ew=[],fingerprint="",i=0;i<mappedItem.userFingerprint.length;i++)fingerprint+=mappedItem.userFingerprint[i],(i+1)%4==0&&(fingerprint+=" ");return ___v1ew.push('\n<li id="'),___v1ew.push(can.view.txt(!0,"li","id",this,function(){return mappedItem.id})),___v1ew.push('" '),___v1ew.push(can.view.txt(1,"li",1,this,function(){return can.proxy(function(e){can.$(e).data(itemClass.fullName,item)},this)})),___v1ew.push(' class="row '),___v1ew.push(can.view.txt(!0,"li","class",this,function(){return mappedItem.isNew?"permission-updated ":""})),___v1ew.push(can.view.txt(!0,"li","class",this,function(){return cssClasses.join(" ")})),___v1ew.push('"',can.view.pending({scope:this}),">"),___v1ew.push('\n    <div class="avatar">\n        <img '),___v1ew.push(can.view.txt(2,"img","src",this,function(){var e=[];return e.push('src="'),e.push(mappedItem.userAvatarPath),e.push('"'),e.join("")})),___v1ew.push("",can.view.pending({scope:this}),"/>"),___v1ew.push('\n    </div>\n    <div class="user">\n        <div class="details">\n            <span class="name">'),___v1ew.push(can.view.txt(1,"span",0,this,function(){return mappedItem.userLabel})),___v1ew.push('</span>\n            <div href="#" class="more_details tooltip-alt">\n                <i class="fa fa-info-circle"></i>\n                <div class="tooltip-text right">\n                    <div class="email">'),___v1ew.push(can.view.txt(1,"div",0,this,function(){return mappedItem.userEmail})),___v1ew.push('</div>\n                    <div class="fingerprint">'),___v1ew.push(can.view.txt(1,"div",0,this,function(){return fingerprint})),___v1ew.push('</div>\n                </div>\n            </div>\n        </div>\n        <div class="permission_changes">\n            <span>'),___v1ew.push(can.view.txt(1,"span",0,this,function(){return mappedItem.isNew?__("Will be added"):__("Unchanged")})),___v1ew.push('</span>\n        </div>\n    </div>\n    <div class="select rights">\n        <form id="js_group_user_is_admin_select_'),___v1ew.push(can.view.txt(!0,"form","id",this,function(){return mappedItem.id})),___v1ew.push('" class="js_group_user_is_admin_form"',can.view.pending({scope:this}),">"),___v1ew.push('\n            <select class="js_group_user_is_admin permission">\n            </select>\n        </form>\n    </div>\n    <div class="actions">\n        <a class="js_group_user_delete close" title="'),___v1ew.push(can.view.txt(!0,"a","title",this,function(){return __("remove")})),___v1ew.push('"',can.view.pending({scope:this}),">"),___v1ew.push('\n            <i class="fa fa-times-circle"></i>\n            <span class="visuallyhidden">'),___v1ew.push(can.view.txt(1,"span",0,this,function(){return __("remove")})),___v1ew.push("</span>\n        </a>\n    </div>\n</li>\n"),___v1ew.join("")}}))}),define("app/component/group_edit",["exports","app/view/template/component/group_edit.ejs!","app/view/template/component/group/group_user_list_item.ejs!","passbolt-mad/component/component","passbolt-mad/form/form","app/form/group/create","app/model/group_user","app/view/component/group_edit"],function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0});var i=s(t),r=s(n),a=passbolt.component.GroupEdit=mad.Component.extend("passbolt.component.GroupEdit",{defaults:{label:null,resource:null,cssClasses:["share-tab"],viewClass:passbolt.view.component.GroupEdit,template:i.default,GroupUserChanges:[],state:"loading",data:{Group:{}}}},{afterStart:function(){this.options.data.Group=this.options.data.Group||{},this.group=this.options.data.Group,this.formState=void 0==this.group.id?"create":"edit",this.changeList=[],this.isAdmin="admin"==passbolt.model.User.getCurrent().Role.name,this.isGroupManager="edit"==this.formState&&this.group.isGroupManager(passbolt.model.User.getCurrent()),this.formGroup=new passbolt.form.group.Create($("#js_group_edit_form"),{data:this.group,canUpdateName:!(this.isGroupManager&&!this.isAdmin),callbacks:{}}),this.formGroup.start(),this.formGroup.load(this.group),this.groupUserList=new mad.component.Tree($("#js_permissions_list"),{cssClasses:["group_user"],viewClass:mad.view.component.Tree,itemClass:passbolt.model.GroupUser,itemTemplate:r.default,map:new mad.Map({id:"id",userAvatarPath:{key:"User",func:function(e,t,n){return e.Profile.avatarPath("small")}},userLabel:{key:"User",func:function(e,t,n){return e.Profile.first_name+" "+e.Profile.last_name}},userEmail:{key:"User",func:function(e,t,n){return e.username}},userFingerprint:{key:"User",func:function(e,t,n){return e.Gpgkey.fingerprint}},isAdmin:{key:"is_admin",func:function(e,t,n){return e}},isNew:{key:"isNew",func:function(e,t,n){return e}}})}),this.groupUserList.start(),mad.bus.trigger("passbolt.plugin.group_edit",{groupId:void 0!=this.group.id?this.group.id:"",canAddGroupUsers:"create"==this.formState||this.isGroupManager}),this.options.saveChangesButton=new mad.component.Button($("#js_group_save"),{state:"disabled"}).start(),"create"==this.formState&&$(".group_members").addClass("empty"),"create"==this.formState&&(this.options.state="ready"),this.showFeedback(),this.on()},showFeedback:function(){var e=[];"create"==this.formState&&0==this.groupUserList.options.items.length&&e.push(__("The group is empty, please add a group manager.")),"edit"!=this.formState||this.isGroupManager||e.push(__("Only the group manager can add new people to a group.")),this.changeList.length&&e.push(__("You need to click save for the changes to take place.")),$(".message.feedback").empty(),e.length?(e.forEach(function(e){$(".message.feedback").append("<span>"+e+"</span>")}),$(".message.feedback").removeClass("hidden")):$(".message.feedback").addClass("hidden")},loadGroupUser:function(e){var t=e.id,n="#js_group_user_is_admin_select_"+t,s="#"+t,i=passbolt.model.GroupUser.membershipType;this.groupUserList.insertItem(e),new mad.form.Dropdown($(".js_group_user_is_admin",n),{id:"js_group_user_is_admin_"+t,emptyValue:!1,modelReference:"passbolt.model.GroupUser.is_admin",availableValues:i,state:"ready"}).start().setValue(e.is_admin?1:0),new mad.component.Button($(".js_group_user_delete",$(".actions",s)),{id:"js_group_user_delete_"+t,state:"ready"}).start()},addGroupUser:function(e){void 0==e.id?(e.id=uuid(),e.isNew=!0):e.isNew=!1;var e=passbolt.model.GroupUser.model(e);this.loadGroupUser(e),$(".group_members").removeClass("empty"),this.checkManager()},deleteGroupUser:function(e){this.groupUserList.removeItem(e),0==this.groupUserList.options.items.length&&$(".group_members").addClass("empty"),mad.bus.trigger("passbolt.group.edit.remove_group_user",{groupUser:{id:e.attr("id"),user_id:e.attr("user_id"),group_id:e.attr("group_id"),is_admin:e.attr("is_admin"),isNew:e.attr("isNew")}}),this.checkManager()},editGroupUser:function(e,t){e.attr("is_admin",1==t||1==t?1:0),mad.bus.trigger("passbolt.group.edit.edit_group_user",{groupUser:{id:e.attr("id"),user_id:e.attr("user_id"),group_id:e.attr("group_id"),is_admin:e.attr("is_admin"),isNew:e.attr("isNew")}}),this.checkManager()},checkManager:function(){var e=[],t=!1;if(this.groupUserList.options.items.each(function(t){var n=!1;1!=t.is_admin&&1!=t.is_admin||(n=!0),1==n&&e.push(t)}),t=e.length>=1,1==e.length){var n="js_group_user_is_admin_"+e[0].id,s="js_group_user_delete_"+e[0].id,i=mad.getControl(n,"mad.form.Dropdown"),r=mad.getControl(s,"mad.component.Button");i.setState("disabled"),r.setState("disabled")}else if(e.length>1)for(var a in e){var n="js_group_user_is_admin_"+e[a].id,s="js_group_user_delete_"+e[a].id,i=mad.getControl(n,"mad.form.Dropdown"),r=mad.getControl(s,"mad.component.Button");i.setState("ready"),r.setState("ready")}return 1==t?this.options.saveChangesButton.setState("ready"):this.options.saveChangesButton.setState("disabled"),t},setGroupUserItemState:function(e,t){var n=this.groupUserList.view.getItemElement({id:e});if(null==t)n.removeClass("permission-updated"),$(".permission_changes span",n).text(__("Unchanged"));else{n.addClass("permission-updated");var s="created"==t?__("Will be added"):__("Will be updated");$(".permission_changes span",n).text(s)}},"{saveChangesButton.element} click":function(e,t){if(this.state.is("ready")){var n=this.formGroup.validate(),s=this.checkManager();if(1==n&&1==s){var i={name:this.formGroup.getData()["passbolt.model.Group"].name};mad.bus.trigger("passbolt_loading"),mad.bus.trigger("passbolt.group.edit.save",{group:i}),this.setState("loading"),this.options.saveChangesButton.setState("processing")}}},"{mad.bus.element} passbolt.plugin.group.edit.group_loaded":function(e,t,n){n=passbolt.model.Group.model(n),this.formGroup.load(n);var s=this;n.GroupUser.each(function(e){s.addGroupUser(e)}),this.options.state="ready",this.setState("ready")},"{mad.bus.element} passbolt.group.edit.add_user":function(e,t,n){this.addGroupUser(n)},"{mad.bus.element} passbolt.plugin.group.edit.group_users_updated":function(e,t,n){var s=this;s.changeList=n.changeList,setTimeout(function(){s.groupUserList.options.items.each(function(e){var t=e.user_id,i=e.id,r=_.findWhere(n.changeList,{user_id:t});void 0!=r?"created"!=r.status&&"updated"!=r.status||s.setGroupUserItemState(i,r.status):s.setGroupUserItemState(i,null)}),s.showFeedback()},0)},"{mad.bus.element} group_edit_save_success":function(e,t,n){var s=passbolt.model.Group.model(n);can.trigger(passbolt.model.Group,"create"==this.formState?"created":"updated",s),mad.bus.trigger("passbolt_loading_complete"),mad.bus.trigger("passbolt_notify",{status:"success",title:"app_groups_"+("create"==this.formState?"add":"edit")+"_success",data:n}),this.setState("ready"),this.options.saveChangesButton.setState("ready"),this.closest(mad.component.Dialog).remove()},"{mad.bus.element} group_edit_save_error":function(e,t,n){400==n.header.status_code?void 0!=n.body.Group.name?this.formGroup.showErrors(n.body):console.error("Validation error while saving group",n):console.error("Unknown error while saving group",n),mad.bus.trigger("passbolt_loading_complete"),mad.bus.trigger("passbolt_notify",{status:"error",title:"app_groups_add_error",data:n}),this.setState("ready"),this.options.saveChangesButton.setState("ready")}," request_group_user_delete":function(e,t,n){this.deleteGroupUser(n)}," request_group_user_edit":function(e,t,n,s){this.editGroupUser(n,s)}});e.default=a}),define("app/view/component/group_sidebar",["exports","passbolt-mad/view/view"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=passbolt.view.component.GroupSidebar=passbolt.view.component.Sidebar.extend("passbolt.view.component.GroupSidebar",{},{"a#js_edit_members_button click":function(e,t){t.preventDefault(),this.element.trigger("request_group_edition")}});e.default=t}),define("app/view/template/component/group_sidebar.ejs!passbolt-mad/lib/can/viewEjsSystem",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("app_view_template_component_group_sidebar_ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];___v1ew.push('<div class="sidebar group">\n    <div class="header">\n        <img '),___v1ew.push(can.view.txt(2,"img","src",this,function(){var e=[];return e.push('src="'),e.push('img/avatar/group_default.png"'),e.join("")})),___v1ew.push('>\n        <h3>\n            <span class="name">'),___v1ew.push(can.view.txt(1,"span",0,this,function(){return group.name})),___v1ew.push('</span>\n            <span class="type">group</span>\n        </h3>\n    </div>\n    <a href="#" class="js_sidebar_close dialog-close">\n        <i class="fa fa-fw fa-close"></i><span class="visuallyhidden">close</span>\n    </a>\n    <div class="detailed-information">\n        <h4>Information</h4>\n        <ul>\n            <li class="created">\n                <span class="label">Created</span>\n                ');var created=datetimeGetTimeAgo(group.attr("created"));return ___v1ew.push('\n                <span class="value">'),___v1ew.push(can.view.txt(1,"span",0,this,function(){return created})),___v1ew.push('</span>\n            </li>\n            <li class="modified">\n                <span class="label">Modified</span>\n                <span class="value">'),___v1ew.push(can.view.txt(1,"span",0,this,function(){return datetimeGetTimeAgo(group.modified)})),___v1ew.push('</span>\n            </li>\n            <li class="modified_by">\n                <span class="label">Modified By</span>\n                <span class="value">'),___v1ew.push(can.view.txt(1,"span",0,this,function(){return group.Modifier?group.Modifier.Profile.fullName():""})),___v1ew.push('</span>\n            </li>\n            <li class="members">\n                <span class="label">Members</span>\n                <span class="value">'),___v1ew.push(can.view.txt(1,"span",0,this,function(){return group.GroupUser?group.GroupUser.length:""})),___v1ew.push('</span>\n            </li>\n            \x3c!-- <li class="members">\n                <span class="label">Passwords</span>\n                <span class="value">20</span>\n            </li>--\x3e\n        </ul>\n    </div>\n    <div id="js_group_details_members" class="members">\n        <h4>Group Members</h4>\n        '),___v1ew.push(can.view.txt(0,"div",0,this,function(){var e=[];return editable&&e.push('\n        <a id="js_edit_members_button" class="section-action" href="#">\n            <i class="fa fa-fw fa-edit"></i>\n            <span class="visuallyhidden">modify</span>\n        </a>\n        '),e.join("")})),___v1ew.push('\n        <div>\n            <ul id="js_group_details_group_members_list" class="shared-with ready"></ul>\n        </div>\n    </div>\n</div>\n'),___v1ew.join("")}}))}),define("app/view/template/component/sidebar_section/group_members_list_item.ejs!passbolt-mad/lib/can/viewEjsSystem",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("app_view_template_component_sidebar_section_group_members_list_item_ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push('<li id="'),___v1ew.push(can.view.txt(!0,"li","id",this,function(){return mappedItem.id})),___v1ew.push('" '),___v1ew.push(can.view.txt(1,"li",1,this,function(){return can.proxy(function(e){can.$(e).data(itemClass.fullName,item)},this)})),___v1ew.push(' class="usercard-col-2 '),___v1ew.push(can.view.txt(!0,"li","class",this,function(){return cssClasses.join(" ")})),___v1ew.push('"',can.view.pending({scope:this}),">"),___v1ew.push('\n    <div class="content-wrapper">\n        <div class="content">\n            <div class="name">'),___v1ew.push(can.view.txt(1,"div",0,this,function(){return mappedItem.userFullName})),___v1ew.push('</div>\n            <div class="subinfo">'),___v1ew.push(can.view.txt(1,"div",0,this,function(){return mappedItem.membershipType})),___v1ew.push('</div>\n        </div>\n    </div>\n    <div class="avatar">\n        <img '),___v1ew.push(can.view.txt(2,"img","src",this,function(){var e=[];return e.push('src="'),e.push(mappedItem.userAvatarPath),e.push('"'),e.join("")})),___v1ew.push(' alt="picture of '),___v1ew.push(can.view.txt(!0,"img","alt",this,function(){return mappedItem.userFullName})),___v1ew.push('"',can.view.pending({scope:this}),">"),___v1ew.push("\n    </div>\n</li>\n"),___v1ew.join("")}}))}),define("app/component/group_sidebar",["exports","app/view/template/component/group_sidebar.ejs!","app/view/template/component/sidebar_section/group_members_list_item.ejs!","passbolt-mad/view/component/tree","app/model/group","app/model/group_user","app/component/sidebar","app/view/component/group_sidebar"],function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0});var i=s(t),r=s(n),a=passbolt.component.GroupSidebar=passbolt.component.Sidebar.extend("passbolt.component.GroupSidebar",{defaults:{label:"Group Details Controller",viewClass:passbolt.view.component.GroupSidebar,template:i.default}},{beforeRender:function(){this._super();var e=passbolt.model.User.getCurrent();this.setViewData("editable",this.options.selectedItem.isAllowedToEdit(e)),this.setViewData("group",this.options.selectedItem)},_refreshView:function(){this.element.empty(),this.beforeRender();var e=this.view.render();e=this.afterRender(e),this.view.insertInDom(e)},afterStart:function(){var e=this;this._super();var t={id:this.options.selectedItem.id,contain:{modifier:1,"group_user.user.profile":1}};passbolt.model.Group.findOne(t).then(function(t){e.options.selectedItem=t,e._refreshView(),e.initGroupMembersList(t.GroupUser),e.on()})},initGroupMembersList:function(e){var t=new mad.Map({id:"id",userFullName:{key:"User.Profile",func:function(e){return e.first_name+" "+e.last_name}},membershipType:{key:"is_admin",func:function(e){return passbolt.model.GroupUser.membershipType[e?1:0]}},userAvatarPath:{key:"User.Profile",func:function(e){return e.avatarPath("small")}}});this.options.groupMembersList=new mad.component.Tree($("#js_group_details_group_members_list"),{label:"Group Members List Controller",itemClass:passbolt.model.GroupUser,itemTemplate:r.default,map:t}),this.options.groupMembersList.start(),this.options.groupMembersList.load(e)}," request_group_edition":function(e,t){mad.bus.trigger("request_group_edition",this.options.selectedItem)},"{mad.bus.element} user_selected":function(e,t,n){this.state.is(null)||this.state.is("hidden")||this.setState("hidden")}});e.default=a}),define("app/view/template/user_workspace.ejs!passbolt-mad/lib/can/viewEjsSystem",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("app_view_template_user_workspace_ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push('<div class="js_users_workspace">\n    <div class="panel left">\n\t\t<div class="navigation first shortcuts">\n\t\t\t<ul id="js_wsp_users_filter_shortcuts" class="clearfix">\n\t\t\t</ul>\n\t\t</div>\n        <div class="navigation flat tree groups" id="js_wsp_users_groups"></div>\n    </div>\n    <div class="panel middle">\n        <div id="js_wsp_users_breadcrumb" class="breadcrumbs">\n        </div>\n        <div id="js_wsp_users_browser" class="tableview">\n        </div>\n    </div>\n    <div class="panel aside js_wsp_users_sidebar_second">\n    </div>\n    <div class="panel aside js_wsp_groups_sidebar_second">\n    </div>\n</div>'),___v1ew.join("")}}))}),define("app/view/template/component/create_button_dropdown.ejs!passbolt-mad/lib/can/viewEjsSystem",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("app_view_template_component_create_button_dropdown_ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push('<i class="fa fa-fw fa-plus-circle"></i>\n<span>create</span>'),___v1ew.join("")}}))}),define("app/view/template/component/user/user_delete_error_dialog.ejs!passbolt-mad/lib/can/viewEjsSystem",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("app_view_template_component_user_user_delete_error_dialog_ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push(can.view.txt(0,"",0,this,function(){var e=[];return this.resources&&(e.push("\n"),e.push(can.view.txt(1,"",0,this,function(){return __("This user is the sole owner of %s %s",resources.length,resources.length>1?__("passwords"):__("password"))})),e.push(":\n"),e.push(can.view.txt(0,"",0,this,function(){var e=[];for(var t in resources)e.push(can.view.txt(1,"",0,this,function(){return(0!=t?", ":"")+resources[t].Resource.name}));return e.join("")})),e.push(".\n<br/>\n")),e.join("")})),___v1ew.push("\n"),___v1ew.push(can.view.txt(0,"",0,this,function(){var e=[];return this.groups&&(e.push("\n"),e.push(can.view.txt(1,"undefined",0,this,function(){return __("This user is the sole manager of %s %s",groups.length,groups.length>1?__("groups"):__("group"))})),e.push(":\n"),e.push(can.view.txt(0,"",0,this,function(){var e=[];for(var t in groups)e.push(can.view.txt(1,"undefined",0,this,function(){return(0!=t?", ":"")+groups[t].Group.name}));return e.join("")})),e.push(".\n<br/>\n")),e.join("")})),___v1ew.push("\n<br/>\n"),___v1ew.push(can.view.txt(1,"undefined",0,this,function(){return __("You need to transfer the ownership to other users before you can proceed.")})),___v1ew.push("\n"),___v1ew.join("")}}))}),define("app/component/user_workspace",["exports","app/view/template/user_workspace.ejs!","app/view/template/component/create_button.ejs!","app/view/template/component/create_button_dropdown.ejs!","app/view/template/component/user/user_delete_error_dialog.ejs!","passbolt-mad/component/component","passbolt-mad/component/dialog","passbolt-mad/component/confirm","app/component/people_workspace_menu","app/component/workspace_secondary_menu","app/component/people_breadcrumb","app/component/groups","app/component/user_browser","app/component/user_shortcuts","app/component/user_sidebar","app/component/group_edit","app/component/group_sidebar","app/form/user/create","app/model/user","app/model/filter"],function(e,t,n,s,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0});var o=a(t),u=a(n),d=(a(s),a(r)),l=passbolt.component.UserWorkspace=mad.Component.extend("passbolt.component.UserWorkspace",{defaults:{label:"User",template:o.default,selectedUsers:new can.Model.List,selectedGroups:new can.Model.List,filter:null,silentLoading:!1,filterSettings:null},getDefaultFilterSettings:function(){return new passbolt.model.Filter({id:"default",label:__("All users"),order:["Profile.last_name ASC"]})}},{afterStart:function(){var e=passbolt.model.User.getCurrent().Role.name;if(mad.helper.Component.create($("#js_wsp_primary_menu_wrapper"),"last",passbolt.component.PeopleWorkspaceMenu,{selectedUsers:this.options.selectedUsers,selectedGroups:this.options.selectedGroups}).start(),mad.helper.Component.create($("#js_wsp_secondary_menu_wrapper"),"last",passbolt.component.WorkspaceSecondaryMenu,{selectedItems:this.options.selectedUsers}).start(),"admin"==e){var t=this,n=[new mad.model.Action({id:uuid(),label:__("New user"),cssClasses:["create-user"],action:function(){t.options.createButton.view.close(),mad.bus.trigger("request_user_creation")}}),new mad.model.Action({id:uuid(),label:__("New group"),cssClasses:["create-group"],action:function(){t.options.createButton.view.close(),mad.bus.trigger("request_group_creation")}})];this.options.createButton=mad.helper.Component.create($(".main-action-wrapper"),"last",mad.component.ButtonDropdown,{id:"js_wsp_create_button",template:u.default,tag:"a",cssClasses:["button","primary"],items:n}).start()}this.breadcrumCtl=new passbolt.component.PeopleBreadcrumb($("#js_wsp_users_breadcrumb"),{}),this.breadcrumCtl.start(),this.userShortcut=new passbolt.component.UserShortcuts("#js_wsp_users_filter_shortcuts",{}),this.userShortcut.start(),new passbolt.component.Groups("#js_wsp_users_groups",{selectedGroups:this.options.selectedGroups}).start(),new passbolt.component.UserBrowser("#js_wsp_users_browser",{selectedUsers:this.options.selectedUsers}).start(),new passbolt.component.UserSidebar($(".js_wsp_users_sidebar_second",this.element),{id:"js_user_details",selectedItems:this.options.selectedUsers}),$(".js_wsp_users_sidebar_second",this.element).hide(),new passbolt.component.GroupSidebar($(".js_wsp_groups_sidebar_second",this.element),{id:"js_group_details",selectedItems:this.options.selectedGroups}),$(".js_wsp_groups_sidebar_second",this.element).hide();var s=null;s=void 0==this.options.filterSettings?this.constructor.getDefaultFilterSettings():this.options.filterSettings,mad.bus.trigger("filter_workspace",s),this.on()},destroy:function(){$("#js_wsp_primary_menu_wrapper").empty(),$("#js_wsp_secondary_menu_wrapper").empty(),$(".main-action-wrapper").empty(),this.options.selectedUsers.splice(0,this.options.selectedUsers.length),this._super()},openEditGroupDialog:function(e){new mad.component.Dialog(null,{label:void 0==e.id||""==e.id?__("Create group"):__("Edit group"),cssClasses:["edit-group-dialog","dialog-wrapper"]}).start().add(passbolt.component.GroupEdit,{id:"js_edit_group",data:{Group:e}})},deleteGroup:function(e){e.deleteDryRun(e.id).then(function(t){var n=__('You are about to delete the group "%s"!',e.name),s="";0==t.length?s=__("This group is not associated with any password. You are good to go!"):t.length>0&&(s=__("This group is associated with %s passwords. All users in this group will lose access to these passwords.",t.length)),new mad.component.Confirm(null,{label:__("Are you sure ?"),subtitle:n,content:s,submitButton:{label:__("delete group"),cssClasses:["warning"]},action:function(){e.destroy()}}).start()},function(t){var n=t.responseJSON.body,s="";n.forEach(function(e,t){s+=t>0?", "+e.Resource.name:e.Resource.name});var i=__('You are trying to delete the group "%s"!',e.name),r=__("This group is the sole owner of %s %s: %s. You need to transfer the ownership to other users before you can proceed.",n.length,n.length>1?__("passwords"):__("password"),s);new mad.component.Confirm(null,{label:__("You cannot delete this group!"),subtitle:i,content:r,submitButton:{label:__("Got it!"),cssClasses:[]},action:function(){mad.component.Confirm.closeLatest()}}).start()})},requestUserDeleteConfirmation:function(e){new mad.component.Confirm(null,{label:__("Do you really want to delete user ?"),content:__("Please confirm you really want to delete the user. After clicking ok, the user will be <strong>deleted permanently</strong>."),submitButton:{label:__("delete user"),cssClasses:["warning"]},action:function(){e.destroy()}}).start()},displayDeleteUserErrorDialog:function(e,t){new mad.component.Confirm(null,{label:__("You cannot delete this user!"),subtitle:__('You are trying to delete the user "%s"!',e.Profile.fullName()),content:mad.View.render(d.default,t),submitButton:{label:__("Got it!"),cssClasses:[]},action:function(){mad.component.Confirm.closeLatest()}}).start()},deleteUser:function(e){var t=this;e.deleteDryRun(e.id).then(function(){t.requestUserDeleteConfirmation(e)}).then(null,function(n){if(n.responseJSON.body){var s=n.responseJSON.body;t.displayDeleteUserErrorDialog(e,s)}})},"{mad.bus.element} filter_workspace":function(e,t,n){void 0!==n.name&&"all"==n.name&&this.options.selectedGroups.splice(0,this.options.selectedGroups.length),this.options.selectedUsers.splice(0,this.options.selectedUsers.length),this.breadcrumCtl.load(n)},"{mad.bus.element} request_group_creation":function(e,t,n){var s=new passbolt.model.Group;this.openEditGroupDialog(s)},"{mad.bus.element} request_group_edition":function(e,t,n){this.openEditGroupDialog(n)},"{mad.bus.element} request_group_deletion":function(e,t,n){this.deleteGroup(n)},"{mad.bus.element} request_user_creation":function(e,t,n){var s=new passbolt.model.User({active:1}),i=new mad.component.Dialog(null,{label:__("Add User"),cssClasses:["create-user-dialog","dialog-wrapper"]}).start(),r=i.add(passbolt.form.user.Create,{data:s,action:"create",callbacks:{submit:function(e){new passbolt.model.User(e["passbolt.model.User"]).save(function(){i.remove()},function(e){r.showErrors(JSON.parse(e.responseText).body)})}}});r.load(s)},"{mad.bus.element} request_user_edition":function(e,t,n){n=this.options.selectedUsers[0];var s=new mad.component.Dialog(null,{label:__("Edit User"),cssClasses:["edit-user-dialog","dialog-wrapper"]}).start(),i=s.add(passbolt.form.user.Create,{data:n,action:"edit",callbacks:{submit:function(e){n.attr(e["passbolt.model.User"]).save(function(){s.remove()},function(e){i.showErrors(JSON.parse(e.responseText).body)})}}});i.load(n)},"{mad.bus.element} request_user_deletion":function(e,t,n){this.deleteUser(n)},"{mad.bus.element} request_remove_user_from_group":function(e,t,n,s){if(0!=s.attr("length")&&0!=n.attr("length")){var r=s[0].id;for(i in n)for(j in n[i].GroupUser)n[i].GroupUser[j].group_id==r&&n[i].GroupUser[j].destroy()}},"{mad.bus.element} reset_filters":function(e,t){var n=passbolt.model.Filter.model({name:"all"});mad.bus.trigger("filter_workspace",n),this.userShortcut.selectItem(this.userShortcut.options.items[0])}});e.default=l}),define("app/component/app_navigation_left",["exports","passbolt-mad/component/menu"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=passbolt.component.AppNavigationLeft=mad.component.Menu.extend("passbolt.component.AppNavigationLeft",{defaults:{selected:null}},{afterStart:function(){var e=this,t=[new mad.model.Action({id:"js_app_nav_left_home_link",label:__("home"),cssClasses:["home"],action:function(){e.options.selected="home",mad.bus.trigger("request_workspace","password")}}),new mad.model.Action({id:"js_app_nav_left_password_wsp_link",label:__("passwords"),cssClasses:["password"],action:function(){e.options.selected="password",mad.bus.trigger("request_workspace","password")}}),new mad.model.Action({id:"js_app_nav_left_user_wsp_link",label:__("users"),cssClasses:["user"],action:function(){e.options.selected="user",mad.bus.trigger("request_workspace","user")}})];this.load(t)},"{mad.bus.element} request_workspace":function(e,t,n,s){if(this.options.selected!=n){var i=$("li."+n),r=this.getItemClass();if(r){var a=i.data(r.fullName);void 0!==a&&this.selectItem(a)}}}});e.default=t}),define("app/component/app_navigation_right",["passbolt-mad/component/menu"],function(){"use strict";passbolt.component.AppNavigationRight=mad.component.Menu.extend("passbolt.component.AppNavigationRight",{defaults:{}},{afterStart:function(){var e=[new mad.model.Action({id:uuid(),label:__("logout"),cssClasses:["logout"],action:function(){document.location.href=APP_URL+"/auth/logout"}})];this.load(e)}})}),define("app/view/template/component/app_filter.ejs!passbolt-mad/lib/can/viewEjsSystem",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("app_view_template_component_app_filter_ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push('<form id="js_app_filter_form" class="search">\n    <div class="input search required">\n        <label for="js_app_filter_keywords"> Search</label>\n        <input id="js_app_filter_keywords" class="required" maxlength="50" type="search" placeholder="search" />\n    </div>\n    <button value="search">\n        <i class="fa fa-fw fa-search"></i>\n        <span class="text visuallyhidden">search</span>\n    </button>\n</form>'),___v1ew.join("")}}))}),define("app/view/component/app_filter",["exports","passbolt-mad/view/view","app/view/template/component/app_filter.ejs!"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=passbolt.view.component.AppFilter=mad.View.extend("passbolt.view.component.AppFilter",{defaults:{}},{"form submit":function(e,t){this.element.trigger("update")}});e.default=t}),define("app/component/app_filter",["exports","app/view/template/component/app_filter.ejs!","passbolt-mad/component/component","passbolt-mad/form/form","passbolt-mad/form/element/textbox","app/view/component/app_filter","app/model/filter"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(t),s=passbolt.component.AppFilter=mad.Component.extend("passbolt.component.AppFilter",{defaults:{template:n.default,viewClass:passbolt.view.component.AppFilter}},{workspace:null,afterStart:function(){this.filterForm=new mad.Form("#js_app_filter_form",{}),this.filterForm.start();var e=this.filterForm.addElement(new mad.form.Textbox("#js_app_filter_keywords",{onChangeTimeout:200,modelReference:"passbolt.model.Filter.keywords"}));e.start(),this.options.keywordsFormElement=e,this.on()},reset:function(){this.options.keywordsFormElement.setValue("")},"{keywordsFormElement.element} changed":function(e,t,n){var s=this,i=this.filterForm.getData()["passbolt.model.Filter"].keywords,r=null;this.workspace instanceof passbolt.component.SettingsWorkspace?((r=passbolt.component.UserWorkspace.getDefaultFilterSettings()).setRule("keywords",i),mad.bus.trigger("request_workspace",["user",{filterSettings:r}])):((r=s.workspace.constructor.getDefaultFilterSettings()).setRule("keywords",i),mad.bus.trigger("filter_workspace",r))},"{mad.bus.element} workspace_enabled":function(e,t,n){this.workspace=n,this.workspace instanceof passbolt.component.PasswordWorkspace?this.options.keywordsFormElement.element.attr("placeholder","search passwords"):this.workspace instanceof passbolt.component.UserWorkspace?this.options.keywordsFormElement.element.attr("placeholder","search user"):this.workspace instanceof passbolt.component.SettingsWorkspace&&(this.options.keywordsFormElement.element.attr("placeholder","search user"),this.reset())},"{mad.bus.element} filter_workspace":function(e,t,n){var s=this.filterForm.getData(),i=n.getRule("keywords");s["passbolt.model.Filter"].keywords!=i&&this.options.keywordsFormElement.setValue(i)}});e.default=s}),define("app/view/template/component/profile_dropdown.ejs!passbolt-mad/lib/can/viewEjsSystem",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("app_view_template_component_profile_dropdown_ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push('<div class="center-cell-wrapper">\n    <div class="details center-cell">\n        <span class="name">'),___v1ew.push(can.view.txt(1,"span",0,this,function(){return user.Profile.first_name})),___v1ew.push(" "),___v1ew.push(can.view.txt(1,"span",0,this,function(){return user.Profile.last_name})),___v1ew.push('</span>\n        <span class="email">'),___v1ew.push(can.view.txt(1,"span",0,this,function(){return user.username})),___v1ew.push('</span>\n    </div>\n</div>\n<div class="picture left-cell">\n    <img '),___v1ew.push(can.view.txt(2,"img","src",this,function(){var e=[];return e.push('src="'),e.push(user.Profile.avatarPath("small")),e.push('"'),e.join("")})),___v1ew.push(' alt="your picture"',can.view.pending({scope:this}),"/>"),___v1ew.push('\n</div>\n<div class="more right-cell">\n    <a><span>more</span></a>\n</div>\n<ul class="dropdown-content right">\n</ul>\n'),___v1ew.join("")}}))}),define("app/component/profile_dropdown",["exports","app/view/template/component/profile_dropdown.ejs!","passbolt-mad/component/component","passbolt-mad/component/button_dropdown","app/model/user"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(t),s=passbolt.component.ProfileDropdown=mad.component.ButtonDropdown.extend("passbolt.component.ProfileDropdown",{defaults:{label:null,cssClasses:[],template:n.default,contentElement:"#js_app_profile_dropdown .dropdown-content",user:null}},{afterStart:function(){this._super();var e=this;e.options.user=passbolt.model.User.getCurrent(),t=new mad.model.Action({id:uuid(),label:"my profile",action:function(t){mad.bus.trigger("request_workspace","settings"),mad.bus.trigger("request_settings_section","profile"),e.view.close()}}),this.options.menu.insertItem(t),t=new mad.model.Action({id:uuid(),label:"manage your keys",action:function(t){mad.bus.trigger("request_workspace","settings"),mad.bus.trigger("request_settings_section","keys"),e.view.close()}}),this.options.menu.insertItem(t);var t=new mad.model.Action({id:uuid(),label:"logout",action:function(e){document.location.href=APP_URL+"/logout"}});this.options.menu.insertItem(t)},beforeRender:function(){this._super(),this.setViewData("user",this.options.user)},"{user} updated":function(e){this.state.is("disabled")||this.state.is(null)||this.refresh()}});e.default=s}),define("app/model/notification",["exports","passbolt-mad/model/model"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=passbolt.model.Notification=mad.Model.extend("passbolt.model.Notification",{attributes:{status:"string",title:"string"}},{});e.default=t}),define("app/view/component/notification",["exports","passbolt-mad/view/view"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=passbolt.view.component.Notification=mad.View.extend("passbolt.view.component.Notification",{defaults:{timeout:2500,notifications:[]}},{init:function(e,t,n){var s=mad.Config.read("notification.timeout");void 0!==s&&(this.options.timeout=s),this._super(e,t)},load:function(e){this.notifications.push(e)},render:function(){var e=this,t=this.getController().options.notifications,n=t.shift();return this.getController().setViewData(n),setTimeout(function(){t.length?e.getController().refresh():e.getController().setState("hidden")},e.options.timeout),this._super()}});e.default=t}),define("app/view/template/component/notification.ejs!passbolt-mad/lib/can/viewEjsSystem",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("app_view_template_component_notification_ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push('<span class="message animated fadeInUp '),___v1ew.push(can.view.txt(!0,"span","class",this,function(){return title})),___v1ew.push(" "),___v1ew.push(can.view.txt(!0,"span","class",this,function(){return status})),___v1ew.push('" id="notification_'),___v1ew.push(can.view.txt(!0,"span","id",this,function(){return id})),___v1ew.push('"',can.view.pending({scope:this}),">"),___v1ew.push("\n    <strong>"),___v1ew.push(can.view.txt(1,"strong",0,this,function(){return status})),___v1ew.push("</strong>\n    "),___v1ew.push(can.view.txt(1,"span",0,this,function(){return message})),___v1ew.push("\n</span>\n"),___v1ew.join("")}}))}),define("app/component/notification",["exports","app/view/template/component/notification.ejs!","passbolt-mad/component/component","app/model/notification","app/view/component/notification","app/util/common"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(t),s=passbolt.component.Notification=mad.Component.extend("passbolt.component.Notification",{defaults:{label:"Notification Component",viewClass:passbolt.view.component.Notification,status:"hidden",notifications:[],template:n.default}},{_readSettings:function(e){var t=mad.Config.read("notification.messages."+e.title);return void 0==t?"error"==e.status?{msg:e.data.header.message,severity:"error"}:null:t},_getNotificationSettings:function(e){var t=this._readSettings(e);return null==t?null:(void 0==can.getObject("severity",t)&&(t.severity=void 0!=e.status?e.status:"notice"),void 0==can.getObject("group",t)&&(t.group="main"),void 0==can.getObject("msg",t)?null:t)},_buildMessage:function(e,t){var n=can.getObject("msg",t),s=n.match(/%([^%]*)%/g),i=e.data;for(var r in s){var a=s[r].replace(/%/g,""),o=can.getObject(a,i);void 0==o&&(o="undefined"),n=n.replace(s[r],o)}return n},_populateNotification:function(e,t){return e.message=this._buildMessage(e,t),e.status=void 0!=e.status?e.status:t.severity,e.severity=t.severity,e.id=passbolt.Common.uuid(e.title),e},_checkShouldBeDisplayed:function(e,t){var n=mad.Config.read("notification.displaySeverity");return void 0!=n&&-1!=n.indexOf(e.severity)},load:function(e){var t=this._getNotificationSettings(e);if(null!==t){var e=this._populateNotification(e,t),n=this._checkShouldBeDisplayed(e,t);null!==e&&!1!==n&&(this.options.notifications.push(e),null==this.view?this.start():this.state.is("hidden")&&(this.refresh(),this.setState("ready")))}},"{mad.bus.element} passbolt_notify":function(e,t,n){this.load(new passbolt.model.Notification(n))}});e.default=s}),define("app/view/component/loading_bar",["exports","passbolt-mad/view/view"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=passbolt.view.component.LoadingBar=mad.View.extend("passbolt.view.component.LoadingBar",{defaults:{}},{update:function(e,t,n){t=void 0===t||t,n=n||null;var s=e+"%";t?$(".progress-bar span",this.element).animate({width:s},n):($(".progress-bar span",this.element).css("width",s),n&&n())}});e.default=t}),define("app/component/loading_bar",["exports","passbolt-mad/component/component","app/view/component/loading_bar"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=passbolt.component.LoadingBar=mad.Component.extend("passbolt.component.LoadingBar",{defaults:{label:"Loading Bar Component",viewClass:passbolt.view.component.LoadingBar,currentProcs:0,previousProcs:0,maxProcs:0,loadingPercent:0,postponedUpdate:!1,progressionLeft:100}},{loading_start:function(e){this.view.update(20,!0,function(){e&&e()})},loading_complete:function(e){var t=this;this.options.progressionLeft=100,this.view.update(100,!0,function(){t.view.update(0,!1),e&&e()})},stateLoading:function(e){},update:function(e){var t=this;if(void 0!==e&&e&&(this.options.postponedUpdate=!1),this.state.is("updating"))this.options.postponedUpdate||(this.options.postponedUpdate=!0,setTimeout(function(){t.update(!0)},100));else{this.state.addState("updating");var n=this.options.currentProcs;if(this.options.maxProcs<n&&(this.options.maxProcs=n),n-this.options.previousProcs)if(n){this.state.is("progressing")||(mad.bus.trigger("passbolt_application_loading",[this]),this.state.addState("progressing"));var s=100/this.options.maxProcs*1/2,i=(this.options.maxProcs-(this.options.maxProcs-this.options.currentProcs))*s;i<=this.options.progressionLeft&&(this.options.progressionLeft=i),this.view.update(100-this.options.progressionLeft,!0,function(){t.state.removeState("updating")})}else this.state.addState("completing"),this.loading_complete(function(){mad.bus.trigger("passbolt_application_loading_completed",[this]),t.state.setState("ready")});else this.state.removeState("updating");this.options.previousProcs=n}},"{mad.bus.element} passbolt_component_loading_start":function(e,t,n){n.options.silentLoading||(this.options.currentProcs++,this.update())},"{mad.bus.element} passbolt_component_loading_complete":function(e,t,n){n.options.silentLoading||(this.options.currentProcs--,this.update())},"{mad.bus.element} mad_ajax_request_start":function(e,t,n){mad.bus.trigger("passbolt_ajax_request_start",n)},"{mad.bus.element} mad_ajax_request_complete":function(e,t,n){mad.bus.trigger("passbolt_ajax_request_complete",n)},"{mad.bus.element} passbolt_ajax_request_start":function(e,t,n){n.silentLoading||(this.options.currentProcs++,this.update())},"{mad.bus.element} passbolt_ajax_request_complete":function(e,t,n){n.silentLoading||(this.options.currentProcs--,this.update())},"{mad.bus.element} passbolt_loading":function(e,t){this.options.currentProcs++,this.update()},"{mad.bus.element} passbolt_loading_complete":function(e,t){this.options.currentProcs--,this.update()}});e.default=t}),define("app/view/template/app.ejs!passbolt-mad/lib/can/viewEjsSystem",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("app_view_template_app_ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push('\x3c!-- app/view/template/app.ejs --\x3e\n<div id="js_app_loading_bar" class="update-loading-bar">\n\t<div class="progress-bar">\n\t\t<span '),___v1ew.push(can.view.txt(2,"span","style",this,function(){var e=[];return e.push('style="'),e.push('width:0%"'),e.join("")})),___v1ew.push('></span>\n\t</div>\n</div>\n<div class="notification-container">\n    <div id="js_app_notificator" class="notification col2_3 push_1">\n    </div>\n</div>\n<div class="header first">\n    <nav>\n        <div class="primary navigation top">\n            <ul id="js_app_navigation_left" class="left">\n            </ul>\n            <ul id="js_app_navigation_right" class="right">\n            </ul>\n        </div>\n    </nav>\n</div>\n<div class="header second">\n    <div class="col1">\n        <div class="logo no-img">\n\t\t\t\t\t<h1><span>Passbolt</span></h1>\n        </div>\n    </div>\n    <div class="col2 search-wrapper">\n        <div id="js_app_filter">\n        </div>\n    </div>\n    <div class="col3 profile-wrapper">\n        <div id="js_app_profile_dropdown" class="user profile dropdown">\n        </div>\n    </div>\n</div>\n<div class="header third">\n    <div class="col1 main-action-wrapper">\n    </div>\n\t<div class="col2_3 actions-wrapper">\n\t\t<div id="js_wsp_primary_menu_wrapper" class="actions">\n\t\t</div>\n\t\t<div id="js_wsp_secondary_menu_wrapper" class="actions secondary">\n\t\t</div>\n\t</div>\n</div>\n<div id="js_app_panel_main" class="panel main">\n</div>\n'),___v1ew.join("")}}))}),define("app/component/app",["exports","app/view/template/app.ejs!","passbolt-mad/component/component","app/util/common","app/component/settings_workspace","app/component/password_workspace","app/component/user_workspace","app/component/app_navigation_left","app/component/app_navigation_right","app/component/app_filter","app/component/profile_dropdown","app/component/notification","app/component/loading_bar","app/model/user"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(t),s=passbolt.component.App=mad.Component.extend("passbolt.component.App",{defaults:{template:n.default,workspaces:["password","user","settings"]}},{workspace:null,afterStart:function(){var e=this;new passbolt.component.AppNavigationLeft($("#js_app_navigation_left")).start(),new passbolt.component.AppNavigationRight($("#js_app_navigation_right")).start(),this.filterCtl=new passbolt.component.AppFilter($("#js_app_filter"),{}),this.filterCtl.start(),passbolt.model.User.findOne({id:mad.Config.read("user.id"),async:!1}).then(function(t){passbolt.model.User.setCurrent(t),e.profileDropDownCtl=new passbolt.component.ProfileDropdown($("#js_app_profile_dropdown"),{user:t}),e.profileDropDownCtl.start()}),new passbolt.component.LoadingBar($("#js_app_loading_bar"),{state:"ready"}).start(),this.initSessionTimeoutCheckLoop()},initSessionTimeoutCheckLoop:function(){setTimeout(function(){var e=setInterval(function(){mad.net.Ajax.request({url:APP_URL+"auth/checkSession.json",type:"GET"}).fail(function(){clearInterval(e)})},mad.Config.read("session.checkTimeInterval"))},mad.Config.read("session.checkTimeInterval"))},"{mad.bus.element} request_workspace":function(e,t,n,s){s=s||{},null!=this.workspace&&($("#container").removeClass(),this.workspace.destroy(),$("#js_app_panel_main").empty(),mad.component.ContextualMenu.remove()),$("#container").addClass("page "+n);var i="js_passbolt_"+n+"_workspace_controller",r=passbolt.component[can.capitalize(n)+"Workspace"],a={id:i,label:n};$.extend(a,s),this.workspace=mad.helper.Component.create($("#js_app_panel_main"),"last",r,a),this.workspace.start(),mad.bus.trigger("workspace_enabled",this.workspace)},"{mad.bus.element} request_dialog":function(e,t,n){var n=n||{};new mad.component.Dialog(null,n).start()},"{mad.bus.element} remove_all_focuses":function(e,t,n){$(":focus").blur()},"{mad.bus.element} passbolt_application_loading_completed":function(e,t,n){$("html").hasClass("loaded")||$("html").removeClass("loading").addClass("loaded")},"{mad.bus.element} passbolt_application_loading":function(e,t,n){$("html").hasClass("loading")||$("html").removeClass("loaded").addClass("loading")},"{mad.bus.element} request_dialog_close_latest":function(e,t,n){mad.component.Dialog.closeLatest()},"{window} p3_narrow_checked":function(e,t){mad.bus.trigger("passbolt.html_helper.window_resized")},stateLoading:function(e){this.view&&this.view.loading(e)},stateReady:function(e){mad.bus.trigger("request_workspace","password"),$("html").removeClass("launching")}});e.default=s}),define("app/bootstrap",["exports","moment","app/util/util","app/util/common","moment-timezone","passbolt-mad","passbolt-mad/bootstrap","app/error/error_handler","app/net/response_handler","app/component/app"],function(e,t,n,s){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(t),a=i(n),o=i(s),u=a.default.Bootstrap=mad.Bootstrap.extend("passbolt.Bootstrap",{defaults:{}},{init:function(e){this._super(e),this.loadViewHelpers()},loadViewHelpers:function(){can.ejs.Helpers.prototype.moment=r.default,can.ejs.Helpers.prototype.datetimeToJSDate=o.default.datetimeToJSDate,can.ejs.Helpers.prototype.datetimeGetTimeAgo=o.default.datetimeGetTimeAgo}});e.default=u}),define("lib/p3_narrow/p3.narrow",["module","@loader","require"],function(e,t,n){t.get("@@global-helpers").prepareGlobal({require:n,name:e.id,deps:[]});var s=t.global.define,n=t.global.require;return t.global.define=void 0,t.global.module=void 0,t.global.exports=void 0,t.__exec({source:'!function(e,n,t){"use strict";var i=e.p3||{},o={el:"body",sizes:{threetwo:320,four:400,five:500,six:600,sixfive:650,seven:700,sevensome:768,eightfive:850,nine:900,tablet:480,desktop:1024,wide:1350,large:1600},onResize:!0,onLoad:!0,delay:100};i.narrow=function(i){function d(){return"number"==typeof n.innerWidth?n.innerWidth:t.documentElement&&t.documentElement.clientWidth?t.documentElement.clientWidth:void 0}function r(){var n="",t=d();e.each(c.sizes,function(e,i){t>=i?n+=" "+e:a.removeClass(e)}),a.addClass(n),e(window).trigger("p3_narrow_checked")}function s(e,n){f||(f=!0,setTimeout(function(){f=!1},n),e())}var c=e.extend(!0,o,i||{}),u=e(n),a=e(c.el),f=!1;c.onResize&&u.resize(function(){s(r,c.delay)}),c.onLoad&&u.ready(r)},e.p3=i}(jQuery,this,document);',address:e.uri}),t.global.require=n,t.global.define=s,t.get("@@global-helpers").retrieveGlobal(e.id,void 0)}),define("app/config/notification.json",[],function(){return{notification:{timeout:1e4,displaySeverity:["success","error"],messages:{app_resources_index_success:{msg:"The passwords have been loaded",severity:"notice"},app_resources_add_success:{msg:"The password %body.Resource.name% has been created"},app_resources_delete_success:{msg:"The password has been deleted"},app_resources_edit_success:{msg:"The password %body.Resource.name% has been updated successfully"},app_users_add_success:{msg:"The user %body.User.username% has been added successfully"},app_users_delete_success:{msg:"The user has been deleted"},app_users_edit_success:{msg:"The user %body.User.username% has been updated successfully"},app_users_editavatar_success:{msg:"The picture for user %body.User.username% has been updated successfully"},app_users_editavatar_error:{msg:"%header.message%"},plugin_secret_copy_success:{msg:"The password has been copied to clipboard"},plugin_clipboard_copy_success:{msg:"The %name% has been copied to clipboard"},app_favorites_add_success:{msg:"The password has been added as a favorite"},app_favorites_delete_success:{msg:"The password has been removed from favorites"},app_comments_addforeigncomment_success:{msg:"The comment has been added"},app_comments_delete_success:{msg:"The comment has been deleted"},app_share_update_success:{msg:"The permissions have been updated successfully"},app_groups_add_success:{msg:"The group has been added successfully"},app_groups_edit_success:{msg:"The group has been edited successfully"},app_groups_add_error:{msg:"The group could not be saved"},app_groups_delete_success:{msg:"The group has been deleted"}}}}}),define("app/config/config.json",[],function(){return{app:{controllerElt:"#js_app_controller",namespace:"passbolt",ControllerClassName:"passbolt.component.App"},ui:{workspace:{showSidebar:!0}},notification:{timeout:6e3},error:{ErrorHandlerClassName:"passbolt.error.ErrorHandler"},event:{eventBusControllerElt:"#js_bus_controller"},secret:{generator:{masks:["alpha","uppercase","digit","special"],length:13}},net:{ResponseHandlerClassName:"passbolt.net.ResponseHandler"},session:{checkTimeInterval:6e4}}}),define("passbolt",["app/config/notification.json","app/config/config.json","passbolt-mad","app/bootstrap","lib/p3_narrow/p3.narrow"],function(e,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var s=n(e),i=n(t);$(document).ready(function(){$.p3.narrow({sizes:{fourfour:440,fourheight:480,fivefour:540,six:600,ninefive:980,nineheight:980}}),mad.Config.load(cakephpConfig),mad.Config.load(i.default),mad.Config.load(s.default),new passbolt.Bootstrap})});